var Sz=Object.defineProperty;var xz=(t,e,n)=>e in t?Sz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var u_=(t,e,n)=>xz(t,typeof e!="symbol"?e+"":e,n);function Az(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function bo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c_={exports:{}},kf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC;function wz(){if(JC)return kf;JC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return kf.Fragment=e,kf.jsx=n,kf.jsxs=n,kf}var XC;function Cz(){return XC||(XC=1,c_.exports=wz()),c_.exports}var S=Cz(),f_={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC;function Iz(){if(QC)return Fe;QC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function E(K){return K===null||typeof K!="object"?null:(K=v&&K[v]||K["@@iterator"],typeof K=="function"?K:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function R(K,le,Ee){this.props=K,this.context=le,this.refs=C,this.updater=Ee||A}R.prototype.isReactComponent={},R.prototype.setState=function(K,le){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,le,"setState")},R.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function z(){}z.prototype=R.prototype;function D(K,le,Ee){this.props=K,this.context=le,this.refs=C,this.updater=Ee||A}var q=D.prototype=new z;q.constructor=D,x(q,R.prototype),q.isPureReactComponent=!0;var F=Array.isArray;function G(){}var O={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function M(K,le,Ee){var se=Ee.ref;return{$$typeof:t,type:K,key:le,ref:se!==void 0?se:null,props:Ee}}function V(K,le){return M(K.type,le,K.props)}function U(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function B(K){var le={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(Ee){return le[Ee]})}var H=/\/+/g;function Se(K,le){return typeof K=="object"&&K!==null&&K.key!=null?B(""+K.key):le.toString(36)}function we(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(G,G):(K.status="pending",K.then(function(le){K.status==="pending"&&(K.status="fulfilled",K.value=le)},function(le){K.status==="pending"&&(K.status="rejected",K.reason=le)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function X(K,le,Ee,se,he){var be=typeof K;(be==="undefined"||be==="boolean")&&(K=null);var Te=!1;if(K===null)Te=!0;else switch(be){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(K.$$typeof){case t:case e:Te=!0;break;case h:return Te=K._init,X(Te(K._payload),le,Ee,se,he)}}if(Te)return he=he(K),Te=se===""?"."+Se(K,0):se,F(he)?(Ee="",Te!=null&&(Ee=Te.replace(H,"$&/")+"/"),X(he,le,Ee,"",function(_e){return _e})):he!=null&&(U(he)&&(he=V(he,Ee+(he.key==null||K&&K.key===he.key?"":(""+he.key).replace(H,"$&/")+"/")+Te)),le.push(he)),1;Te=0;var te=se===""?".":se+":";if(F(K))for(var W=0;W<K.length;W++)se=K[W],be=te+Se(se,W),Te+=X(se,le,Ee,be,he);else if(W=E(K),typeof W=="function")for(K=W.call(K),W=0;!(se=K.next()).done;)se=se.value,be=te+Se(se,W++),Te+=X(se,le,Ee,be,he);else if(be==="object"){if(typeof K.then=="function")return X(we(K),le,Ee,se,he);throw le=String(K),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return Te}function ue(K,le,Ee){if(K==null)return K;var se=[],he=0;return X(K,se,"","",function(be){return le.call(Ee,be,he++)}),se}function ye(K){if(K._status===-1){var le=K._result;le=le(),le.then(function(Ee){(K._status===0||K._status===-1)&&(K._status=1,K._result=Ee)},function(Ee){(K._status===0||K._status===-1)&&(K._status=2,K._result=Ee)}),K._status===-1&&(K._status=0,K._result=le)}if(K._status===1)return K._result.default;throw K._result}var ve=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},Ve={map:ue,forEach:function(K,le,Ee){ue(K,function(){le.apply(this,arguments)},Ee)},count:function(K){var le=0;return ue(K,function(){le++}),le},toArray:function(K){return ue(K,function(le){return le})||[]},only:function(K){if(!U(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return Fe.Activity=m,Fe.Children=Ve,Fe.Component=R,Fe.Fragment=n,Fe.Profiler=i,Fe.PureComponent=D,Fe.StrictMode=r,Fe.Suspense=f,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(K){return O.H.useMemoCache(K)}},Fe.cache=function(K){return function(){return K.apply(null,arguments)}},Fe.cacheSignal=function(){return null},Fe.cloneElement=function(K,le,Ee){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var se=x({},K.props),he=K.key;if(le!=null)for(be in le.key!==void 0&&(he=""+le.key),le)!k.call(le,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&le.ref===void 0||(se[be]=le[be]);var be=arguments.length-2;if(be===1)se.children=Ee;else if(1<be){for(var Te=Array(be),te=0;te<be;te++)Te[te]=arguments[te+2];se.children=Te}return M(K.type,he,se)},Fe.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:o,_context:K},K},Fe.createElement=function(K,le,Ee){var se,he={},be=null;if(le!=null)for(se in le.key!==void 0&&(be=""+le.key),le)k.call(le,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(he[se]=le[se]);var Te=arguments.length-2;if(Te===1)he.children=Ee;else if(1<Te){for(var te=Array(Te),W=0;W<Te;W++)te[W]=arguments[W+2];he.children=te}if(K&&K.defaultProps)for(se in Te=K.defaultProps,Te)he[se]===void 0&&(he[se]=Te[se]);return M(K,be,he)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(K){return{$$typeof:u,render:K}},Fe.isValidElement=U,Fe.lazy=function(K){return{$$typeof:h,_payload:{_status:-1,_result:K},_init:ye}},Fe.memo=function(K,le){return{$$typeof:d,type:K,compare:le===void 0?null:le}},Fe.startTransition=function(K){var le=O.T,Ee={};O.T=Ee;try{var se=K(),he=O.S;he!==null&&he(Ee,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(G,ve)}catch(be){ve(be)}finally{le!==null&&Ee.types!==null&&(le.types=Ee.types),O.T=le}},Fe.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Fe.use=function(K){return O.H.use(K)},Fe.useActionState=function(K,le,Ee){return O.H.useActionState(K,le,Ee)},Fe.useCallback=function(K,le){return O.H.useCallback(K,le)},Fe.useContext=function(K){return O.H.useContext(K)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(K,le){return O.H.useDeferredValue(K,le)},Fe.useEffect=function(K,le){return O.H.useEffect(K,le)},Fe.useEffectEvent=function(K){return O.H.useEffectEvent(K)},Fe.useId=function(){return O.H.useId()},Fe.useImperativeHandle=function(K,le,Ee){return O.H.useImperativeHandle(K,le,Ee)},Fe.useInsertionEffect=function(K,le){return O.H.useInsertionEffect(K,le)},Fe.useLayoutEffect=function(K,le){return O.H.useLayoutEffect(K,le)},Fe.useMemo=function(K,le){return O.H.useMemo(K,le)},Fe.useOptimistic=function(K,le){return O.H.useOptimistic(K,le)},Fe.useReducer=function(K,le,Ee){return O.H.useReducer(K,le,Ee)},Fe.useRef=function(K){return O.H.useRef(K)},Fe.useState=function(K){return O.H.useState(K)},Fe.useSyncExternalStore=function(K,le,Ee){return O.H.useSyncExternalStore(K,le,Ee)},Fe.useTransition=function(){return O.H.useTransition()},Fe.version="19.2.1",Fe}var ZC;function pc(){return ZC||(ZC=1,f_.exports=Iz()),f_.exports}var P=pc();const eS=bo(P),Pz=Az({__proto__:null,default:eS},[P]);var d_={exports:{}},Lf={},h_={exports:{}},p_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eI;function Nz(){return eI||(eI=1,(function(t){function e(X,ue){var ye=X.length;X.push(ue);e:for(;0<ye;){var ve=ye-1>>>1,Ve=X[ve];if(0<i(Ve,ue))X[ve]=ue,X[ye]=Ve,ye=ve;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ue=X[0],ye=X.pop();if(ye!==ue){X[0]=ye;e:for(var ve=0,Ve=X.length,K=Ve>>>1;ve<K;){var le=2*(ve+1)-1,Ee=X[le],se=le+1,he=X[se];if(0>i(Ee,ye))se<Ve&&0>i(he,Ee)?(X[ve]=he,X[se]=ye,ve=se):(X[ve]=Ee,X[le]=ye,ve=le);else if(se<Ve&&0>i(he,ye))X[ve]=he,X[se]=ye,ve=se;else break e}}return ue}function i(X,ue){var ye=X.sortIndex-ue.sortIndex;return ye!==0?ye:X.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],d=[],h=1,m=null,v=3,E=!1,A=!1,x=!1,C=!1,R=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function q(X){for(var ue=n(d);ue!==null;){if(ue.callback===null)r(d);else if(ue.startTime<=X)r(d),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=n(d)}}function F(X){if(x=!1,q(X),!A)if(n(f)!==null)A=!0,G||(G=!0,B());else{var ue=n(d);ue!==null&&we(F,ue.startTime-X)}}var G=!1,O=-1,k=5,M=-1;function V(){return C?!0:!(t.unstable_now()-M<k)}function U(){if(C=!1,G){var X=t.unstable_now();M=X;var ue=!0;try{e:{A=!1,x&&(x=!1,z(O),O=-1),E=!0;var ye=v;try{t:{for(q(X),m=n(f);m!==null&&!(m.expirationTime>X&&V());){var ve=m.callback;if(typeof ve=="function"){m.callback=null,v=m.priorityLevel;var Ve=ve(m.expirationTime<=X);if(X=t.unstable_now(),typeof Ve=="function"){m.callback=Ve,q(X),ue=!0;break t}m===n(f)&&r(f),q(X)}else r(f);m=n(f)}if(m!==null)ue=!0;else{var K=n(d);K!==null&&we(F,K.startTime-X),ue=!1}}break e}finally{m=null,v=ye,E=!1}ue=void 0}}finally{ue?B():G=!1}}}var B;if(typeof D=="function")B=function(){D(U)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Se=H.port2;H.port1.onmessage=U,B=function(){Se.postMessage(null)}}else B=function(){R(U,0)};function we(X,ue){O=R(function(){X(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(X){switch(v){case 1:case 2:case 3:var ue=3;break;default:ue=v}var ye=v;v=ue;try{return X()}finally{v=ye}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ye=v;v=X;try{return ue()}finally{v=ye}},t.unstable_scheduleCallback=function(X,ue,ye){var ve=t.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ve+ye:ve):ye=ve,X){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=ye+Ve,X={id:h++,callback:ue,priorityLevel:X,startTime:ye,expirationTime:Ve,sortIndex:-1},ye>ve?(X.sortIndex=ye,e(d,X),n(f)===null&&X===n(d)&&(x?(z(O),O=-1):x=!0,we(F,ye-ve))):(X.sortIndex=Ve,e(f,X),A||E||(A=!0,G||(G=!0,B()))),X},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(X){var ue=v;return function(){var ye=v;v=ue;try{return X.apply(this,arguments)}finally{v=ye}}}})(p_)),p_}var tI;function Rz(){return tI||(tI=1,h_.exports=Nz()),h_.exports}var m_={exports:{}},Hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nI;function Mz(){if(nI)return Hn;nI=1;var t=pc();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:d,implementation:h}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hn.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,h)},Hn.flushSync=function(f){var d=l.T,h=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=h,r.d.f()}},Hn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Hn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Hn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:E}):h==="script"&&r.d.X(f,{crossOrigin:m,integrity:v,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Hn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Hn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Hn.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Hn.requestFormReset=function(f){r.d.r(f)},Hn.unstable_batchedUpdates=function(f,d){return f(d)},Hn.useFormState=function(f,d,h){return l.H.useFormState(f,d,h)},Hn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Hn.version="19.2.1",Hn}var rI;function PO(){if(rI)return m_.exports;rI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),m_.exports=Mz(),m_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iI;function Dz(){if(iI)return Lf;iI=1;var t=Rz(),e=pc(),n=PO();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function d(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,p=s;;){var b=c.return;if(b===null)break;var T=b.alternate;if(T===null){if(p=b.return,p!==null){c=p;continue}break}if(b.child===T.child){for(T=b.child;T;){if(T===c)return f(b),a;if(T===p)return f(b),s;T=T.sibling}throw Error(r(188))}if(c.return!==p.return)c=b,p=T;else{for(var I=!1,L=b.child;L;){if(L===c){I=!0,c=b,p=T;break}if(L===p){I=!0,p=b,c=T;break}L=L.sibling}if(!I){for(L=T.child;L;){if(L===c){I=!0,c=T,p=b;break}if(L===p){I=!0,p=T,c=b;break}L=L.sibling}if(!I)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function h(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=h(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),D=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var H=Symbol.for("react.client.reference");function Se(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===H?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case x:return"Fragment";case R:return"Profiler";case C:return"StrictMode";case F:return"Suspense";case G:return"SuspenseList";case M:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case A:return"Portal";case D:return a.displayName||"Context";case z:return(a._context.displayName||"Context")+".Consumer";case q:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return s=a.displayName||null,s!==null?s:Se(a.type)||"Memo";case k:s=a._payload,a=a._init;try{return Se(a(s))}catch{}}return null}var we=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ve=[],Ve=-1;function K(a){return{current:a}}function le(a){0>Ve||(a.current=ve[Ve],ve[Ve]=null,Ve--)}function Ee(a,s){Ve++,ve[Ve]=a.current,a.current=s}var se=K(null),he=K(null),be=K(null),Te=K(null);function te(a,s){switch(Ee(be,s),Ee(he,a),Ee(se,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?_C(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=_C(s),a=bC(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}le(se),Ee(se,a)}function W(){le(se),le(he),le(be)}function _e(a){a.memoizedState!==null&&Ee(Te,a);var s=se.current,c=bC(s,a.type);s!==c&&(Ee(he,a),Ee(se,c))}function ge(a){he.current===a&&(le(se),le(he)),Te.current===a&&(le(Te),Rf._currentValue=ye)}var re,Me;function Le(a){if(re===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);re=s&&s[1]||"",Me=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+a+Me}var it=!1;function We(a,s){if(!a||it)return"";it=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(ae){var ne=ae}Reflect.construct(a,[],de)}else{try{de.call()}catch(ae){ne=ae}a.call(de.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(de=a())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=p.DetermineComponentFrameRoot(),I=T[0],L=T[1];if(I&&L){var $=I.split(`
`),ee=L.split(`
`);for(b=p=0;p<$.length&&!$[p].includes("DetermineComponentFrameRoot");)p++;for(;b<ee.length&&!ee[b].includes("DetermineComponentFrameRoot");)b++;if(p===$.length||b===ee.length)for(p=$.length-1,b=ee.length-1;1<=p&&0<=b&&$[p]!==ee[b];)b--;for(;1<=p&&0<=b;p--,b--)if($[p]!==ee[b]){if(p!==1||b!==1)do if(p--,b--,0>b||$[p]!==ee[b]){var ce=`
`+$[p].replace(" at new "," at ");return a.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",a.displayName)),ce}while(1<=p&&0<=b);break}}}finally{it=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Le(c):""}function Zn(a,s){switch(a.tag){case 26:case 27:case 5:return Le(a.type);case 16:return Le("Lazy");case 13:return a.child!==s&&s!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return We(a.type,!1);case 11:return We(a.type.render,!1);case 1:return We(a.type,!0);case 31:return Le("Activity");default:return""}}function Li(a){try{var s="",c=null;do s+=Zn(a,c),c=a,a=a.return;while(a);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var qt=Object.prototype.hasOwnProperty,dn=t.unstable_scheduleCallback,ya=t.unstable_cancelCallback,fv=t.unstable_shouldYield,dh=t.unstable_requestPaint,er=t.unstable_now,Ns=t.unstable_getCurrentPriorityLevel,Dc=t.unstable_ImmediatePriority,Oc=t.unstable_UserBlockingPriority,va=t.unstable_NormalPriority,dv=t.unstable_LowPriority,hh=t.unstable_IdlePriority,ph=t.log,mh=t.unstable_setDisableYieldValue,ui=null,Dn=null;function Vr(a){if(typeof ph=="function"&&mh(a),Dn&&typeof Dn.setStrictMode=="function")try{Dn.setStrictMode(ui,a)}catch{}}var Ht=Math.clz32?Math.clz32:yh,gh=Math.log,zl=Math.LN2;function yh(a){return a>>>=0,a===0?32:31-(gh(a)/zl|0)|0}var Ui=256,Rs=262144,Zt=4194304;function Vi(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function qi(a,s,c){var p=a.pendingLanes;if(p===0)return 0;var b=0,T=a.suspendedLanes,I=a.pingedLanes;a=a.warmLanes;var L=p&134217727;return L!==0?(p=L&~T,p!==0?b=Vi(p):(I&=L,I!==0?b=Vi(I):c||(c=L&~a,c!==0&&(b=Vi(c))))):(L=p&~T,L!==0?b=Vi(L):I!==0?b=Vi(I):c||(c=p&~a,c!==0&&(b=Vi(c)))),b===0?0:s!==0&&s!==b&&(s&T)===0&&(T=b&-b,c=s&-s,T>=c||T===32&&(c&4194048)!==0)?s:b}function ci(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function hv(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vh(){var a=Zt;return Zt<<=1,(Zt&62914560)===0&&(Zt=4194304),a}function zi(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function Ms(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function pv(a,s,c,p,b,T){var I=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var L=a.entanglements,$=a.expirationTimes,ee=a.hiddenUpdates;for(c=I&~c;0<c;){var ce=31-Ht(c),de=1<<ce;L[ce]=0,$[ce]=-1;var ne=ee[ce];if(ne!==null)for(ee[ce]=null,ce=0;ce<ne.length;ce++){var ae=ne[ce];ae!==null&&(ae.lane&=-536870913)}c&=~de}p!==0&&Ds(a,p,0),T!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=T&~(I&~s))}function Ds(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var p=31-Ht(s);a.entangledLanes|=s,a.entanglements[p]=a.entanglements[p]|1073741824|c&261930}function kc(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var p=31-Ht(c),b=1<<p;b&s|a[p]&s&&(a[p]|=s),c&=~b}}function Lc(a,s){var c=s&-s;return c=(c&42)!==0?1:Os(c),(c&(a.suspendedLanes|s))!==0?0:c}function Os(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Eo(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function _h(){var a=ue.p;return a!==0?a:(a=window.event,a===void 0?32:FC(a.type))}function fi(a,s){var c=ue.p;try{return ue.p=a,s()}finally{ue.p=c}}var di=Math.random().toString(36).slice(2),en="__reactFiber$"+di,Sn="__reactProps$"+di,Bi="__reactContainer$"+di,Bl="__reactEvents$"+di,mv="__reactListeners$"+di,bh="__reactHandles$"+di,Eh="__reactResources$"+di,ji="__reactMarker$"+di;function jl(a){delete a[en],delete a[Sn],delete a[Bl],delete a[mv],delete a[bh]}function Fi(a){var s=a[en];if(s)return s;for(var c=a.parentNode;c;){if(s=c[Bi]||c[en]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=CC(a);a!==null;){if(c=a[en])return c;a=CC(a)}return s}a=c,c=a.parentNode}return null}function qr(a){if(a=a[en]||a[Bi]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Sr(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Hi(a){var s=a[Eh];return s||(s=a[Eh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function tn(a){a[ji]=!0}var Uc=new Set,Vc={};function Gi(a,s){$i(a,s),$i(a+"Capture",s)}function $i(a,s){for(Vc[a]=s,a=0;a<s.length;a++)Uc.add(s[a])}var qc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zc={},Bc={};function Th(a){return qt.call(Bc,a)?!0:qt.call(zc,a)?!1:qc.test(a)?Bc[a]=!0:(zc[a]=!0,!1)}function Fl(a,s,c){if(Th(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function xr(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function nn(a,s,c,p){if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+p)}}function xn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function _a(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function jc(a,s,c){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,T=p.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return b.call(this)},set:function(I){c=""+I,T.call(this,I)}}),Object.defineProperty(a,s,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(I){c=""+I},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function pt(a){if(!a._valueTracker){var s=_a(a)?"checked":"value";a._valueTracker=jc(a,s,""+a[s])}}function ks(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return a&&(p=_a(a)?a.checked?"true":"false":a.value),a=p,a!==c?(s.setValue(a),!0):!1}function Ki(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Ls=/[\n"\\]/g;function ur(a){return a.replace(Ls,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Hl(a,s,c,p,b,T,I,L){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),s!=null?I==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+xn(s)):a.value!==""+xn(s)&&(a.value=""+xn(s)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),s!=null?Fc(a,I,xn(s)):c!=null?Fc(a,I,xn(c)):p!=null&&a.removeAttribute("value"),b==null&&T!=null&&(a.defaultChecked=!!T),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?a.name=""+xn(L):a.removeAttribute("name")}function Sh(a,s,c,p,b,T,I,L){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.type=T),s!=null||c!=null){if(!(T!=="submit"&&T!=="reset"||s!=null)){pt(a);return}c=c!=null?""+xn(c):"",s=s!=null?""+xn(s):c,L||s===a.value||(a.value=s),a.defaultValue=s}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=L?a.checked:!!p,a.defaultChecked=!!p,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I),pt(a)}function Fc(a,s,c){s==="number"&&Ki(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function ba(a,s,c,p){if(a=a.options,s){s={};for(var b=0;b<c.length;b++)s["$"+c[b]]=!0;for(c=0;c<a.length;c++)b=s.hasOwnProperty("$"+a[c].value),a[c].selected!==b&&(a[c].selected=b),b&&p&&(a[c].defaultSelected=!0)}else{for(c=""+xn(c),s=null,b=0;b<a.length;b++){if(a[b].value===c){a[b].selected=!0,p&&(a[b].defaultSelected=!0);return}s!==null||a[b].disabled||(s=a[b])}s!==null&&(s.selected=!0)}}function xh(a,s,c){if(s!=null&&(s=""+xn(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+xn(c):""}function Ea(a,s,c,p){if(s==null){if(p!=null){if(c!=null)throw Error(r(92));if(we(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),s=c}c=xn(s),a.defaultValue=c,p=a.textContent,p===c&&p!==""&&p!==null&&(a.value=p),pt(a)}function cr(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var Ah=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hc(a,s,c){var p=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":p?a.setProperty(s,c):typeof c!="number"||c===0||Ah.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function Gc(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var b in s)p=s[b],s.hasOwnProperty(b)&&c[b]!==p&&Hc(a,b,p)}else for(var T in s)s.hasOwnProperty(T)&&Hc(a,T,s[T])}function Gl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ta=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $l(a){return Ta.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function hi(){}var $c=null;function zr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Sa=null,Yi=null;function Us(a){var s=qr(a);if(s&&(a=s.stateNode)){var c=a[Sn]||null;e:switch(a=s.stateNode,s.type){case"input":if(Hl(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ur(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==a&&p.form===a.form){var b=p[Sn]||null;if(!b)throw Error(r(90));Hl(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<c.length;s++)p=c[s],p.form===a.form&&ks(p)}break e;case"textarea":xh(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&ba(a,!!c.multiple,s,!1)}}}var Kl=!1;function xa(a,s,c){if(Kl)return a(s,c);Kl=!0;try{var p=a(s);return p}finally{if(Kl=!1,(Sa!==null||Yi!==null)&&(_p(),Sa&&(s=Sa,a=Yi,Yi=Sa=null,Us(s),a)))for(s=0;s<a.length;s++)Us(a[s])}}function pi(a,s){var c=a.stateNode;if(c===null)return null;var p=c[Sn]||null;if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=!1;if(Br)try{var vt={};Object.defineProperty(vt,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",vt,vt),window.removeEventListener("test",vt,vt)}catch{Vs=!1}var Wi=null,Kc=null,qs=null;function Yc(){if(qs)return qs;var a,s=Kc,c=s.length,p,b="value"in Wi?Wi.value:Wi.textContent,T=b.length;for(a=0;a<c&&s[a]===b[a];a++);var I=c-a;for(p=1;p<=I&&s[c-p]===b[T-p];p++);return qs=b.slice(a,1<p?1-p:void 0)}function zs(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function To(){return!0}function mi(){return!1}function On(a){function s(c,p,b,T,I){this._reactName=c,this._targetInst=b,this.type=p,this.nativeEvent=T,this.target=I,this.currentTarget=null;for(var L in a)a.hasOwnProperty(L)&&(c=a[L],this[L]=c?c(T):T[L]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?To:mi,this.isPropagationStopped=mi,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),s}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=On(So),Aa=m({},So,{view:0,detail:0}),Wc=On(Aa),wa,Yl,Xi,Wl=m({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Xi&&(Xi&&a.type==="mousemove"?(wa=a.screenX-Xi.screenX,Yl=a.screenY-Xi.screenY):Yl=wa=0,Xi=a),wa)},movementY:function(a){return"movementY"in a?a.movementY:Yl}}),Jc=On(Wl),Bs=m({},Wl,{dataTransfer:0}),Ch=On(Bs),Ih=m({},Aa,{relatedTarget:0}),js=On(Ih),Xc=m({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),Ph=On(Xc),Jl=m({},So,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Nh=On(Jl),Rh=m({},So,{data:0}),Qi=On(Rh),Mh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kh(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Oh[a])?!!s[a]:!1}function Ca(){return kh}var tr=m({},Aa,{key:function(a){if(a.key){var s=Mh[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=zs(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Dh[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(a){return a.type==="keypress"?zs(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?zs(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Lh=On(tr),Uh=m({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xo=On(Uh),_=m({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca}),w=On(_),N=m({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),j=On(N),Q=m({},Wl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=On(Q),xe=m({},So,{newState:0,oldState:0}),$e=On(xe),Gt=[9,13,27,32],ct=Br&&"CompositionEvent"in window,Dt=null;Br&&"documentMode"in document&&(Dt=document.documentMode);var jr=Br&&"TextEvent"in window&&!Dt,Zi=Br&&(!ct||Dt&&8<Dt&&11>=Dt),gi=" ",yi=!1;function Fs(a,s){switch(a){case"keyup":return Gt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ql=!1;function K5(a,s){switch(a){case"compositionend":return Xl(s);case"keypress":return s.which!==32?null:(yi=!0,gi);case"textInput":return a=s.data,a===gi&&yi?null:a;default:return null}}function Y5(a,s){if(Ql)return a==="compositionend"||!ct&&Fs(a,s)?(a=Yc(),qs=Kc=Wi=null,Ql=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Zi&&s.locale!=="ko"?null:s.data;default:return null}}var W5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NA(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!W5[a.type]:s==="textarea"}function RA(a,s,c,p){Sa?Yi?Yi.push(p):Yi=[p]:Sa=p,s=wp(s,"onChange"),0<s.length&&(c=new Ji("onChange","change",null,c,p),a.push({event:c,listeners:s}))}var Qc=null,Zc=null;function J5(a){hC(a,0)}function Vh(a){var s=Sr(a);if(ks(s))return a}function MA(a,s){if(a==="change")return s}var DA=!1;if(Br){var gv;if(Br){var yv="oninput"in document;if(!yv){var OA=document.createElement("div");OA.setAttribute("oninput","return;"),yv=typeof OA.oninput=="function"}gv=yv}else gv=!1;DA=gv&&(!document.documentMode||9<document.documentMode)}function kA(){Qc&&(Qc.detachEvent("onpropertychange",LA),Zc=Qc=null)}function LA(a){if(a.propertyName==="value"&&Vh(Zc)){var s=[];RA(s,Zc,a,zr(a)),xa(J5,s)}}function X5(a,s,c){a==="focusin"?(kA(),Qc=s,Zc=c,Qc.attachEvent("onpropertychange",LA)):a==="focusout"&&kA()}function Q5(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Vh(Zc)}function Z5(a,s){if(a==="click")return Vh(s)}function eq(a,s){if(a==="input"||a==="change")return Vh(s)}function tq(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Ar=typeof Object.is=="function"?Object.is:tq;function ef(a,s){if(Ar(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var b=c[p];if(!qt.call(s,b)||!Ar(a[b],s[b]))return!1}return!0}function UA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function VA(a,s){var c=UA(a);a=0;for(var p;c;){if(c.nodeType===3){if(p=a+c.textContent.length,a<=s&&p>=s)return{node:c,offset:s-a};a=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=UA(c)}}function qA(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?qA(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function zA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Ki(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=Ki(a.document)}return s}function vv(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var nq=Br&&"documentMode"in document&&11>=document.documentMode,Zl=null,_v=null,tf=null,bv=!1;function BA(a,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;bv||Zl==null||Zl!==Ki(p)||(p=Zl,"selectionStart"in p&&vv(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),tf&&ef(tf,p)||(tf=p,p=wp(_v,"onSelect"),0<p.length&&(s=new Ji("onSelect","select",null,s,c),a.push({event:s,listeners:p}),s.target=Zl)))}function Hs(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var eu={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},Ev={},jA={};Br&&(jA=document.createElement("div").style,"AnimationEvent"in window||(delete eu.animationend.animation,delete eu.animationiteration.animation,delete eu.animationstart.animation),"TransitionEvent"in window||delete eu.transitionend.transition);function Gs(a){if(Ev[a])return Ev[a];if(!eu[a])return a;var s=eu[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in jA)return Ev[a]=s[c];return a}var FA=Gs("animationend"),HA=Gs("animationiteration"),GA=Gs("animationstart"),rq=Gs("transitionrun"),iq=Gs("transitionstart"),oq=Gs("transitioncancel"),$A=Gs("transitionend"),KA=new Map,Tv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tv.push("scrollEnd");function vi(a,s){KA.set(a,s),Gi(s,[a])}var qh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Fr=[],tu=0,Sv=0;function zh(){for(var a=tu,s=Sv=tu=0;s<a;){var c=Fr[s];Fr[s++]=null;var p=Fr[s];Fr[s++]=null;var b=Fr[s];Fr[s++]=null;var T=Fr[s];if(Fr[s++]=null,p!==null&&b!==null){var I=p.pending;I===null?b.next=b:(b.next=I.next,I.next=b),p.pending=b}T!==0&&YA(c,b,T)}}function Bh(a,s,c,p){Fr[tu++]=a,Fr[tu++]=s,Fr[tu++]=c,Fr[tu++]=p,Sv|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function xv(a,s,c,p){return Bh(a,s,c,p),jh(a)}function $s(a,s){return Bh(a,null,null,s),jh(a)}function YA(a,s,c){a.lanes|=c;var p=a.alternate;p!==null&&(p.lanes|=c);for(var b=!1,T=a.return;T!==null;)T.childLanes|=c,p=T.alternate,p!==null&&(p.childLanes|=c),T.tag===22&&(a=T.stateNode,a===null||a._visibility&1||(b=!0)),a=T,T=T.return;return a.tag===3?(T=a.stateNode,b&&s!==null&&(b=31-Ht(c),a=T.hiddenUpdates,p=a[b],p===null?a[b]=[s]:p.push(s),s.lane=c|536870912),T):null}function jh(a){if(50<xf)throw xf=0,D0=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var nu={};function aq(a,s,c,p){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wr(a,s,c,p){return new aq(a,s,c,p)}function Av(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ao(a,s){var c=a.alternate;return c===null?(c=wr(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function WA(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Fh(a,s,c,p,b,T){var I=0;if(p=a,typeof a=="function")Av(a)&&(I=1);else if(typeof a=="string")I=fz(a,c,se.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case M:return a=wr(31,c,s,b),a.elementType=M,a.lanes=T,a;case x:return Ks(c.children,b,T,s);case C:I=8,b|=24;break;case R:return a=wr(12,c,s,b|2),a.elementType=R,a.lanes=T,a;case F:return a=wr(13,c,s,b),a.elementType=F,a.lanes=T,a;case G:return a=wr(19,c,s,b),a.elementType=G,a.lanes=T,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case D:I=10;break e;case z:I=9;break e;case q:I=11;break e;case O:I=14;break e;case k:I=16,p=null;break e}I=29,c=Error(r(130,a===null?"null":typeof a,"")),p=null}return s=wr(I,c,s,b),s.elementType=a,s.type=p,s.lanes=T,s}function Ks(a,s,c,p){return a=wr(7,a,p,s),a.lanes=c,a}function wv(a,s,c){return a=wr(6,a,null,s),a.lanes=c,a}function JA(a){var s=wr(18,null,null,0);return s.stateNode=a,s}function Cv(a,s,c){return s=wr(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var XA=new WeakMap;function Hr(a,s){if(typeof a=="object"&&a!==null){var c=XA.get(a);return c!==void 0?c:(s={value:a,source:s,stack:Li(s)},XA.set(a,s),s)}return{value:a,source:s,stack:Li(s)}}var ru=[],iu=0,Hh=null,nf=0,Gr=[],$r=0,Ia=null,eo=1,to="";function wo(a,s){ru[iu++]=nf,ru[iu++]=Hh,Hh=a,nf=s}function QA(a,s,c){Gr[$r++]=eo,Gr[$r++]=to,Gr[$r++]=Ia,Ia=a;var p=eo;a=to;var b=32-Ht(p)-1;p&=~(1<<b),c+=1;var T=32-Ht(s)+b;if(30<T){var I=b-b%5;T=(p&(1<<I)-1).toString(32),p>>=I,b-=I,eo=1<<32-Ht(s)+b|c<<b|p,to=T+a}else eo=1<<T|c<<b|p,to=a}function Iv(a){a.return!==null&&(wo(a,1),QA(a,1,0))}function Pv(a){for(;a===Hh;)Hh=ru[--iu],ru[iu]=null,nf=ru[--iu],ru[iu]=null;for(;a===Ia;)Ia=Gr[--$r],Gr[$r]=null,to=Gr[--$r],Gr[$r]=null,eo=Gr[--$r],Gr[$r]=null}function ZA(a,s){Gr[$r++]=eo,Gr[$r++]=to,Gr[$r++]=Ia,eo=s.id,to=s.overflow,Ia=a}var kn=null,Ct=null,rt=!1,Pa=null,Kr=!1,Nv=Error(r(519));function Na(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rf(Hr(s,a)),Nv}function ew(a){var s=a.stateNode,c=a.type,p=a.memoizedProps;switch(s[en]=a,s[Sn]=p,c){case"dialog":Xe("cancel",s),Xe("close",s);break;case"iframe":case"object":case"embed":Xe("load",s);break;case"video":case"audio":for(c=0;c<wf.length;c++)Xe(wf[c],s);break;case"source":Xe("error",s);break;case"img":case"image":case"link":Xe("error",s),Xe("load",s);break;case"details":Xe("toggle",s);break;case"input":Xe("invalid",s),Sh(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Xe("invalid",s);break;case"textarea":Xe("invalid",s),Ea(s,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||p.suppressHydrationWarning===!0||yC(s.textContent,c)?(p.popover!=null&&(Xe("beforetoggle",s),Xe("toggle",s)),p.onScroll!=null&&Xe("scroll",s),p.onScrollEnd!=null&&Xe("scrollend",s),p.onClick!=null&&(s.onclick=hi),s=!0):s=!1,s||Na(a,!0)}function tw(a){for(kn=a.return;kn;)switch(kn.tag){case 5:case 31:case 13:Kr=!1;return;case 27:case 3:Kr=!0;return;default:kn=kn.return}}function ou(a){if(a!==kn)return!1;if(!rt)return tw(a),rt=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Y0(a.type,a.memoizedProps)),c=!c),c&&Ct&&Na(a),tw(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ct=wC(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Ct=wC(a)}else s===27?(s=Ct,Ha(a.type)?(a=Z0,Z0=null,Ct=a):Ct=s):Ct=kn?Wr(a.stateNode.nextSibling):null;return!0}function Ys(){Ct=kn=null,rt=!1}function Rv(){var a=Pa;return a!==null&&(pr===null?pr=a:pr.push.apply(pr,a),Pa=null),a}function rf(a){Pa===null?Pa=[a]:Pa.push(a)}var Mv=K(null),Ws=null,Co=null;function Ra(a,s,c){Ee(Mv,s._currentValue),s._currentValue=c}function Io(a){a._currentValue=Mv.current,le(Mv)}function Dv(a,s,c){for(;a!==null;){var p=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),a===c)break;a=a.return}}function Ov(a,s,c,p){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var T=b.dependencies;if(T!==null){var I=b.child;T=T.firstContext;e:for(;T!==null;){var L=T;T=b;for(var $=0;$<s.length;$++)if(L.context===s[$]){T.lanes|=c,L=T.alternate,L!==null&&(L.lanes|=c),Dv(T.return,c,a),p||(I=null);break e}T=L.next}}else if(b.tag===18){if(I=b.return,I===null)throw Error(r(341));I.lanes|=c,T=I.alternate,T!==null&&(T.lanes|=c),Dv(I,c,a),I=null}else I=b.child;if(I!==null)I.return=b;else for(I=b;I!==null;){if(I===a){I=null;break}if(b=I.sibling,b!==null){b.return=I.return,I=b;break}I=I.return}b=I}}function au(a,s,c,p){a=null;for(var b=s,T=!1;b!==null;){if(!T){if((b.flags&524288)!==0)T=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var I=b.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var L=b.type;Ar(b.pendingProps.value,I.value)||(a!==null?a.push(L):a=[L])}}else if(b===Te.current){if(I=b.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(Rf):a=[Rf])}b=b.return}a!==null&&Ov(s,a,c,p),s.flags|=262144}function Gh(a){for(a=a.firstContext;a!==null;){if(!Ar(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Js(a){Ws=a,Co=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ln(a){return nw(Ws,a)}function $h(a,s){return Ws===null&&Js(a),nw(a,s)}function nw(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},Co===null){if(a===null)throw Error(r(308));Co=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Co=Co.next=s;return c}var sq=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,p){a.push(p)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},lq=t.unstable_scheduleCallback,uq=t.unstable_NormalPriority,rn={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kv(){return{controller:new sq,data:new Map,refCount:0}}function of(a){a.refCount--,a.refCount===0&&lq(uq,function(){a.controller.abort()})}var af=null,Lv=0,su=0,lu=null;function cq(a,s){if(af===null){var c=af=[];Lv=0,su=q0(),lu={status:"pending",value:void 0,then:function(p){c.push(p)}}}return Lv++,s.then(rw,rw),s}function rw(){if(--Lv===0&&af!==null){lu!==null&&(lu.status="fulfilled");var a=af;af=null,su=0,lu=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function fq(a,s){var c=[],p={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return a.then(function(){p.status="fulfilled",p.value=s;for(var b=0;b<c.length;b++)(0,c[b])(s)},function(b){for(p.status="rejected",p.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),p}var iw=X.S;X.S=function(a,s){B1=er(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&cq(a,s),iw!==null&&iw(a,s)};var Xs=K(null);function Uv(){var a=Xs.current;return a!==null?a:xt.pooledCache}function Kh(a,s){s===null?Ee(Xs,Xs.current):Ee(Xs,s.pool)}function ow(){var a=Uv();return a===null?null:{parent:rn._currentValue,pool:a}}var uu=Error(r(460)),Vv=Error(r(474)),Yh=Error(r(542)),Wh={then:function(){}};function aw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function sw(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(hi,hi),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,uw(a),a;default:if(typeof s.status=="string")s.then(hi,hi);else{if(a=xt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(p){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=p}},function(p){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,uw(a),a}throw Zs=s,uu}}function Qs(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Zs=c,uu):c}}var Zs=null;function lw(){if(Zs===null)throw Error(r(459));var a=Zs;return Zs=null,a}function uw(a){if(a===uu||a===Yh)throw Error(r(483))}var cu=null,sf=0;function Jh(a){var s=sf;return sf+=1,cu===null&&(cu=[]),sw(cu,a,s)}function lf(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Xh(a,s){throw s.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function cw(a){function s(J,Y){if(a){var Z=J.deletions;Z===null?(J.deletions=[Y],J.flags|=16):Z.push(Y)}}function c(J,Y){if(!a)return null;for(;Y!==null;)s(J,Y),Y=Y.sibling;return null}function p(J){for(var Y=new Map;J!==null;)J.key!==null?Y.set(J.key,J):Y.set(J.index,J),J=J.sibling;return Y}function b(J,Y){return J=Ao(J,Y),J.index=0,J.sibling=null,J}function T(J,Y,Z){return J.index=Z,a?(Z=J.alternate,Z!==null?(Z=Z.index,Z<Y?(J.flags|=67108866,Y):Z):(J.flags|=67108866,Y)):(J.flags|=1048576,Y)}function I(J){return a&&J.alternate===null&&(J.flags|=67108866),J}function L(J,Y,Z,fe){return Y===null||Y.tag!==6?(Y=wv(Z,J.mode,fe),Y.return=J,Y):(Y=b(Y,Z),Y.return=J,Y)}function $(J,Y,Z,fe){var ke=Z.type;return ke===x?ce(J,Y,Z.props.children,fe,Z.key):Y!==null&&(Y.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===k&&Qs(ke)===Y.type)?(Y=b(Y,Z.props),lf(Y,Z),Y.return=J,Y):(Y=Fh(Z.type,Z.key,Z.props,null,J.mode,fe),lf(Y,Z),Y.return=J,Y)}function ee(J,Y,Z,fe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Z.containerInfo||Y.stateNode.implementation!==Z.implementation?(Y=Cv(Z,J.mode,fe),Y.return=J,Y):(Y=b(Y,Z.children||[]),Y.return=J,Y)}function ce(J,Y,Z,fe,ke){return Y===null||Y.tag!==7?(Y=Ks(Z,J.mode,fe,ke),Y.return=J,Y):(Y=b(Y,Z),Y.return=J,Y)}function de(J,Y,Z){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=wv(""+Y,J.mode,Z),Y.return=J,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return Z=Fh(Y.type,Y.key,Y.props,null,J.mode,Z),lf(Z,Y),Z.return=J,Z;case A:return Y=Cv(Y,J.mode,Z),Y.return=J,Y;case k:return Y=Qs(Y),de(J,Y,Z)}if(we(Y)||B(Y))return Y=Ks(Y,J.mode,Z,null),Y.return=J,Y;if(typeof Y.then=="function")return de(J,Jh(Y),Z);if(Y.$$typeof===D)return de(J,$h(J,Y),Z);Xh(J,Y)}return null}function ne(J,Y,Z,fe){var ke=Y!==null?Y.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return ke!==null?null:L(J,Y,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:return Z.key===ke?$(J,Y,Z,fe):null;case A:return Z.key===ke?ee(J,Y,Z,fe):null;case k:return Z=Qs(Z),ne(J,Y,Z,fe)}if(we(Z)||B(Z))return ke!==null?null:ce(J,Y,Z,fe,null);if(typeof Z.then=="function")return ne(J,Y,Jh(Z),fe);if(Z.$$typeof===D)return ne(J,Y,$h(J,Z),fe);Xh(J,Z)}return null}function ae(J,Y,Z,fe,ke){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return J=J.get(Z)||null,L(Y,J,""+fe,ke);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case E:return J=J.get(fe.key===null?Z:fe.key)||null,$(Y,J,fe,ke);case A:return J=J.get(fe.key===null?Z:fe.key)||null,ee(Y,J,fe,ke);case k:return fe=Qs(fe),ae(J,Y,Z,fe,ke)}if(we(fe)||B(fe))return J=J.get(Z)||null,ce(Y,J,fe,ke,null);if(typeof fe.then=="function")return ae(J,Y,Z,Jh(fe),ke);if(fe.$$typeof===D)return ae(J,Y,Z,$h(Y,fe),ke);Xh(Y,fe)}return null}function Pe(J,Y,Z,fe){for(var ke=null,at=null,Re=Y,Ye=Y=0,Ze=null;Re!==null&&Ye<Z.length;Ye++){Re.index>Ye?(Ze=Re,Re=null):Ze=Re.sibling;var st=ne(J,Re,Z[Ye],fe);if(st===null){Re===null&&(Re=Ze);break}a&&Re&&st.alternate===null&&s(J,Re),Y=T(st,Y,Ye),at===null?ke=st:at.sibling=st,at=st,Re=Ze}if(Ye===Z.length)return c(J,Re),rt&&wo(J,Ye),ke;if(Re===null){for(;Ye<Z.length;Ye++)Re=de(J,Z[Ye],fe),Re!==null&&(Y=T(Re,Y,Ye),at===null?ke=Re:at.sibling=Re,at=Re);return rt&&wo(J,Ye),ke}for(Re=p(Re);Ye<Z.length;Ye++)Ze=ae(Re,J,Ye,Z[Ye],fe),Ze!==null&&(a&&Ze.alternate!==null&&Re.delete(Ze.key===null?Ye:Ze.key),Y=T(Ze,Y,Ye),at===null?ke=Ze:at.sibling=Ze,at=Ze);return a&&Re.forEach(function(Wa){return s(J,Wa)}),rt&&wo(J,Ye),ke}function qe(J,Y,Z,fe){if(Z==null)throw Error(r(151));for(var ke=null,at=null,Re=Y,Ye=Y=0,Ze=null,st=Z.next();Re!==null&&!st.done;Ye++,st=Z.next()){Re.index>Ye?(Ze=Re,Re=null):Ze=Re.sibling;var Wa=ne(J,Re,st.value,fe);if(Wa===null){Re===null&&(Re=Ze);break}a&&Re&&Wa.alternate===null&&s(J,Re),Y=T(Wa,Y,Ye),at===null?ke=Wa:at.sibling=Wa,at=Wa,Re=Ze}if(st.done)return c(J,Re),rt&&wo(J,Ye),ke;if(Re===null){for(;!st.done;Ye++,st=Z.next())st=de(J,st.value,fe),st!==null&&(Y=T(st,Y,Ye),at===null?ke=st:at.sibling=st,at=st);return rt&&wo(J,Ye),ke}for(Re=p(Re);!st.done;Ye++,st=Z.next())st=ae(Re,J,Ye,st.value,fe),st!==null&&(a&&st.alternate!==null&&Re.delete(st.key===null?Ye:st.key),Y=T(st,Y,Ye),at===null?ke=st:at.sibling=st,at=st);return a&&Re.forEach(function(Tz){return s(J,Tz)}),rt&&wo(J,Ye),ke}function Et(J,Y,Z,fe){if(typeof Z=="object"&&Z!==null&&Z.type===x&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:e:{for(var ke=Z.key;Y!==null;){if(Y.key===ke){if(ke=Z.type,ke===x){if(Y.tag===7){c(J,Y.sibling),fe=b(Y,Z.props.children),fe.return=J,J=fe;break e}}else if(Y.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===k&&Qs(ke)===Y.type){c(J,Y.sibling),fe=b(Y,Z.props),lf(fe,Z),fe.return=J,J=fe;break e}c(J,Y);break}else s(J,Y);Y=Y.sibling}Z.type===x?(fe=Ks(Z.props.children,J.mode,fe,Z.key),fe.return=J,J=fe):(fe=Fh(Z.type,Z.key,Z.props,null,J.mode,fe),lf(fe,Z),fe.return=J,J=fe)}return I(J);case A:e:{for(ke=Z.key;Y!==null;){if(Y.key===ke)if(Y.tag===4&&Y.stateNode.containerInfo===Z.containerInfo&&Y.stateNode.implementation===Z.implementation){c(J,Y.sibling),fe=b(Y,Z.children||[]),fe.return=J,J=fe;break e}else{c(J,Y);break}else s(J,Y);Y=Y.sibling}fe=Cv(Z,J.mode,fe),fe.return=J,J=fe}return I(J);case k:return Z=Qs(Z),Et(J,Y,Z,fe)}if(we(Z))return Pe(J,Y,Z,fe);if(B(Z)){if(ke=B(Z),typeof ke!="function")throw Error(r(150));return Z=ke.call(Z),qe(J,Y,Z,fe)}if(typeof Z.then=="function")return Et(J,Y,Jh(Z),fe);if(Z.$$typeof===D)return Et(J,Y,$h(J,Z),fe);Xh(J,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,Y!==null&&Y.tag===6?(c(J,Y.sibling),fe=b(Y,Z),fe.return=J,J=fe):(c(J,Y),fe=wv(Z,J.mode,fe),fe.return=J,J=fe),I(J)):c(J,Y)}return function(J,Y,Z,fe){try{sf=0;var ke=Et(J,Y,Z,fe);return cu=null,ke}catch(Re){if(Re===uu||Re===Yh)throw Re;var at=wr(29,Re,null,J.mode);return at.lanes=fe,at.return=J,at}finally{}}}var el=cw(!0),fw=cw(!1),Ma=!1;function qv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zv(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Da(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Oa(a,s,c){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(ft&2)!==0){var b=p.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s,s=jh(a),YA(a,null,c),s}return Bh(a,p,s,c),jh(a)}function uf(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,kc(a,c)}}function Bv(a,s){var c=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var b=null,T=null;if(c=c.firstBaseUpdate,c!==null){do{var I={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};T===null?b=T=I:T=T.next=I,c=c.next}while(c!==null);T===null?b=T=s:T=T.next=s}else b=T=s;c={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:T,shared:p.shared,callbacks:p.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var jv=!1;function cf(){if(jv){var a=lu;if(a!==null)throw a}}function ff(a,s,c,p){jv=!1;var b=a.updateQueue;Ma=!1;var T=b.firstBaseUpdate,I=b.lastBaseUpdate,L=b.shared.pending;if(L!==null){b.shared.pending=null;var $=L,ee=$.next;$.next=null,I===null?T=ee:I.next=ee,I=$;var ce=a.alternate;ce!==null&&(ce=ce.updateQueue,L=ce.lastBaseUpdate,L!==I&&(L===null?ce.firstBaseUpdate=ee:L.next=ee,ce.lastBaseUpdate=$))}if(T!==null){var de=b.baseState;I=0,ce=ee=$=null,L=T;do{var ne=L.lane&-536870913,ae=ne!==L.lane;if(ae?(Qe&ne)===ne:(p&ne)===ne){ne!==0&&ne===su&&(jv=!0),ce!==null&&(ce=ce.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Pe=a,qe=L;ne=s;var Et=c;switch(qe.tag){case 1:if(Pe=qe.payload,typeof Pe=="function"){de=Pe.call(Et,de,ne);break e}de=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=qe.payload,ne=typeof Pe=="function"?Pe.call(Et,de,ne):Pe,ne==null)break e;de=m({},de,ne);break e;case 2:Ma=!0}}ne=L.callback,ne!==null&&(a.flags|=64,ae&&(a.flags|=8192),ae=b.callbacks,ae===null?b.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ce===null?(ee=ce=ae,$=de):ce=ce.next=ae,I|=ne;if(L=L.next,L===null){if(L=b.shared.pending,L===null)break;ae=L,L=ae.next,ae.next=null,b.lastBaseUpdate=ae,b.shared.pending=null}}while(!0);ce===null&&($=de),b.baseState=$,b.firstBaseUpdate=ee,b.lastBaseUpdate=ce,T===null&&(b.shared.lanes=0),qa|=I,a.lanes=I,a.memoizedState=de}}function dw(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function hw(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)dw(c[a],s)}var fu=K(null),Qh=K(0);function pw(a,s){a=Uo,Ee(Qh,a),Ee(fu,s),Uo=a|s.baseLanes}function Fv(){Ee(Qh,Uo),Ee(fu,fu.current)}function Hv(){Uo=Qh.current,le(fu),le(Qh)}var Cr=K(null),Yr=null;function ka(a){var s=a.alternate;Ee($t,$t.current&1),Ee(Cr,a),Yr===null&&(s===null||fu.current!==null||s.memoizedState!==null)&&(Yr=a)}function Gv(a){Ee($t,$t.current),Ee(Cr,a),Yr===null&&(Yr=a)}function mw(a){a.tag===22?(Ee($t,$t.current),Ee(Cr,a),Yr===null&&(Yr=a)):La()}function La(){Ee($t,$t.current),Ee(Cr,Cr.current)}function Ir(a){le(Cr),Yr===a&&(Yr=null),le($t)}var $t=K(0);function Zh(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||X0(c)||Q0(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Po=0,Ke=null,_t=null,on=null,ep=!1,du=!1,tl=!1,tp=0,df=0,hu=null,dq=0;function Bt(){throw Error(r(321))}function $v(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!Ar(a[c],s[c]))return!1;return!0}function Kv(a,s,c,p,b,T){return Po=T,Ke=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=a===null||a.memoizedState===null?Qw:l0,tl=!1,T=c(p,b),tl=!1,du&&(T=yw(s,c,p,b)),gw(a),T}function gw(a){X.H=mf;var s=_t!==null&&_t.next!==null;if(Po=0,on=_t=Ke=null,ep=!1,df=0,hu=null,s)throw Error(r(300));a===null||an||(a=a.dependencies,a!==null&&Gh(a)&&(an=!0))}function yw(a,s,c,p){Ke=a;var b=0;do{if(du&&(hu=null),df=0,du=!1,25<=b)throw Error(r(301));if(b+=1,on=_t=null,a.updateQueue!=null){var T=a.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}X.H=Zw,T=s(c,p)}while(du);return T}function hq(){var a=X.H,s=a.useState()[0];return s=typeof s.then=="function"?hf(s):s,a=a.useState()[0],(_t!==null?_t.memoizedState:null)!==a&&(Ke.flags|=1024),s}function Yv(){var a=tp!==0;return tp=0,a}function Wv(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function Jv(a){if(ep){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}ep=!1}Po=0,on=_t=Ke=null,du=!1,df=tp=0,hu=null}function nr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Ke.memoizedState=on=a:on=on.next=a,on}function Kt(){if(_t===null){var a=Ke.alternate;a=a!==null?a.memoizedState:null}else a=_t.next;var s=on===null?Ke.memoizedState:on.next;if(s!==null)on=s,_t=a;else{if(a===null)throw Ke.alternate===null?Error(r(467)):Error(r(310));_t=a,a={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},on===null?Ke.memoizedState=on=a:on=on.next=a}return on}function np(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hf(a){var s=df;return df+=1,hu===null&&(hu=[]),a=sw(hu,a,s),s=Ke,(on===null?s.memoizedState:on.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?Qw:l0),a}function rp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return hf(a);if(a.$$typeof===D)return Ln(a)}throw Error(r(438,String(a)))}function Xv(a){var s=null,c=Ke.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var p=Ke.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=np(),Ke.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),p=0;p<a;p++)c[p]=V;return s.index++,c}function No(a,s){return typeof s=="function"?s(a):s}function ip(a){var s=Kt();return Qv(s,_t,a)}function Qv(a,s,c){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var b=a.baseQueue,T=p.pending;if(T!==null){if(b!==null){var I=b.next;b.next=T.next,T.next=I}s.baseQueue=b=T,p.pending=null}if(T=a.baseState,b===null)a.memoizedState=T;else{s=b.next;var L=I=null,$=null,ee=s,ce=!1;do{var de=ee.lane&-536870913;if(de!==ee.lane?(Qe&de)===de:(Po&de)===de){var ne=ee.revertLane;if(ne===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),de===su&&(ce=!0);else if((Po&ne)===ne){ee=ee.next,ne===su&&(ce=!0);continue}else de={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},$===null?(L=$=de,I=T):$=$.next=de,Ke.lanes|=ne,qa|=ne;de=ee.action,tl&&c(T,de),T=ee.hasEagerState?ee.eagerState:c(T,de)}else ne={lane:de,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},$===null?(L=$=ne,I=T):$=$.next=ne,Ke.lanes|=de,qa|=de;ee=ee.next}while(ee!==null&&ee!==s);if($===null?I=T:$.next=L,!Ar(T,a.memoizedState)&&(an=!0,ce&&(c=lu,c!==null)))throw c;a.memoizedState=T,a.baseState=I,a.baseQueue=$,p.lastRenderedState=T}return b===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function Zv(a){var s=Kt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var p=c.dispatch,b=c.pending,T=s.memoizedState;if(b!==null){c.pending=null;var I=b=b.next;do T=a(T,I.action),I=I.next;while(I!==b);Ar(T,s.memoizedState)||(an=!0),s.memoizedState=T,s.baseQueue===null&&(s.baseState=T),c.lastRenderedState=T}return[T,p]}function vw(a,s,c){var p=Ke,b=Kt(),T=rt;if(T){if(c===void 0)throw Error(r(407));c=c()}else c=s();var I=!Ar((_t||b).memoizedState,c);if(I&&(b.memoizedState=c,an=!0),b=b.queue,n0(Ew.bind(null,p,b,a),[a]),b.getSnapshot!==s||I||on!==null&&on.memoizedState.tag&1){if(p.flags|=2048,pu(9,{destroy:void 0},bw.bind(null,p,b,c,s),null),xt===null)throw Error(r(349));T||(Po&127)!==0||_w(p,s,c)}return c}function _w(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=Ke.updateQueue,s===null?(s=np(),Ke.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function bw(a,s,c,p){s.value=c,s.getSnapshot=p,Tw(s)&&Sw(a)}function Ew(a,s,c){return c(function(){Tw(s)&&Sw(a)})}function Tw(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!Ar(a,c)}catch{return!0}}function Sw(a){var s=$s(a,2);s!==null&&mr(s,a,2)}function e0(a){var s=nr();if(typeof a=="function"){var c=a;if(a=c(),tl){Vr(!0);try{c()}finally{Vr(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:a},s}function xw(a,s,c,p){return a.baseState=c,Qv(a,_t,typeof p=="function"?p:No)}function pq(a,s,c,p,b){if(sp(a))throw Error(r(485));if(a=s.action,a!==null){var T={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){T.listeners.push(I)}};X.T!==null?c(!0):T.isTransition=!1,p(T),c=s.pending,c===null?(T.next=s.pending=T,Aw(s,T)):(T.next=c.next,s.pending=c.next=T)}}function Aw(a,s){var c=s.action,p=s.payload,b=a.state;if(s.isTransition){var T=X.T,I={};X.T=I;try{var L=c(b,p),$=X.S;$!==null&&$(I,L),ww(a,s,L)}catch(ee){t0(a,s,ee)}finally{T!==null&&I.types!==null&&(T.types=I.types),X.T=T}}else try{T=c(b,p),ww(a,s,T)}catch(ee){t0(a,s,ee)}}function ww(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){Cw(a,s,p)},function(p){return t0(a,s,p)}):Cw(a,s,c)}function Cw(a,s,c){s.status="fulfilled",s.value=c,Iw(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,Aw(a,c)))}function t0(a,s,c){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=c,Iw(s),s=s.next;while(s!==p)}a.action=null}function Iw(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function Pw(a,s){return s}function Nw(a,s){if(rt){var c=xt.formState;if(c!==null){e:{var p=Ke;if(rt){if(Ct){t:{for(var b=Ct,T=Kr;b.nodeType!==8;){if(!T){b=null;break t}if(b=Wr(b.nextSibling),b===null){b=null;break t}}T=b.data,b=T==="F!"||T==="F"?b:null}if(b){Ct=Wr(b.nextSibling),p=b.data==="F!";break e}}Na(p)}p=!1}p&&(s=c[0])}}return c=nr(),c.memoizedState=c.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pw,lastRenderedState:s},c.queue=p,c=Ww.bind(null,Ke,p),p.dispatch=c,p=e0(!1),T=s0.bind(null,Ke,!1,p.queue),p=nr(),b={state:s,dispatch:null,action:a,pending:null},p.queue=b,c=pq.bind(null,Ke,b,T,c),b.dispatch=c,p.memoizedState=a,[s,c,!1]}function Rw(a){var s=Kt();return Mw(s,_t,a)}function Mw(a,s,c){if(s=Qv(a,s,Pw)[0],a=ip(No)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=hf(s)}catch(I){throw I===uu?Yh:I}else p=s;s=Kt();var b=s.queue,T=b.dispatch;return c!==s.memoizedState&&(Ke.flags|=2048,pu(9,{destroy:void 0},mq.bind(null,b,c),null)),[p,T,a]}function mq(a,s){a.action=s}function Dw(a){var s=Kt(),c=_t;if(c!==null)return Mw(s,c,a);Kt(),s=s.memoizedState,c=Kt();var p=c.queue.dispatch;return c.memoizedState=a,[s,p,!1]}function pu(a,s,c,p){return a={tag:a,create:c,deps:p,inst:s,next:null},s=Ke.updateQueue,s===null&&(s=np(),Ke.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(p=c.next,c.next=a,a.next=p,s.lastEffect=a),a}function Ow(){return Kt().memoizedState}function op(a,s,c,p){var b=nr();Ke.flags|=a,b.memoizedState=pu(1|s,{destroy:void 0},c,p===void 0?null:p)}function ap(a,s,c,p){var b=Kt();p=p===void 0?null:p;var T=b.memoizedState.inst;_t!==null&&p!==null&&$v(p,_t.memoizedState.deps)?b.memoizedState=pu(s,T,c,p):(Ke.flags|=a,b.memoizedState=pu(1|s,T,c,p))}function kw(a,s){op(8390656,8,a,s)}function n0(a,s){ap(2048,8,a,s)}function gq(a){Ke.flags|=4;var s=Ke.updateQueue;if(s===null)s=np(),Ke.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function Lw(a){var s=Kt().memoizedState;return gq({ref:s,nextImpl:a}),function(){if((ft&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function Uw(a,s){return ap(4,2,a,s)}function Vw(a,s){return ap(4,4,a,s)}function qw(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function zw(a,s,c){c=c!=null?c.concat([a]):null,ap(4,4,qw.bind(null,s,a),c)}function r0(){}function Bw(a,s){var c=Kt();s=s===void 0?null:s;var p=c.memoizedState;return s!==null&&$v(s,p[1])?p[0]:(c.memoizedState=[a,s],a)}function jw(a,s){var c=Kt();s=s===void 0?null:s;var p=c.memoizedState;if(s!==null&&$v(s,p[1]))return p[0];if(p=a(),tl){Vr(!0);try{a()}finally{Vr(!1)}}return c.memoizedState=[p,s],p}function i0(a,s,c){return c===void 0||(Po&1073741824)!==0&&(Qe&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=F1(),Ke.lanes|=a,qa|=a,c)}function Fw(a,s,c,p){return Ar(c,s)?c:fu.current!==null?(a=i0(a,c,p),Ar(a,s)||(an=!0),a):(Po&42)===0||(Po&1073741824)!==0&&(Qe&261930)===0?(an=!0,a.memoizedState=c):(a=F1(),Ke.lanes|=a,qa|=a,s)}function Hw(a,s,c,p,b){var T=ue.p;ue.p=T!==0&&8>T?T:8;var I=X.T,L={};X.T=L,s0(a,!1,s,c);try{var $=b(),ee=X.S;if(ee!==null&&ee(L,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ce=fq($,p);pf(a,s,ce,Rr(a))}else pf(a,s,p,Rr(a))}catch(de){pf(a,s,{then:function(){},status:"rejected",reason:de},Rr())}finally{ue.p=T,I!==null&&L.types!==null&&(I.types=L.types),X.T=I}}function yq(){}function o0(a,s,c,p){if(a.tag!==5)throw Error(r(476));var b=Gw(a).queue;Hw(a,b,s,ye,c===null?yq:function(){return $w(a),c(p)})}function Gw(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:ye},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function $w(a){var s=Gw(a);s.next===null&&(s=a.alternate.memoizedState),pf(a,s.next.queue,{},Rr())}function a0(){return Ln(Rf)}function Kw(){return Kt().memoizedState}function Yw(){return Kt().memoizedState}function vq(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=Rr();a=Da(c);var p=Oa(s,a,c);p!==null&&(mr(p,s,c),uf(p,s,c)),s={cache:kv()},a.payload=s;return}s=s.return}}function _q(a,s,c){var p=Rr();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},sp(a)?Jw(s,c):(c=xv(a,s,c,p),c!==null&&(mr(c,a,p),Xw(c,s,p)))}function Ww(a,s,c){var p=Rr();pf(a,s,c,p)}function pf(a,s,c,p){var b={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(sp(a))Jw(s,b);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=s.lastRenderedReducer,T!==null))try{var I=s.lastRenderedState,L=T(I,c);if(b.hasEagerState=!0,b.eagerState=L,Ar(L,I))return Bh(a,s,b,0),xt===null&&zh(),!1}catch{}finally{}if(c=xv(a,s,b,p),c!==null)return mr(c,a,p),Xw(c,s,p),!0}return!1}function s0(a,s,c,p){if(p={lane:2,revertLane:q0(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},sp(a)){if(s)throw Error(r(479))}else s=xv(a,c,p,2),s!==null&&mr(s,a,2)}function sp(a){var s=a.alternate;return a===Ke||s!==null&&s===Ke}function Jw(a,s){du=ep=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function Xw(a,s,c){if((c&4194048)!==0){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,kc(a,c)}}var mf={readContext:Ln,use:rp,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};mf.useEffectEvent=Bt;var Qw={readContext:Ln,use:rp,useCallback:function(a,s){return nr().memoizedState=[a,s===void 0?null:s],a},useContext:Ln,useEffect:kw,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,op(4194308,4,qw.bind(null,s,a),c)},useLayoutEffect:function(a,s){return op(4194308,4,a,s)},useInsertionEffect:function(a,s){op(4,2,a,s)},useMemo:function(a,s){var c=nr();s=s===void 0?null:s;var p=a();if(tl){Vr(!0);try{a()}finally{Vr(!1)}}return c.memoizedState=[p,s],p},useReducer:function(a,s,c){var p=nr();if(c!==void 0){var b=c(s);if(tl){Vr(!0);try{c(s)}finally{Vr(!1)}}}else b=s;return p.memoizedState=p.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},p.queue=a,a=a.dispatch=_q.bind(null,Ke,a),[p.memoizedState,a]},useRef:function(a){var s=nr();return a={current:a},s.memoizedState=a},useState:function(a){a=e0(a);var s=a.queue,c=Ww.bind(null,Ke,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:r0,useDeferredValue:function(a,s){var c=nr();return i0(c,a,s)},useTransition:function(){var a=e0(!1);return a=Hw.bind(null,Ke,a.queue,!0,!1),nr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var p=Ke,b=nr();if(rt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),xt===null)throw Error(r(349));(Qe&127)!==0||_w(p,s,c)}b.memoizedState=c;var T={value:c,getSnapshot:s};return b.queue=T,kw(Ew.bind(null,p,T,a),[a]),p.flags|=2048,pu(9,{destroy:void 0},bw.bind(null,p,T,c,s),null),c},useId:function(){var a=nr(),s=xt.identifierPrefix;if(rt){var c=to,p=eo;c=(p&~(1<<32-Ht(p)-1)).toString(32)+c,s="_"+s+"R_"+c,c=tp++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=dq++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:a0,useFormState:Nw,useActionState:Nw,useOptimistic:function(a){var s=nr();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=s0.bind(null,Ke,!0,c),c.dispatch=s,[a,s]},useMemoCache:Xv,useCacheRefresh:function(){return nr().memoizedState=vq.bind(null,Ke)},useEffectEvent:function(a){var s=nr(),c={impl:a};return s.memoizedState=c,function(){if((ft&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},l0={readContext:Ln,use:rp,useCallback:Bw,useContext:Ln,useEffect:n0,useImperativeHandle:zw,useInsertionEffect:Uw,useLayoutEffect:Vw,useMemo:jw,useReducer:ip,useRef:Ow,useState:function(){return ip(No)},useDebugValue:r0,useDeferredValue:function(a,s){var c=Kt();return Fw(c,_t.memoizedState,a,s)},useTransition:function(){var a=ip(No)[0],s=Kt().memoizedState;return[typeof a=="boolean"?a:hf(a),s]},useSyncExternalStore:vw,useId:Kw,useHostTransitionStatus:a0,useFormState:Rw,useActionState:Rw,useOptimistic:function(a,s){var c=Kt();return xw(c,_t,a,s)},useMemoCache:Xv,useCacheRefresh:Yw};l0.useEffectEvent=Lw;var Zw={readContext:Ln,use:rp,useCallback:Bw,useContext:Ln,useEffect:n0,useImperativeHandle:zw,useInsertionEffect:Uw,useLayoutEffect:Vw,useMemo:jw,useReducer:Zv,useRef:Ow,useState:function(){return Zv(No)},useDebugValue:r0,useDeferredValue:function(a,s){var c=Kt();return _t===null?i0(c,a,s):Fw(c,_t.memoizedState,a,s)},useTransition:function(){var a=Zv(No)[0],s=Kt().memoizedState;return[typeof a=="boolean"?a:hf(a),s]},useSyncExternalStore:vw,useId:Kw,useHostTransitionStatus:a0,useFormState:Dw,useActionState:Dw,useOptimistic:function(a,s){var c=Kt();return _t!==null?xw(c,_t,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Xv,useCacheRefresh:Yw};Zw.useEffectEvent=Lw;function u0(a,s,c,p){s=a.memoizedState,c=c(p,s),c=c==null?s:m({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var c0={enqueueSetState:function(a,s,c){a=a._reactInternals;var p=Rr(),b=Da(p);b.payload=s,c!=null&&(b.callback=c),s=Oa(a,b,p),s!==null&&(mr(s,a,p),uf(s,a,p))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var p=Rr(),b=Da(p);b.tag=1,b.payload=s,c!=null&&(b.callback=c),s=Oa(a,b,p),s!==null&&(mr(s,a,p),uf(s,a,p))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=Rr(),p=Da(c);p.tag=2,s!=null&&(p.callback=s),s=Oa(a,p,c),s!==null&&(mr(s,a,c),uf(s,a,c))}};function e1(a,s,c,p,b,T,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,T,I):s.prototype&&s.prototype.isPureReactComponent?!ef(c,p)||!ef(b,T):!0}function t1(a,s,c,p){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==a&&c0.enqueueReplaceState(s,s.state,null)}function nl(a,s){var c=s;if("ref"in s){c={};for(var p in s)p!=="ref"&&(c[p]=s[p])}if(a=a.defaultProps){c===s&&(c=m({},c));for(var b in a)c[b]===void 0&&(c[b]=a[b])}return c}function n1(a){qh(a)}function r1(a){console.error(a)}function i1(a){qh(a)}function lp(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function o1(a,s,c){try{var p=a.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function f0(a,s,c){return c=Da(c),c.tag=3,c.payload={element:null},c.callback=function(){lp(a,s)},c}function a1(a){return a=Da(a),a.tag=3,a}function s1(a,s,c,p){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var T=p.value;a.payload=function(){return b(T)},a.callback=function(){o1(s,c,p)}}var I=c.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){o1(s,c,p),typeof b!="function"&&(za===null?za=new Set([this]):za.add(this));var L=p.stack;this.componentDidCatch(p.value,{componentStack:L!==null?L:""})})}function bq(a,s,c,p,b){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=c.alternate,s!==null&&au(s,c,b,!0),c=Cr.current,c!==null){switch(c.tag){case 31:case 13:return Yr===null?bp():c.alternate===null&&jt===0&&(jt=3),c.flags&=-257,c.flags|=65536,c.lanes=b,p===Wh?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([p]):s.add(p),L0(a,p,b)),!1;case 22:return c.flags|=65536,p===Wh?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([p]):c.add(p)),L0(a,p,b)),!1}throw Error(r(435,c.tag))}return L0(a,p,b),bp(),!1}if(rt)return s=Cr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,p!==Nv&&(a=Error(r(422),{cause:p}),rf(Hr(a,c)))):(p!==Nv&&(s=Error(r(423),{cause:p}),rf(Hr(s,c))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,p=Hr(p,c),b=f0(a.stateNode,p,b),Bv(a,b),jt!==4&&(jt=2)),!1;var T=Error(r(520),{cause:p});if(T=Hr(T,c),Sf===null?Sf=[T]:Sf.push(T),jt!==4&&(jt=2),s===null)return!0;p=Hr(p,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=b&-b,c.lanes|=a,a=f0(c.stateNode,p,a),Bv(c,a),!1;case 1:if(s=c.type,T=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(za===null||!za.has(T))))return c.flags|=65536,b&=-b,c.lanes|=b,b=a1(b),s1(b,a,c,p),Bv(c,b),!1}c=c.return}while(c!==null);return!1}var d0=Error(r(461)),an=!1;function Un(a,s,c,p){s.child=a===null?fw(s,null,c,p):el(s,a.child,c,p)}function l1(a,s,c,p,b){c=c.render;var T=s.ref;if("ref"in p){var I={};for(var L in p)L!=="ref"&&(I[L]=p[L])}else I=p;return Js(s),p=Kv(a,s,c,I,T,b),L=Yv(),a!==null&&!an?(Wv(a,s,b),Ro(a,s,b)):(rt&&L&&Iv(s),s.flags|=1,Un(a,s,p,b),s.child)}function u1(a,s,c,p,b){if(a===null){var T=c.type;return typeof T=="function"&&!Av(T)&&T.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=T,c1(a,s,T,p,b)):(a=Fh(c.type,null,p,s,s.mode,b),a.ref=s.ref,a.return=s,s.child=a)}if(T=a.child,!b0(a,b)){var I=T.memoizedProps;if(c=c.compare,c=c!==null?c:ef,c(I,p)&&a.ref===s.ref)return Ro(a,s,b)}return s.flags|=1,a=Ao(T,p),a.ref=s.ref,a.return=s,s.child=a}function c1(a,s,c,p,b){if(a!==null){var T=a.memoizedProps;if(ef(T,p)&&a.ref===s.ref)if(an=!1,s.pendingProps=p=T,b0(a,b))(a.flags&131072)!==0&&(an=!0);else return s.lanes=a.lanes,Ro(a,s,b)}return h0(a,s,c,p,b)}function f1(a,s,c,p){var b=p.children,T=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(T=T!==null?T.baseLanes|c:c,a!==null){for(p=s.child=a.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~T}else p=0,s.child=null;return d1(a,s,T,c,p)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Kh(s,T!==null?T.cachePool:null),T!==null?pw(s,T):Fv(),mw(s);else return p=s.lanes=536870912,d1(a,s,T!==null?T.baseLanes|c:c,c,p)}else T!==null?(Kh(s,T.cachePool),pw(s,T),La(),s.memoizedState=null):(a!==null&&Kh(s,null),Fv(),La());return Un(a,s,b,c),s.child}function gf(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function d1(a,s,c,p,b){var T=Uv();return T=T===null?null:{parent:rn._currentValue,pool:T},s.memoizedState={baseLanes:c,cachePool:T},a!==null&&Kh(s,null),Fv(),mw(s),a!==null&&au(a,s,p,!0),s.childLanes=b,null}function up(a,s){return s=fp({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function h1(a,s,c){return el(s,a.child,null,c),a=up(s,s.pendingProps),a.flags|=2,Ir(s),s.memoizedState=null,a}function Eq(a,s,c){var p=s.pendingProps,b=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(rt){if(p.mode==="hidden")return a=up(s,p),s.lanes=536870912,gf(null,a);if(Gv(s),(a=Ct)?(a=AC(a,Kr),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ia!==null?{id:eo,overflow:to}:null,retryLane:536870912,hydrationErrors:null},c=JA(a),c.return=s,s.child=c,kn=s,Ct=null)):a=null,a===null)throw Na(s);return s.lanes=536870912,null}return up(s,p)}var T=a.memoizedState;if(T!==null){var I=T.dehydrated;if(Gv(s),b)if(s.flags&256)s.flags&=-257,s=h1(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(an||au(a,s,c,!1),b=(c&a.childLanes)!==0,an||b){if(p=xt,p!==null&&(I=Lc(p,c),I!==0&&I!==T.retryLane))throw T.retryLane=I,$s(a,I),mr(p,a,I),d0;bp(),s=h1(a,s,c)}else a=T.treeContext,Ct=Wr(I.nextSibling),kn=s,rt=!0,Pa=null,Kr=!1,a!==null&&ZA(s,a),s=up(s,p),s.flags|=4096;return s}return a=Ao(a.child,{mode:p.mode,children:p.children}),a.ref=s.ref,s.child=a,a.return=s,a}function cp(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function h0(a,s,c,p,b){return Js(s),c=Kv(a,s,c,p,void 0,b),p=Yv(),a!==null&&!an?(Wv(a,s,b),Ro(a,s,b)):(rt&&p&&Iv(s),s.flags|=1,Un(a,s,c,b),s.child)}function p1(a,s,c,p,b,T){return Js(s),s.updateQueue=null,c=yw(s,p,c,b),gw(a),p=Yv(),a!==null&&!an?(Wv(a,s,T),Ro(a,s,T)):(rt&&p&&Iv(s),s.flags|=1,Un(a,s,c,T),s.child)}function m1(a,s,c,p,b){if(Js(s),s.stateNode===null){var T=nu,I=c.contextType;typeof I=="object"&&I!==null&&(T=Ln(I)),T=new c(p,T),s.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=c0,s.stateNode=T,T._reactInternals=s,T=s.stateNode,T.props=p,T.state=s.memoizedState,T.refs={},qv(s),I=c.contextType,T.context=typeof I=="object"&&I!==null?Ln(I):nu,T.state=s.memoizedState,I=c.getDerivedStateFromProps,typeof I=="function"&&(u0(s,c,I,p),T.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(I=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),I!==T.state&&c0.enqueueReplaceState(T,T.state,null),ff(s,p,T,b),cf(),T.state=s.memoizedState),typeof T.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(a===null){T=s.stateNode;var L=s.memoizedProps,$=nl(c,L);T.props=$;var ee=T.context,ce=c.contextType;I=nu,typeof ce=="object"&&ce!==null&&(I=Ln(ce));var de=c.getDerivedStateFromProps;ce=typeof de=="function"||typeof T.getSnapshotBeforeUpdate=="function",L=s.pendingProps!==L,ce||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(L||ee!==I)&&t1(s,T,p,I),Ma=!1;var ne=s.memoizedState;T.state=ne,ff(s,p,T,b),cf(),ee=s.memoizedState,L||ne!==ee||Ma?(typeof de=="function"&&(u0(s,c,de,p),ee=s.memoizedState),($=Ma||e1(s,c,$,p,ne,ee,I))?(ce||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=ee),T.props=p,T.state=ee,T.context=I,p=$):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{T=s.stateNode,zv(a,s),I=s.memoizedProps,ce=nl(c,I),T.props=ce,de=s.pendingProps,ne=T.context,ee=c.contextType,$=nu,typeof ee=="object"&&ee!==null&&($=Ln(ee)),L=c.getDerivedStateFromProps,(ee=typeof L=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(I!==de||ne!==$)&&t1(s,T,p,$),Ma=!1,ne=s.memoizedState,T.state=ne,ff(s,p,T,b),cf();var ae=s.memoizedState;I!==de||ne!==ae||Ma||a!==null&&a.dependencies!==null&&Gh(a.dependencies)?(typeof L=="function"&&(u0(s,c,L,p),ae=s.memoizedState),(ce=Ma||e1(s,c,ce,p,ne,ae,$)||a!==null&&a.dependencies!==null&&Gh(a.dependencies))?(ee||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,ae,$),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,ae,$)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||I===a.memoizedProps&&ne===a.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ne===a.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=ae),T.props=p,T.state=ae,T.context=$,p=ce):(typeof T.componentDidUpdate!="function"||I===a.memoizedProps&&ne===a.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&ne===a.memoizedState||(s.flags|=1024),p=!1)}return T=p,cp(a,s),p=(s.flags&128)!==0,T||p?(T=s.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:T.render(),s.flags|=1,a!==null&&p?(s.child=el(s,a.child,null,b),s.child=el(s,null,c,b)):Un(a,s,c,b),s.memoizedState=T.state,a=s.child):a=Ro(a,s,b),a}function g1(a,s,c,p){return Ys(),s.flags|=256,Un(a,s,c,p),s.child}var p0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function m0(a){return{baseLanes:a,cachePool:ow()}}function g0(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Nr),a}function y1(a,s,c){var p=s.pendingProps,b=!1,T=(s.flags&128)!==0,I;if((I=T)||(I=a!==null&&a.memoizedState===null?!1:($t.current&2)!==0),I&&(b=!0,s.flags&=-129),I=(s.flags&32)!==0,s.flags&=-33,a===null){if(rt){if(b?ka(s):La(),(a=Ct)?(a=AC(a,Kr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Ia!==null?{id:eo,overflow:to}:null,retryLane:536870912,hydrationErrors:null},c=JA(a),c.return=s,s.child=c,kn=s,Ct=null)):a=null,a===null)throw Na(s);return Q0(a)?s.lanes=32:s.lanes=536870912,null}var L=p.children;return p=p.fallback,b?(La(),b=s.mode,L=fp({mode:"hidden",children:L},b),p=Ks(p,b,c,null),L.return=s,p.return=s,L.sibling=p,s.child=L,p=s.child,p.memoizedState=m0(c),p.childLanes=g0(a,I,c),s.memoizedState=p0,gf(null,p)):(ka(s),y0(s,L))}var $=a.memoizedState;if($!==null&&(L=$.dehydrated,L!==null)){if(T)s.flags&256?(ka(s),s.flags&=-257,s=v0(a,s,c)):s.memoizedState!==null?(La(),s.child=a.child,s.flags|=128,s=null):(La(),L=p.fallback,b=s.mode,p=fp({mode:"visible",children:p.children},b),L=Ks(L,b,c,null),L.flags|=2,p.return=s,L.return=s,p.sibling=L,s.child=p,el(s,a.child,null,c),p=s.child,p.memoizedState=m0(c),p.childLanes=g0(a,I,c),s.memoizedState=p0,s=gf(null,p));else if(ka(s),Q0(L)){if(I=L.nextSibling&&L.nextSibling.dataset,I)var ee=I.dgst;I=ee,p=Error(r(419)),p.stack="",p.digest=I,rf({value:p,source:null,stack:null}),s=v0(a,s,c)}else if(an||au(a,s,c,!1),I=(c&a.childLanes)!==0,an||I){if(I=xt,I!==null&&(p=Lc(I,c),p!==0&&p!==$.retryLane))throw $.retryLane=p,$s(a,p),mr(I,a,p),d0;X0(L)||bp(),s=v0(a,s,c)}else X0(L)?(s.flags|=192,s.child=a.child,s=null):(a=$.treeContext,Ct=Wr(L.nextSibling),kn=s,rt=!0,Pa=null,Kr=!1,a!==null&&ZA(s,a),s=y0(s,p.children),s.flags|=4096);return s}return b?(La(),L=p.fallback,b=s.mode,$=a.child,ee=$.sibling,p=Ao($,{mode:"hidden",children:p.children}),p.subtreeFlags=$.subtreeFlags&65011712,ee!==null?L=Ao(ee,L):(L=Ks(L,b,c,null),L.flags|=2),L.return=s,p.return=s,p.sibling=L,s.child=p,gf(null,p),p=s.child,L=a.child.memoizedState,L===null?L=m0(c):(b=L.cachePool,b!==null?($=rn._currentValue,b=b.parent!==$?{parent:$,pool:$}:b):b=ow(),L={baseLanes:L.baseLanes|c,cachePool:b}),p.memoizedState=L,p.childLanes=g0(a,I,c),s.memoizedState=p0,gf(a.child,p)):(ka(s),c=a.child,a=c.sibling,c=Ao(c,{mode:"visible",children:p.children}),c.return=s,c.sibling=null,a!==null&&(I=s.deletions,I===null?(s.deletions=[a],s.flags|=16):I.push(a)),s.child=c,s.memoizedState=null,c)}function y0(a,s){return s=fp({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function fp(a,s){return a=wr(22,a,null,s),a.lanes=0,a}function v0(a,s,c){return el(s,a.child,null,c),a=y0(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function v1(a,s,c){a.lanes|=s;var p=a.alternate;p!==null&&(p.lanes|=s),Dv(a.return,s,c)}function _0(a,s,c,p,b,T){var I=a.memoizedState;I===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:b,treeForkCount:T}:(I.isBackwards=s,I.rendering=null,I.renderingStartTime=0,I.last=p,I.tail=c,I.tailMode=b,I.treeForkCount=T)}function _1(a,s,c){var p=s.pendingProps,b=p.revealOrder,T=p.tail;p=p.children;var I=$t.current,L=(I&2)!==0;if(L?(I=I&1|2,s.flags|=128):I&=1,Ee($t,I),Un(a,s,p,c),p=rt?nf:0,!L&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&v1(a,c,s);else if(a.tag===19)v1(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(c=s.child,b=null;c!==null;)a=c.alternate,a!==null&&Zh(a)===null&&(b=c),c=c.sibling;c=b,c===null?(b=s.child,s.child=null):(b=c.sibling,c.sibling=null),_0(s,!1,b,c,T,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=s.child,s.child=null;b!==null;){if(a=b.alternate,a!==null&&Zh(a)===null){s.child=b;break}a=b.sibling,b.sibling=c,c=b,b=a}_0(s,!0,c,null,T,p);break;case"together":_0(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function Ro(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),qa|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(au(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=Ao(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=Ao(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function b0(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Gh(a)))}function Tq(a,s,c){switch(s.tag){case 3:te(s,s.stateNode.containerInfo),Ra(s,rn,a.memoizedState.cache),Ys();break;case 27:case 5:_e(s);break;case 4:te(s,s.stateNode.containerInfo);break;case 10:Ra(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Gv(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(ka(s),s.flags|=128,null):(c&s.child.childLanes)!==0?y1(a,s,c):(ka(s),a=Ro(a,s,c),a!==null?a.sibling:null);ka(s);break;case 19:var b=(a.flags&128)!==0;if(p=(c&s.childLanes)!==0,p||(au(a,s,c,!1),p=(c&s.childLanes)!==0),b){if(p)return _1(a,s,c);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Ee($t,$t.current),p)break;return null;case 22:return s.lanes=0,f1(a,s,c,s.pendingProps);case 24:Ra(s,rn,a.memoizedState.cache)}return Ro(a,s,c)}function b1(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)an=!0;else{if(!b0(a,c)&&(s.flags&128)===0)return an=!1,Tq(a,s,c);an=(a.flags&131072)!==0}else an=!1,rt&&(s.flags&1048576)!==0&&QA(s,nf,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(a=Qs(s.elementType),s.type=a,typeof a=="function")Av(a)?(p=nl(a,p),s.tag=1,s=m1(null,s,a,p,c)):(s.tag=0,s=h0(null,s,a,p,c));else{if(a!=null){var b=a.$$typeof;if(b===q){s.tag=11,s=l1(null,s,a,p,c);break e}else if(b===O){s.tag=14,s=u1(null,s,a,p,c);break e}}throw s=Se(a)||a,Error(r(306,s,""))}}return s;case 0:return h0(a,s,s.type,s.pendingProps,c);case 1:return p=s.type,b=nl(p,s.pendingProps),m1(a,s,p,b,c);case 3:e:{if(te(s,s.stateNode.containerInfo),a===null)throw Error(r(387));p=s.pendingProps;var T=s.memoizedState;b=T.element,zv(a,s),ff(s,p,null,c);var I=s.memoizedState;if(p=I.cache,Ra(s,rn,p),p!==T.cache&&Ov(s,[rn],c,!0),cf(),p=I.element,T.isDehydrated)if(T={element:p,isDehydrated:!1,cache:I.cache},s.updateQueue.baseState=T,s.memoizedState=T,s.flags&256){s=g1(a,s,p,c);break e}else if(p!==b){b=Hr(Error(r(424)),s),rf(b),s=g1(a,s,p,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ct=Wr(a.firstChild),kn=s,rt=!0,Pa=null,Kr=!0,c=fw(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ys(),p===b){s=Ro(a,s,c);break e}Un(a,s,p,c)}s=s.child}return s;case 26:return cp(a,s),a===null?(c=RC(s.type,null,s.pendingProps,null))?s.memoizedState=c:rt||(c=s.type,a=s.pendingProps,p=Cp(be.current).createElement(c),p[en]=s,p[Sn]=a,Vn(p,c,a),tn(p),s.stateNode=p):s.memoizedState=RC(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return _e(s),a===null&&rt&&(p=s.stateNode=IC(s.type,s.pendingProps,be.current),kn=s,Kr=!0,b=Ct,Ha(s.type)?(Z0=b,Ct=Wr(p.firstChild)):Ct=b),Un(a,s,s.pendingProps.children,c),cp(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&rt&&((b=p=Ct)&&(p=Qq(p,s.type,s.pendingProps,Kr),p!==null?(s.stateNode=p,kn=s,Ct=Wr(p.firstChild),Kr=!1,b=!0):b=!1),b||Na(s)),_e(s),b=s.type,T=s.pendingProps,I=a!==null?a.memoizedProps:null,p=T.children,Y0(b,T)?p=null:I!==null&&Y0(b,I)&&(s.flags|=32),s.memoizedState!==null&&(b=Kv(a,s,hq,null,null,c),Rf._currentValue=b),cp(a,s),Un(a,s,p,c),s.child;case 6:return a===null&&rt&&((a=c=Ct)&&(c=Zq(c,s.pendingProps,Kr),c!==null?(s.stateNode=c,kn=s,Ct=null,a=!0):a=!1),a||Na(s)),null;case 13:return y1(a,s,c);case 4:return te(s,s.stateNode.containerInfo),p=s.pendingProps,a===null?s.child=el(s,null,p,c):Un(a,s,p,c),s.child;case 11:return l1(a,s,s.type,s.pendingProps,c);case 7:return Un(a,s,s.pendingProps,c),s.child;case 8:return Un(a,s,s.pendingProps.children,c),s.child;case 12:return Un(a,s,s.pendingProps.children,c),s.child;case 10:return p=s.pendingProps,Ra(s,s.type,p.value),Un(a,s,p.children,c),s.child;case 9:return b=s.type._context,p=s.pendingProps.children,Js(s),b=Ln(b),p=p(b),s.flags|=1,Un(a,s,p,c),s.child;case 14:return u1(a,s,s.type,s.pendingProps,c);case 15:return c1(a,s,s.type,s.pendingProps,c);case 19:return _1(a,s,c);case 31:return Eq(a,s,c);case 22:return f1(a,s,c,s.pendingProps);case 24:return Js(s),p=Ln(rn),a===null?(b=Uv(),b===null&&(b=xt,T=kv(),b.pooledCache=T,T.refCount++,T!==null&&(b.pooledCacheLanes|=c),b=T),s.memoizedState={parent:p,cache:b},qv(s),Ra(s,rn,b)):((a.lanes&c)!==0&&(zv(a,s),ff(s,null,null,c),cf()),b=a.memoizedState,T=s.memoizedState,b.parent!==p?(b={parent:p,cache:p},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),Ra(s,rn,p)):(p=T.cache,Ra(s,rn,p),p!==b.cache&&Ov(s,[rn],c,!0))),Un(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Mo(a){a.flags|=4}function E0(a,s,c,p,b){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(K1())a.flags|=8192;else throw Zs=Wh,Vv}else a.flags&=-16777217}function E1(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!LC(s))if(K1())a.flags|=8192;else throw Zs=Wh,Vv}function dp(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?vh():536870912,a.lanes|=s,vu|=s)}function yf(a,s){if(!rt)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function It(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,p=0;if(s)for(var b=a.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=p,a.childLanes=c,s}function Sq(a,s,c){var p=s.pendingProps;switch(Pv(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(s),null;case 1:return It(s),null;case 3:return c=s.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),Io(rn),W(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(ou(s)?Mo(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Rv())),It(s),null;case 26:var b=s.type,T=s.memoizedState;return a===null?(Mo(s),T!==null?(It(s),E1(s,T)):(It(s),E0(s,b,null,p,c))):T?T!==a.memoizedState?(Mo(s),It(s),E1(s,T)):(It(s),s.flags&=-16777217):(a=a.memoizedProps,a!==p&&Mo(s),It(s),E0(s,b,a,p,c)),null;case 27:if(ge(s),c=be.current,b=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&Mo(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return It(s),null}a=se.current,ou(s)?ew(s):(a=IC(b,p,c),s.stateNode=a,Mo(s))}return It(s),null;case 5:if(ge(s),b=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&Mo(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return It(s),null}if(T=se.current,ou(s))ew(s);else{var I=Cp(be.current);switch(T){case 1:T=I.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:T=I.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":T=I.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":T=I.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":T=I.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof p.is=="string"?I.createElement("select",{is:p.is}):I.createElement("select"),p.multiple?T.multiple=!0:p.size&&(T.size=p.size);break;default:T=typeof p.is=="string"?I.createElement(b,{is:p.is}):I.createElement(b)}}T[en]=s,T[Sn]=p;e:for(I=s.child;I!==null;){if(I.tag===5||I.tag===6)T.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===s)break e;for(;I.sibling===null;){if(I.return===null||I.return===s)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}s.stateNode=T;e:switch(Vn(T,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Mo(s)}}return It(s),E0(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==p&&Mo(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(a=be.current,ou(s)){if(a=s.stateNode,c=s.memoizedProps,p=null,b=kn,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}a[en]=s,a=!!(a.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||yC(a.nodeValue,c)),a||Na(s,!0)}else a=Cp(a).createTextNode(p),a[en]=s,s.stateNode=a}return It(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(p=ou(s),c!==null){if(a===null){if(!p)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[en]=s}else Ys(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;It(s),a=!1}else c=Rv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(Ir(s),s):(Ir(s),null);if((s.flags&128)!==0)throw Error(r(558))}return It(s),null;case 13:if(p=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=ou(s),p!==null&&p.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[en]=s}else Ys(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;It(s),b=!1}else b=Rv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(Ir(s),s):(Ir(s),null)}return Ir(s),(s.flags&128)!==0?(s.lanes=c,s):(c=p!==null,a=a!==null&&a.memoizedState!==null,c&&(p=s.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),T=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(T=p.memoizedState.cachePool.pool),T!==b&&(p.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),dp(s,s.updateQueue),It(s),null);case 4:return W(),a===null&&F0(s.stateNode.containerInfo),It(s),null;case 10:return Io(s.type),It(s),null;case 19:if(le($t),p=s.memoizedState,p===null)return It(s),null;if(b=(s.flags&128)!==0,T=p.rendering,T===null)if(b)yf(p,!1);else{if(jt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(T=Zh(a),T!==null){for(s.flags|=128,yf(p,!1),a=T.updateQueue,s.updateQueue=a,dp(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)WA(c,a),c=c.sibling;return Ee($t,$t.current&1|2),rt&&wo(s,p.treeForkCount),s.child}a=a.sibling}p.tail!==null&&er()>yp&&(s.flags|=128,b=!0,yf(p,!1),s.lanes=4194304)}else{if(!b)if(a=Zh(T),a!==null){if(s.flags|=128,b=!0,a=a.updateQueue,s.updateQueue=a,dp(s,a),yf(p,!0),p.tail===null&&p.tailMode==="hidden"&&!T.alternate&&!rt)return It(s),null}else 2*er()-p.renderingStartTime>yp&&c!==536870912&&(s.flags|=128,b=!0,yf(p,!1),s.lanes=4194304);p.isBackwards?(T.sibling=s.child,s.child=T):(a=p.last,a!==null?a.sibling=T:s.child=T,p.last=T)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=er(),a.sibling=null,c=$t.current,Ee($t,b?c&1|2:c&1),rt&&wo(s,p.treeForkCount),a):(It(s),null);case 22:case 23:return Ir(s),Hv(),p=s.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(c&536870912)!==0&&(s.flags&128)===0&&(It(s),s.subtreeFlags&6&&(s.flags|=8192)):It(s),c=s.updateQueue,c!==null&&dp(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048),a!==null&&le(Xs),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Io(rn),It(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function xq(a,s){switch(Pv(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Io(rn),W(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return ge(s),null;case 31:if(s.memoizedState!==null){if(Ir(s),s.alternate===null)throw Error(r(340));Ys()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Ir(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ys()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return le($t),null;case 4:return W(),null;case 10:return Io(s.type),null;case 22:case 23:return Ir(s),Hv(),a!==null&&le(Xs),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Io(rn),null;case 25:return null;default:return null}}function T1(a,s){switch(Pv(s),s.tag){case 3:Io(rn),W();break;case 26:case 27:case 5:ge(s);break;case 4:W();break;case 31:s.memoizedState!==null&&Ir(s);break;case 13:Ir(s);break;case 19:le($t);break;case 10:Io(s.type);break;case 22:case 23:Ir(s),Hv(),a!==null&&le(Xs);break;case 24:Io(rn)}}function vf(a,s){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var b=p.next;c=b;do{if((c.tag&a)===a){p=void 0;var T=c.create,I=c.inst;p=T(),I.destroy=p}c=c.next}while(c!==b)}}catch(L){gt(s,s.return,L)}}function Ua(a,s,c){try{var p=s.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var T=b.next;p=T;do{if((p.tag&a)===a){var I=p.inst,L=I.destroy;if(L!==void 0){I.destroy=void 0,b=s;var $=c,ee=L;try{ee()}catch(ce){gt(b,$,ce)}}}p=p.next}while(p!==T)}}catch(ce){gt(s,s.return,ce)}}function S1(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{hw(s,c)}catch(p){gt(a,a.return,p)}}}function x1(a,s,c){c.props=nl(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(p){gt(a,s,p)}}function _f(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof c=="function"?a.refCleanup=c(p):c.current=p}}catch(b){gt(a,s,b)}}function no(a,s){var c=a.ref,p=a.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(b){gt(a,s,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){gt(a,s,b)}else c.current=null}function A1(a){var s=a.type,c=a.memoizedProps,p=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(b){gt(a,a.return,b)}}function T0(a,s,c){try{var p=a.stateNode;$q(p,a.type,c,s),p[Sn]=s}catch(b){gt(a,a.return,b)}}function w1(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ha(a.type)||a.tag===4}function S0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||w1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ha(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function x0(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=hi));else if(p!==4&&(p===27&&Ha(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(x0(a,s,c),a=a.sibling;a!==null;)x0(a,s,c),a=a.sibling}function hp(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(p!==4&&(p===27&&Ha(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(hp(a,s,c),a=a.sibling;a!==null;)hp(a,s,c),a=a.sibling}function C1(a){var s=a.stateNode,c=a.memoizedProps;try{for(var p=a.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);Vn(s,p,c),s[en]=a,s[Sn]=c}catch(T){gt(a,a.return,T)}}var Do=!1,sn=!1,A0=!1,I1=typeof WeakSet=="function"?WeakSet:Set,An=null;function Aq(a,s){if(a=a.containerInfo,$0=Op,a=zA(a),vv(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var b=p.anchorOffset,T=p.focusNode;p=p.focusOffset;try{c.nodeType,T.nodeType}catch{c=null;break e}var I=0,L=-1,$=-1,ee=0,ce=0,de=a,ne=null;t:for(;;){for(var ae;de!==c||b!==0&&de.nodeType!==3||(L=I+b),de!==T||p!==0&&de.nodeType!==3||($=I+p),de.nodeType===3&&(I+=de.nodeValue.length),(ae=de.firstChild)!==null;)ne=de,de=ae;for(;;){if(de===a)break t;if(ne===c&&++ee===b&&(L=I),ne===T&&++ce===p&&($=I),(ae=de.nextSibling)!==null)break;de=ne,ne=de.parentNode}de=ae}c=L===-1||$===-1?null:{start:L,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(K0={focusedElem:a,selectionRange:c},Op=!1,An=s;An!==null;)if(s=An,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,An=a;else for(;An!==null;){switch(s=An,T=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)b=a[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&T!==null){a=void 0,c=s,b=T.memoizedProps,T=T.memoizedState,p=c.stateNode;try{var Pe=nl(c.type,b);a=p.getSnapshotBeforeUpdate(Pe,T),p.__reactInternalSnapshotBeforeUpdate=a}catch(qe){gt(c,c.return,qe)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)J0(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":J0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,An=a;break}An=s.return}}function P1(a,s,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:ko(a,c),p&4&&vf(5,c);break;case 1:if(ko(a,c),p&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(I){gt(c,c.return,I)}else{var b=nl(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(b,s,a.__reactInternalSnapshotBeforeUpdate)}catch(I){gt(c,c.return,I)}}p&64&&S1(c),p&512&&_f(c,c.return);break;case 3:if(ko(a,c),p&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{hw(a,s)}catch(I){gt(c,c.return,I)}}break;case 27:s===null&&p&4&&C1(c);case 26:case 5:ko(a,c),s===null&&p&4&&A1(c),p&512&&_f(c,c.return);break;case 12:ko(a,c);break;case 31:ko(a,c),p&4&&M1(a,c);break;case 13:ko(a,c),p&4&&D1(a,c),p&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=Oq.bind(null,c),ez(a,c))));break;case 22:if(p=c.memoizedState!==null||Do,!p){s=s!==null&&s.memoizedState!==null||sn,b=Do;var T=sn;Do=p,(sn=s)&&!T?Lo(a,c,(c.subtreeFlags&8772)!==0):ko(a,c),Do=b,sn=T}break;case 30:break;default:ko(a,c)}}function N1(a){var s=a.alternate;s!==null&&(a.alternate=null,N1(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&jl(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Ot=null,fr=!1;function Oo(a,s,c){for(c=c.child;c!==null;)R1(a,s,c),c=c.sibling}function R1(a,s,c){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(ui,c)}catch{}switch(c.tag){case 26:sn||no(c,s),Oo(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:sn||no(c,s);var p=Ot,b=fr;Ha(c.type)&&(Ot=c.stateNode,fr=!1),Oo(a,s,c),If(c.stateNode),Ot=p,fr=b;break;case 5:sn||no(c,s);case 6:if(p=Ot,b=fr,Ot=null,Oo(a,s,c),Ot=p,fr=b,Ot!==null)if(fr)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(c.stateNode)}catch(T){gt(c,s,T)}else try{Ot.removeChild(c.stateNode)}catch(T){gt(c,s,T)}break;case 18:Ot!==null&&(fr?(a=Ot,SC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),wu(a)):SC(Ot,c.stateNode));break;case 4:p=Ot,b=fr,Ot=c.stateNode.containerInfo,fr=!0,Oo(a,s,c),Ot=p,fr=b;break;case 0:case 11:case 14:case 15:Ua(2,c,s),sn||Ua(4,c,s),Oo(a,s,c);break;case 1:sn||(no(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"&&x1(c,s,p)),Oo(a,s,c);break;case 21:Oo(a,s,c);break;case 22:sn=(p=sn)||c.memoizedState!==null,Oo(a,s,c),sn=p;break;default:Oo(a,s,c)}}function M1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{wu(a)}catch(c){gt(s,s.return,c)}}}function D1(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{wu(a)}catch(c){gt(s,s.return,c)}}function wq(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new I1),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new I1),s;default:throw Error(r(435,a.tag))}}function pp(a,s){var c=wq(a);s.forEach(function(p){if(!c.has(p)){c.add(p);var b=kq.bind(null,a,p);p.then(b,b)}})}function dr(a,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var b=c[p],T=a,I=s,L=I;e:for(;L!==null;){switch(L.tag){case 27:if(Ha(L.type)){Ot=L.stateNode,fr=!1;break e}break;case 5:Ot=L.stateNode,fr=!1;break e;case 3:case 4:Ot=L.stateNode.containerInfo,fr=!0;break e}L=L.return}if(Ot===null)throw Error(r(160));R1(T,I,b),Ot=null,fr=!1,T=b.alternate,T!==null&&(T.return=null),b.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)O1(s,a),s=s.sibling}var _i=null;function O1(a,s){var c=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:dr(s,a),hr(a),p&4&&(Ua(3,a,a.return),vf(3,a),Ua(5,a,a.return));break;case 1:dr(s,a),hr(a),p&512&&(sn||c===null||no(c,c.return)),p&64&&Do&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var b=_i;if(dr(s,a),hr(a),p&512&&(sn||c===null||no(c,c.return)),p&4){var T=c!==null?c.memoizedState:null;if(p=a.memoizedState,c===null)if(p===null)if(a.stateNode===null){e:{p=a.type,c=a.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":T=b.getElementsByTagName("title")[0],(!T||T[ji]||T[en]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=b.createElement(p),b.head.insertBefore(T,b.querySelector("head > title"))),Vn(T,p,c),T[en]=a,tn(T),p=T;break e;case"link":var I=OC("link","href",b).get(p+(c.href||""));if(I){for(var L=0;L<I.length;L++)if(T=I[L],T.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&T.getAttribute("rel")===(c.rel==null?null:c.rel)&&T.getAttribute("title")===(c.title==null?null:c.title)&&T.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){I.splice(L,1);break t}}T=b.createElement(p),Vn(T,p,c),b.head.appendChild(T);break;case"meta":if(I=OC("meta","content",b).get(p+(c.content||""))){for(L=0;L<I.length;L++)if(T=I[L],T.getAttribute("content")===(c.content==null?null:""+c.content)&&T.getAttribute("name")===(c.name==null?null:c.name)&&T.getAttribute("property")===(c.property==null?null:c.property)&&T.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&T.getAttribute("charset")===(c.charSet==null?null:c.charSet)){I.splice(L,1);break t}}T=b.createElement(p),Vn(T,p,c),b.head.appendChild(T);break;default:throw Error(r(468,p))}T[en]=a,tn(T),p=T}a.stateNode=p}else kC(b,a.type,a.stateNode);else a.stateNode=DC(b,p,a.memoizedProps);else T!==p?(T===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):T.count--,p===null?kC(b,a.type,a.stateNode):DC(b,p,a.memoizedProps)):p===null&&a.stateNode!==null&&T0(a,a.memoizedProps,c.memoizedProps)}break;case 27:dr(s,a),hr(a),p&512&&(sn||c===null||no(c,c.return)),c!==null&&p&4&&T0(a,a.memoizedProps,c.memoizedProps);break;case 5:if(dr(s,a),hr(a),p&512&&(sn||c===null||no(c,c.return)),a.flags&32){b=a.stateNode;try{cr(b,"")}catch(Pe){gt(a,a.return,Pe)}}p&4&&a.stateNode!=null&&(b=a.memoizedProps,T0(a,b,c!==null?c.memoizedProps:b)),p&1024&&(A0=!0);break;case 6:if(dr(s,a),hr(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,c=a.stateNode;try{c.nodeValue=p}catch(Pe){gt(a,a.return,Pe)}}break;case 3:if(Np=null,b=_i,_i=Ip(s.containerInfo),dr(s,a),_i=b,hr(a),p&4&&c!==null&&c.memoizedState.isDehydrated)try{wu(s.containerInfo)}catch(Pe){gt(a,a.return,Pe)}A0&&(A0=!1,k1(a));break;case 4:p=_i,_i=Ip(a.stateNode.containerInfo),dr(s,a),hr(a),_i=p;break;case 12:dr(s,a),hr(a);break;case 31:dr(s,a),hr(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,pp(a,p)));break;case 13:dr(s,a),hr(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(gp=er()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,pp(a,p)));break;case 22:b=a.memoizedState!==null;var $=c!==null&&c.memoizedState!==null,ee=Do,ce=sn;if(Do=ee||b,sn=ce||$,dr(s,a),sn=ce,Do=ee,hr(a),p&8192)e:for(s=a.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(c===null||$||Do||sn||rl(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){$=c=s;try{if(T=$.stateNode,b)I=T.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{L=$.stateNode;var de=$.memoizedProps.style,ne=de!=null&&de.hasOwnProperty("display")?de.display:null;L.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Pe){gt($,$.return,Pe)}}}else if(s.tag===6){if(c===null){$=s;try{$.stateNode.nodeValue=b?"":$.memoizedProps}catch(Pe){gt($,$.return,Pe)}}}else if(s.tag===18){if(c===null){$=s;try{var ae=$.stateNode;b?xC(ae,!0):xC($.stateNode,!1)}catch(Pe){gt($,$.return,Pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=a.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,pp(a,c))));break;case 19:dr(s,a),hr(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,pp(a,p)));break;case 30:break;case 21:break;default:dr(s,a),hr(a)}}function hr(a){var s=a.flags;if(s&2){try{for(var c,p=a.return;p!==null;){if(w1(p)){c=p;break}p=p.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var b=c.stateNode,T=S0(a);hp(a,T,b);break;case 5:var I=c.stateNode;c.flags&32&&(cr(I,""),c.flags&=-33);var L=S0(a);hp(a,L,I);break;case 3:case 4:var $=c.stateNode.containerInfo,ee=S0(a);x0(a,ee,$);break;default:throw Error(r(161))}}catch(ce){gt(a,a.return,ce)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function k1(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;k1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function ko(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)P1(a,s.alternate,s),s=s.sibling}function rl(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Ua(4,s,s.return),rl(s);break;case 1:no(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&x1(s,s.return,c),rl(s);break;case 27:If(s.stateNode);case 26:case 5:no(s,s.return),rl(s);break;case 22:s.memoizedState===null&&rl(s);break;case 30:rl(s);break;default:rl(s)}a=a.sibling}}function Lo(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,b=a,T=s,I=T.flags;switch(T.tag){case 0:case 11:case 15:Lo(b,T,c),vf(4,T);break;case 1:if(Lo(b,T,c),p=T,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ee){gt(p,p.return,ee)}if(p=T,b=p.updateQueue,b!==null){var L=p.stateNode;try{var $=b.shared.hiddenCallbacks;if($!==null)for(b.shared.hiddenCallbacks=null,b=0;b<$.length;b++)dw($[b],L)}catch(ee){gt(p,p.return,ee)}}c&&I&64&&S1(T),_f(T,T.return);break;case 27:C1(T);case 26:case 5:Lo(b,T,c),c&&p===null&&I&4&&A1(T),_f(T,T.return);break;case 12:Lo(b,T,c);break;case 31:Lo(b,T,c),c&&I&4&&M1(b,T);break;case 13:Lo(b,T,c),c&&I&4&&D1(b,T);break;case 22:T.memoizedState===null&&Lo(b,T,c),_f(T,T.return);break;case 30:break;default:Lo(b,T,c)}s=s.sibling}}function w0(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&of(c))}function C0(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&of(a))}function bi(a,s,c,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)L1(a,s,c,p),s=s.sibling}function L1(a,s,c,p){var b=s.flags;switch(s.tag){case 0:case 11:case 15:bi(a,s,c,p),b&2048&&vf(9,s);break;case 1:bi(a,s,c,p);break;case 3:bi(a,s,c,p),b&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&of(a)));break;case 12:if(b&2048){bi(a,s,c,p),a=s.stateNode;try{var T=s.memoizedProps,I=T.id,L=T.onPostCommit;typeof L=="function"&&L(I,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){gt(s,s.return,$)}}else bi(a,s,c,p);break;case 31:bi(a,s,c,p);break;case 13:bi(a,s,c,p);break;case 23:break;case 22:T=s.stateNode,I=s.alternate,s.memoizedState!==null?T._visibility&2?bi(a,s,c,p):bf(a,s):T._visibility&2?bi(a,s,c,p):(T._visibility|=2,mu(a,s,c,p,(s.subtreeFlags&10256)!==0||!1)),b&2048&&w0(I,s);break;case 24:bi(a,s,c,p),b&2048&&C0(s.alternate,s);break;default:bi(a,s,c,p)}}function mu(a,s,c,p,b){for(b=b&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var T=a,I=s,L=c,$=p,ee=I.flags;switch(I.tag){case 0:case 11:case 15:mu(T,I,L,$,b),vf(8,I);break;case 23:break;case 22:var ce=I.stateNode;I.memoizedState!==null?ce._visibility&2?mu(T,I,L,$,b):bf(T,I):(ce._visibility|=2,mu(T,I,L,$,b)),b&&ee&2048&&w0(I.alternate,I);break;case 24:mu(T,I,L,$,b),b&&ee&2048&&C0(I.alternate,I);break;default:mu(T,I,L,$,b)}s=s.sibling}}function bf(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,p=s,b=p.flags;switch(p.tag){case 22:bf(c,p),b&2048&&w0(p.alternate,p);break;case 24:bf(c,p),b&2048&&C0(p.alternate,p);break;default:bf(c,p)}s=s.sibling}}var Ef=8192;function gu(a,s,c){if(a.subtreeFlags&Ef)for(a=a.child;a!==null;)U1(a,s,c),a=a.sibling}function U1(a,s,c){switch(a.tag){case 26:gu(a,s,c),a.flags&Ef&&a.memoizedState!==null&&dz(c,_i,a.memoizedState,a.memoizedProps);break;case 5:gu(a,s,c);break;case 3:case 4:var p=_i;_i=Ip(a.stateNode.containerInfo),gu(a,s,c),_i=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Ef,Ef=16777216,gu(a,s,c),Ef=p):gu(a,s,c));break;default:gu(a,s,c)}}function V1(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Tf(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];An=p,z1(p,a)}V1(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)q1(a),a=a.sibling}function q1(a){switch(a.tag){case 0:case 11:case 15:Tf(a),a.flags&2048&&Ua(9,a,a.return);break;case 3:Tf(a);break;case 12:Tf(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,mp(a)):Tf(a);break;default:Tf(a)}}function mp(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];An=p,z1(p,a)}V1(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Ua(8,s,s.return),mp(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,mp(s));break;default:mp(s)}a=a.sibling}}function z1(a,s){for(;An!==null;){var c=An;switch(c.tag){case 0:case 11:case 15:Ua(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:of(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,An=p;else e:for(c=a;An!==null;){p=An;var b=p.sibling,T=p.return;if(N1(p),p===c){An=null;break e}if(b!==null){b.return=T,An=b;break e}An=T}}}var Cq={getCacheForType:function(a){var s=Ln(rn),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return Ln(rn).controller.signal}},Iq=typeof WeakMap=="function"?WeakMap:Map,ft=0,xt=null,Je=null,Qe=0,mt=0,Pr=null,Va=!1,yu=!1,I0=!1,Uo=0,jt=0,qa=0,il=0,P0=0,Nr=0,vu=0,Sf=null,pr=null,N0=!1,gp=0,B1=0,yp=1/0,vp=null,za=null,hn=0,Ba=null,_u=null,Vo=0,R0=0,M0=null,j1=null,xf=0,D0=null;function Rr(){return(ft&2)!==0&&Qe!==0?Qe&-Qe:X.T!==null?q0():_h()}function F1(){if(Nr===0)if((Qe&536870912)===0||rt){var a=Rs;Rs<<=1,(Rs&3932160)===0&&(Rs=262144),Nr=a}else Nr=536870912;return a=Cr.current,a!==null&&(a.flags|=32),Nr}function mr(a,s,c){(a===xt&&(mt===2||mt===9)||a.cancelPendingCommit!==null)&&(bu(a,0),ja(a,Qe,Nr,!1)),Ms(a,c),((ft&2)===0||a!==xt)&&(a===xt&&((ft&2)===0&&(il|=c),jt===4&&ja(a,Qe,Nr,!1)),ro(a))}function H1(a,s,c){if((ft&6)!==0)throw Error(r(327));var p=!c&&(s&127)===0&&(s&a.expiredLanes)===0||ci(a,s),b=p?Rq(a,s):k0(a,s,!0),T=p;do{if(b===0){yu&&!p&&ja(a,s,0,!1);break}else{if(c=a.current.alternate,T&&!Pq(c)){b=k0(a,s,!1),T=!1;continue}if(b===2){if(T=s,a.errorRecoveryDisabledLanes&T)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){s=I;e:{var L=a;b=Sf;var $=L.current.memoizedState.isDehydrated;if($&&(bu(L,I).flags|=256),I=k0(L,I,!1),I!==2){if(I0&&!$){L.errorRecoveryDisabledLanes|=T,il|=T,b=4;break e}T=pr,pr=b,T!==null&&(pr===null?pr=T:pr.push.apply(pr,T))}b=I}if(T=!1,b!==2)continue}}if(b===1){bu(a,0),ja(a,s,0,!0);break}e:{switch(p=a,T=b,T){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ja(p,s,Nr,!Va);break e;case 2:pr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(b=gp+300-er(),10<b)){if(ja(p,s,Nr,!Va),qi(p,0,!0)!==0)break e;Vo=s,p.timeoutHandle=EC(G1.bind(null,p,c,pr,vp,N0,s,Nr,il,vu,Va,T,"Throttled",-0,0),b);break e}G1(p,c,pr,vp,N0,s,Nr,il,vu,Va,T,null,-0,0)}}break}while(!0);ro(a)}function G1(a,s,c,p,b,T,I,L,$,ee,ce,de,ne,ae){if(a.timeoutHandle=-1,de=s.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},U1(s,T,de);var Pe=(T&62914560)===T?gp-er():(T&4194048)===T?B1-er():0;if(Pe=hz(de,Pe),Pe!==null){Vo=T,a.cancelPendingCommit=Pe(Z1.bind(null,a,s,T,c,p,b,I,L,$,ce,de,null,ne,ae)),ja(a,T,I,!ee);return}}Z1(a,s,T,c,p,b,I,L,$)}function Pq(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var b=c[p],T=b.getSnapshot;b=b.value;try{if(!Ar(T(),b))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ja(a,s,c,p){s&=~P0,s&=~il,a.suspendedLanes|=s,a.pingedLanes&=~s,p&&(a.warmLanes|=s),p=a.expirationTimes;for(var b=s;0<b;){var T=31-Ht(b),I=1<<T;p[T]=-1,b&=~I}c!==0&&Ds(a,c,s)}function _p(){return(ft&6)===0?(Af(0),!1):!0}function O0(){if(Je!==null){if(mt===0)var a=Je.return;else a=Je,Co=Ws=null,Jv(a),cu=null,sf=0,a=Je;for(;a!==null;)T1(a.alternate,a),a=a.return;Je=null}}function bu(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,Wq(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Vo=0,O0(),xt=a,Je=c=Ao(a.current,null),Qe=s,mt=0,Pr=null,Va=!1,yu=ci(a,s),I0=!1,vu=Nr=P0=il=qa=jt=0,pr=Sf=null,N0=!1,(s&8)!==0&&(s|=s&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=s;0<p;){var b=31-Ht(p),T=1<<b;s|=a[b],p&=~T}return Uo=s,zh(),c}function $1(a,s){Ke=null,X.H=mf,s===uu||s===Yh?(s=lw(),mt=3):s===Vv?(s=lw(),mt=4):mt=s===d0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Pr=s,Je===null&&(jt=1,lp(a,Hr(s,a.current)))}function K1(){var a=Cr.current;return a===null?!0:(Qe&4194048)===Qe?Yr===null:(Qe&62914560)===Qe||(Qe&536870912)!==0?a===Yr:!1}function Y1(){var a=X.H;return X.H=mf,a===null?mf:a}function W1(){var a=X.A;return X.A=Cq,a}function bp(){jt=4,Va||(Qe&4194048)!==Qe&&Cr.current!==null||(yu=!0),(qa&134217727)===0&&(il&134217727)===0||xt===null||ja(xt,Qe,Nr,!1)}function k0(a,s,c){var p=ft;ft|=2;var b=Y1(),T=W1();(xt!==a||Qe!==s)&&(vp=null,bu(a,s)),s=!1;var I=jt;e:do try{if(mt!==0&&Je!==null){var L=Je,$=Pr;switch(mt){case 8:O0(),I=6;break e;case 3:case 2:case 9:case 6:Cr.current===null&&(s=!0);var ee=mt;if(mt=0,Pr=null,Eu(a,L,$,ee),c&&yu){I=0;break e}break;default:ee=mt,mt=0,Pr=null,Eu(a,L,$,ee)}}Nq(),I=jt;break}catch(ce){$1(a,ce)}while(!0);return s&&a.shellSuspendCounter++,Co=Ws=null,ft=p,X.H=b,X.A=T,Je===null&&(xt=null,Qe=0,zh()),I}function Nq(){for(;Je!==null;)J1(Je)}function Rq(a,s){var c=ft;ft|=2;var p=Y1(),b=W1();xt!==a||Qe!==s?(vp=null,yp=er()+500,bu(a,s)):yu=ci(a,s);e:do try{if(mt!==0&&Je!==null){s=Je;var T=Pr;t:switch(mt){case 1:mt=0,Pr=null,Eu(a,s,T,1);break;case 2:case 9:if(aw(T)){mt=0,Pr=null,X1(s);break}s=function(){mt!==2&&mt!==9||xt!==a||(mt=7),ro(a)},T.then(s,s);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:aw(T)?(mt=0,Pr=null,X1(s)):(mt=0,Pr=null,Eu(a,s,T,7));break;case 5:var I=null;switch(Je.tag){case 26:I=Je.memoizedState;case 5:case 27:var L=Je;if(I?LC(I):L.stateNode.complete){mt=0,Pr=null;var $=L.sibling;if($!==null)Je=$;else{var ee=L.return;ee!==null?(Je=ee,Ep(ee)):Je=null}break t}}mt=0,Pr=null,Eu(a,s,T,5);break;case 6:mt=0,Pr=null,Eu(a,s,T,6);break;case 8:O0(),jt=6;break e;default:throw Error(r(462))}}Mq();break}catch(ce){$1(a,ce)}while(!0);return Co=Ws=null,X.H=p,X.A=b,ft=c,Je!==null?0:(xt=null,Qe=0,zh(),jt)}function Mq(){for(;Je!==null&&!fv();)J1(Je)}function J1(a){var s=b1(a.alternate,a,Uo);a.memoizedProps=a.pendingProps,s===null?Ep(a):Je=s}function X1(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=p1(c,s,s.pendingProps,s.type,void 0,Qe);break;case 11:s=p1(c,s,s.pendingProps,s.type.render,s.ref,Qe);break;case 5:Jv(s);default:T1(c,s),s=Je=WA(s,Uo),s=b1(c,s,Uo)}a.memoizedProps=a.pendingProps,s===null?Ep(a):Je=s}function Eu(a,s,c,p){Co=Ws=null,Jv(s),cu=null,sf=0;var b=s.return;try{if(bq(a,b,s,c,Qe)){jt=1,lp(a,Hr(c,a.current)),Je=null;return}}catch(T){if(b!==null)throw Je=b,T;jt=1,lp(a,Hr(c,a.current)),Je=null;return}s.flags&32768?(rt||p===1?a=!0:yu||(Qe&536870912)!==0?a=!1:(Va=a=!0,(p===2||p===9||p===3||p===6)&&(p=Cr.current,p!==null&&p.tag===13&&(p.flags|=16384))),Q1(s,a)):Ep(s)}function Ep(a){var s=a;do{if((s.flags&32768)!==0){Q1(s,Va);return}a=s.return;var c=Sq(s.alternate,s,Uo);if(c!==null){Je=c;return}if(s=s.sibling,s!==null){Je=s;return}Je=s=a}while(s!==null);jt===0&&(jt=5)}function Q1(a,s){do{var c=xq(a.alternate,a);if(c!==null){c.flags&=32767,Je=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){Je=a;return}Je=a=c}while(a!==null);jt=6,Je=null}function Z1(a,s,c,p,b,T,I,L,$){a.cancelPendingCommit=null;do Tp();while(hn!==0);if((ft&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(T=s.lanes|s.childLanes,T|=Sv,pv(a,c,T,I,L,$),a===xt&&(Je=xt=null,Qe=0),_u=s,Ba=a,Vo=c,R0=T,M0=b,j1=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Lq(va,function(){return iC(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=X.T,X.T=null,b=ue.p,ue.p=2,I=ft,ft|=4;try{Aq(a,s,c)}finally{ft=I,ue.p=b,X.T=p}}hn=1,eC(),tC(),nC()}}function eC(){if(hn===1){hn=0;var a=Ba,s=_u,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=X.T,X.T=null;var p=ue.p;ue.p=2;var b=ft;ft|=4;try{O1(s,a);var T=K0,I=zA(a.containerInfo),L=T.focusedElem,$=T.selectionRange;if(I!==L&&L&&L.ownerDocument&&qA(L.ownerDocument.documentElement,L)){if($!==null&&vv(L)){var ee=$.start,ce=$.end;if(ce===void 0&&(ce=ee),"selectionStart"in L)L.selectionStart=ee,L.selectionEnd=Math.min(ce,L.value.length);else{var de=L.ownerDocument||document,ne=de&&de.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),Pe=L.textContent.length,qe=Math.min($.start,Pe),Et=$.end===void 0?qe:Math.min($.end,Pe);!ae.extend&&qe>Et&&(I=Et,Et=qe,qe=I);var J=VA(L,qe),Y=VA(L,Et);if(J&&Y&&(ae.rangeCount!==1||ae.anchorNode!==J.node||ae.anchorOffset!==J.offset||ae.focusNode!==Y.node||ae.focusOffset!==Y.offset)){var Z=de.createRange();Z.setStart(J.node,J.offset),ae.removeAllRanges(),qe>Et?(ae.addRange(Z),ae.extend(Y.node,Y.offset)):(Z.setEnd(Y.node,Y.offset),ae.addRange(Z))}}}}for(de=[],ae=L;ae=ae.parentNode;)ae.nodeType===1&&de.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<de.length;L++){var fe=de[L];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Op=!!$0,K0=$0=null}finally{ft=b,ue.p=p,X.T=c}}a.current=s,hn=2}}function tC(){if(hn===2){hn=0;var a=Ba,s=_u,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=X.T,X.T=null;var p=ue.p;ue.p=2;var b=ft;ft|=4;try{P1(a,s.alternate,s)}finally{ft=b,ue.p=p,X.T=c}}hn=3}}function nC(){if(hn===4||hn===3){hn=0,dh();var a=Ba,s=_u,c=Vo,p=j1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?hn=5:(hn=0,_u=Ba=null,rC(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(za=null),Eo(c),s=s.stateNode,Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(ui,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=X.T,b=ue.p,ue.p=2,X.T=null;try{for(var T=a.onRecoverableError,I=0;I<p.length;I++){var L=p[I];T(L.value,{componentStack:L.stack})}}finally{X.T=s,ue.p=b}}(Vo&3)!==0&&Tp(),ro(a),b=a.pendingLanes,(c&261930)!==0&&(b&42)!==0?a===D0?xf++:(xf=0,D0=a):xf=0,Af(0)}}function rC(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,of(s)))}function Tp(){return eC(),tC(),nC(),iC()}function iC(){if(hn!==5)return!1;var a=Ba,s=R0;R0=0;var c=Eo(Vo),p=X.T,b=ue.p;try{ue.p=32>c?32:c,X.T=null,c=M0,M0=null;var T=Ba,I=Vo;if(hn=0,_u=Ba=null,Vo=0,(ft&6)!==0)throw Error(r(331));var L=ft;if(ft|=4,q1(T.current),L1(T,T.current,I,c),ft=L,Af(0,!1),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(ui,T)}catch{}return!0}finally{ue.p=b,X.T=p,rC(a,s)}}function oC(a,s,c){s=Hr(c,s),s=f0(a.stateNode,s,2),a=Oa(a,s,2),a!==null&&(Ms(a,2),ro(a))}function gt(a,s,c){if(a.tag===3)oC(a,a,c);else for(;s!==null;){if(s.tag===3){oC(s,a,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(za===null||!za.has(p))){a=Hr(c,a),c=a1(2),p=Oa(s,c,2),p!==null&&(s1(c,p,s,a),Ms(p,2),ro(p));break}}s=s.return}}function L0(a,s,c){var p=a.pingCache;if(p===null){p=a.pingCache=new Iq;var b=new Set;p.set(s,b)}else b=p.get(s),b===void 0&&(b=new Set,p.set(s,b));b.has(c)||(I0=!0,b.add(c),a=Dq.bind(null,a,s,c),s.then(a,a))}function Dq(a,s,c){var p=a.pingCache;p!==null&&p.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,xt===a&&(Qe&c)===c&&(jt===4||jt===3&&(Qe&62914560)===Qe&&300>er()-gp?(ft&2)===0&&bu(a,0):P0|=c,vu===Qe&&(vu=0)),ro(a)}function aC(a,s){s===0&&(s=vh()),a=$s(a,s),a!==null&&(Ms(a,s),ro(a))}function Oq(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),aC(a,c)}function kq(a,s){var c=0;switch(a.tag){case 31:case 13:var p=a.stateNode,b=a.memoizedState;b!==null&&(c=b.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),aC(a,c)}function Lq(a,s){return dn(a,s)}var Sp=null,Tu=null,U0=!1,xp=!1,V0=!1,Fa=0;function ro(a){a!==Tu&&a.next===null&&(Tu===null?Sp=Tu=a:Tu=Tu.next=a),xp=!0,U0||(U0=!0,Vq())}function Af(a,s){if(!V0&&xp){V0=!0;do for(var c=!1,p=Sp;p!==null;){if(a!==0){var b=p.pendingLanes;if(b===0)var T=0;else{var I=p.suspendedLanes,L=p.pingedLanes;T=(1<<31-Ht(42|a)+1)-1,T&=b&~(I&~L),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(c=!0,cC(p,T))}else T=Qe,T=qi(p,p===xt?T:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(T&3)===0||ci(p,T)||(c=!0,cC(p,T));p=p.next}while(c);V0=!1}}function Uq(){sC()}function sC(){xp=U0=!1;var a=0;Fa!==0&&Yq()&&(a=Fa);for(var s=er(),c=null,p=Sp;p!==null;){var b=p.next,T=lC(p,s);T===0?(p.next=null,c===null?Sp=b:c.next=b,b===null&&(Tu=c)):(c=p,(a!==0||(T&3)!==0)&&(xp=!0)),p=b}hn!==0&&hn!==5||Af(a),Fa!==0&&(Fa=0)}function lC(a,s){for(var c=a.suspendedLanes,p=a.pingedLanes,b=a.expirationTimes,T=a.pendingLanes&-62914561;0<T;){var I=31-Ht(T),L=1<<I,$=b[I];$===-1?((L&c)===0||(L&p)!==0)&&(b[I]=hv(L,s)):$<=s&&(a.expiredLanes|=L),T&=~L}if(s=xt,c=Qe,c=qi(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,c===0||a===s&&(mt===2||mt===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&ya(p),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||ci(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(p!==null&&ya(p),Eo(c)){case 2:case 8:c=Oc;break;case 32:c=va;break;case 268435456:c=hh;break;default:c=va}return p=uC.bind(null,a),c=dn(c,p),a.callbackPriority=s,a.callbackNode=c,s}return p!==null&&p!==null&&ya(p),a.callbackPriority=2,a.callbackNode=null,2}function uC(a,s){if(hn!==0&&hn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Tp()&&a.callbackNode!==c)return null;var p=Qe;return p=qi(a,a===xt?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(H1(a,p,s),lC(a,er()),a.callbackNode!=null&&a.callbackNode===c?uC.bind(null,a):null)}function cC(a,s){if(Tp())return null;H1(a,s,!0)}function Vq(){Jq(function(){(ft&6)!==0?dn(Dc,Uq):sC()})}function q0(){if(Fa===0){var a=su;a===0&&(a=Ui,Ui<<=1,(Ui&261888)===0&&(Ui=256)),Fa=a}return Fa}function fC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:$l(""+a)}function dC(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function qq(a,s,c,p,b){if(s==="submit"&&c&&c.stateNode===b){var T=fC((b[Sn]||null).action),I=p.submitter;I&&(s=(s=I[Sn]||null)?fC(s.formAction):I.getAttribute("formAction"),s!==null&&(T=s,I=null));var L=new Ji("action","action",null,p,b);a.push({event:L,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Fa!==0){var $=I?dC(b,I):new FormData(b);o0(c,{pending:!0,data:$,method:b.method,action:T},null,$)}}else typeof T=="function"&&(L.preventDefault(),$=I?dC(b,I):new FormData(b),o0(c,{pending:!0,data:$,method:b.method,action:T},T,$))},currentTarget:b}]})}}for(var z0=0;z0<Tv.length;z0++){var B0=Tv[z0],zq=B0.toLowerCase(),Bq=B0[0].toUpperCase()+B0.slice(1);vi(zq,"on"+Bq)}vi(FA,"onAnimationEnd"),vi(HA,"onAnimationIteration"),vi(GA,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(rq,"onTransitionRun"),vi(iq,"onTransitionStart"),vi(oq,"onTransitionCancel"),vi($A,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wf));function hC(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var p=a[c],b=p.event;p=p.listeners;e:{var T=void 0;if(s)for(var I=p.length-1;0<=I;I--){var L=p[I],$=L.instance,ee=L.currentTarget;if(L=L.listener,$!==T&&b.isPropagationStopped())break e;T=L,b.currentTarget=ee;try{T(b)}catch(ce){qh(ce)}b.currentTarget=null,T=$}else for(I=0;I<p.length;I++){if(L=p[I],$=L.instance,ee=L.currentTarget,L=L.listener,$!==T&&b.isPropagationStopped())break e;T=L,b.currentTarget=ee;try{T(b)}catch(ce){qh(ce)}b.currentTarget=null,T=$}}}}function Xe(a,s){var c=s[Bl];c===void 0&&(c=s[Bl]=new Set);var p=a+"__bubble";c.has(p)||(pC(s,a,2,!1),c.add(p))}function j0(a,s,c){var p=0;s&&(p|=4),pC(c,a,p,s)}var Ap="_reactListening"+Math.random().toString(36).slice(2);function F0(a){if(!a[Ap]){a[Ap]=!0,Uc.forEach(function(c){c!=="selectionchange"&&(jq.has(c)||j0(c,!1,a),j0(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Ap]||(s[Ap]=!0,j0("selectionchange",!1,s))}}function pC(a,s,c,p){switch(FC(s)){case 2:var b=gz;break;case 8:b=yz;break;default:b=i_}c=b.bind(null,s,c,a),b=void 0,!Vs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),p?b!==void 0?a.addEventListener(s,c,{capture:!0,passive:b}):a.addEventListener(s,c,!0):b!==void 0?a.addEventListener(s,c,{passive:b}):a.addEventListener(s,c,!1)}function H0(a,s,c,p,b){var T=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var L=p.stateNode.containerInfo;if(L===b)break;if(I===4)for(I=p.return;I!==null;){var $=I.tag;if(($===3||$===4)&&I.stateNode.containerInfo===b)return;I=I.return}for(;L!==null;){if(I=Fi(L),I===null)return;if($=I.tag,$===5||$===6||$===26||$===27){p=T=I;continue e}L=L.parentNode}}p=p.return}xa(function(){var ee=T,ce=zr(c),de=[];e:{var ne=KA.get(a);if(ne!==void 0){var ae=Ji,Pe=a;switch(a){case"keypress":if(zs(c)===0)break e;case"keydown":case"keyup":ae=Lh;break;case"focusin":Pe="focus",ae=js;break;case"focusout":Pe="blur",ae=js;break;case"beforeblur":case"afterblur":ae=js;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=w;break;case FA:case HA:case GA:ae=Ph;break;case $A:ae=j;break;case"scroll":case"scrollend":ae=Wc;break;case"wheel":ae=ie;break;case"copy":case"cut":case"paste":ae=Nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=xo;break;case"toggle":case"beforetoggle":ae=$e}var qe=(s&4)!==0,Et=!qe&&(a==="scroll"||a==="scrollend"),J=qe?ne!==null?ne+"Capture":null:ne;qe=[];for(var Y=ee,Z;Y!==null;){var fe=Y;if(Z=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||Z===null||J===null||(fe=pi(Y,J),fe!=null&&qe.push(Cf(Y,fe,Z))),Et)break;Y=Y.return}0<qe.length&&(ne=new ae(ne,Pe,null,c,ce),de.push({event:ne,listeners:qe}))}}if((s&7)===0){e:{if(ne=a==="mouseover"||a==="pointerover",ae=a==="mouseout"||a==="pointerout",ne&&c!==$c&&(Pe=c.relatedTarget||c.fromElement)&&(Fi(Pe)||Pe[Bi]))break e;if((ae||ne)&&(ne=ce.window===ce?ce:(ne=ce.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(Pe=c.relatedTarget||c.toElement,ae=ee,Pe=Pe?Fi(Pe):null,Pe!==null&&(Et=o(Pe),qe=Pe.tag,Pe!==Et||qe!==5&&qe!==27&&qe!==6)&&(Pe=null)):(ae=null,Pe=ee),ae!==Pe)){if(qe=Jc,fe="onMouseLeave",J="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(qe=xo,fe="onPointerLeave",J="onPointerEnter",Y="pointer"),Et=ae==null?ne:Sr(ae),Z=Pe==null?ne:Sr(Pe),ne=new qe(fe,Y+"leave",ae,c,ce),ne.target=Et,ne.relatedTarget=Z,fe=null,Fi(ce)===ee&&(qe=new qe(J,Y+"enter",Pe,c,ce),qe.target=Z,qe.relatedTarget=Et,fe=qe),Et=fe,ae&&Pe)t:{for(qe=Fq,J=ae,Y=Pe,Z=0,fe=J;fe;fe=qe(fe))Z++;fe=0;for(var ke=Y;ke;ke=qe(ke))fe++;for(;0<Z-fe;)J=qe(J),Z--;for(;0<fe-Z;)Y=qe(Y),fe--;for(;Z--;){if(J===Y||Y!==null&&J===Y.alternate){qe=J;break t}J=qe(J),Y=qe(Y)}qe=null}else qe=null;ae!==null&&mC(de,ne,ae,qe,!1),Pe!==null&&Et!==null&&mC(de,Et,Pe,qe,!0)}}e:{if(ne=ee?Sr(ee):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var at=MA;else if(NA(ne))if(DA)at=eq;else{at=Q5;var Re=X5}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&Gl(ee.elementType)&&(at=MA):at=Z5;if(at&&(at=at(a,ee))){RA(de,at,c,ce);break e}Re&&Re(a,ne,ee),a==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&Fc(ne,"number",ne.value)}switch(Re=ee?Sr(ee):window,a){case"focusin":(NA(Re)||Re.contentEditable==="true")&&(Zl=Re,_v=ee,tf=null);break;case"focusout":tf=_v=Zl=null;break;case"mousedown":bv=!0;break;case"contextmenu":case"mouseup":case"dragend":bv=!1,BA(de,c,ce);break;case"selectionchange":if(nq)break;case"keydown":case"keyup":BA(de,c,ce)}var Ye;if(ct)e:{switch(a){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Ql?Fs(a,c)&&(Ze="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ze="onCompositionStart");Ze&&(Zi&&c.locale!=="ko"&&(Ql||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Ql&&(Ye=Yc()):(Wi=ce,Kc="value"in Wi?Wi.value:Wi.textContent,Ql=!0)),Re=wp(ee,Ze),0<Re.length&&(Ze=new Qi(Ze,a,null,c,ce),de.push({event:Ze,listeners:Re}),Ye?Ze.data=Ye:(Ye=Xl(c),Ye!==null&&(Ze.data=Ye)))),(Ye=jr?K5(a,c):Y5(a,c))&&(Ze=wp(ee,"onBeforeInput"),0<Ze.length&&(Re=new Qi("onBeforeInput","beforeinput",null,c,ce),de.push({event:Re,listeners:Ze}),Re.data=Ye)),qq(de,a,ee,c,ce)}hC(de,s)})}function Cf(a,s,c){return{instance:a,listener:s,currentTarget:c}}function wp(a,s){for(var c=s+"Capture",p=[];a!==null;){var b=a,T=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||T===null||(b=pi(a,c),b!=null&&p.unshift(Cf(a,b,T)),b=pi(a,s),b!=null&&p.push(Cf(a,b,T))),a.tag===3)return p;a=a.return}return[]}function Fq(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function mC(a,s,c,p,b){for(var T=s._reactName,I=[];c!==null&&c!==p;){var L=c,$=L.alternate,ee=L.stateNode;if(L=L.tag,$!==null&&$===p)break;L!==5&&L!==26&&L!==27||ee===null||($=ee,b?(ee=pi(c,T),ee!=null&&I.unshift(Cf(c,ee,$))):b||(ee=pi(c,T),ee!=null&&I.push(Cf(c,ee,$)))),c=c.return}I.length!==0&&a.push({event:s,listeners:I})}var Hq=/\r\n?/g,Gq=/\u0000|\uFFFD/g;function gC(a){return(typeof a=="string"?a:""+a).replace(Hq,`
`).replace(Gq,"")}function yC(a,s){return s=gC(s),gC(a)===s}function bt(a,s,c,p,b,T){switch(c){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||cr(a,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&cr(a,""+p);break;case"className":xr(a,"class",p);break;case"tabIndex":xr(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(a,c,p);break;case"style":Gc(a,p,T);break;case"data":if(s!=="object"){xr(a,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=$l(""+p),a.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(c==="formAction"?(s!=="input"&&bt(a,s,"name",b.name,b,null),bt(a,s,"formEncType",b.formEncType,b,null),bt(a,s,"formMethod",b.formMethod,b,null),bt(a,s,"formTarget",b.formTarget,b,null)):(bt(a,s,"encType",b.encType,b,null),bt(a,s,"method",b.method,b,null),bt(a,s,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=$l(""+p),a.setAttribute(c,p);break;case"onClick":p!=null&&(a.onclick=hi);break;case"onScroll":p!=null&&Xe("scroll",a);break;case"onScrollEnd":p!=null&&Xe("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}c=$l(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""+p):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":p===!0?a.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,p):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(c,p):a.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(c):a.setAttribute(c,p);break;case"popover":Xe("beforetoggle",a),Xe("toggle",a),Fl(a,"popover",p);break;case"xlinkActuate":nn(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":nn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":nn(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":nn(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":nn(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":nn(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":nn(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":nn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":nn(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Fl(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=wh.get(c)||c,Fl(a,c,p))}}function G0(a,s,c,p,b,T){switch(c){case"style":Gc(a,p,T);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof p=="string"?cr(a,p):(typeof p=="number"||typeof p=="bigint")&&cr(a,""+p);break;case"onScroll":p!=null&&Xe("scroll",a);break;case"onScrollEnd":p!=null&&Xe("scrollend",a);break;case"onClick":p!=null&&(a.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vc.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),s=c.slice(2,b?c.length-7:void 0),T=a[Sn]||null,T=T!=null?T[c]:null,typeof T=="function"&&a.removeEventListener(s,T,b),typeof p=="function")){typeof T!="function"&&T!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,p,b);break e}c in a?a[c]=p:p===!0?a.setAttribute(c,""):Fl(a,c,p)}}}function Vn(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",a),Xe("load",a);var p=!1,b=!1,T;for(T in c)if(c.hasOwnProperty(T)){var I=c[T];if(I!=null)switch(T){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:bt(a,s,T,I,c,null)}}b&&bt(a,s,"srcSet",c.srcSet,c,null),p&&bt(a,s,"src",c.src,c,null);return;case"input":Xe("invalid",a);var L=T=I=b=null,$=null,ee=null;for(p in c)if(c.hasOwnProperty(p)){var ce=c[p];if(ce!=null)switch(p){case"name":b=ce;break;case"type":I=ce;break;case"checked":$=ce;break;case"defaultChecked":ee=ce;break;case"value":T=ce;break;case"defaultValue":L=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,s));break;default:bt(a,s,p,ce,c,null)}}Sh(a,T,L,$,ee,I,b,!1);return;case"select":Xe("invalid",a),p=I=T=null;for(b in c)if(c.hasOwnProperty(b)&&(L=c[b],L!=null))switch(b){case"value":T=L;break;case"defaultValue":I=L;break;case"multiple":p=L;default:bt(a,s,b,L,c,null)}s=T,c=I,a.multiple=!!p,s!=null?ba(a,!!p,s,!1):c!=null&&ba(a,!!p,c,!0);return;case"textarea":Xe("invalid",a),T=b=p=null;for(I in c)if(c.hasOwnProperty(I)&&(L=c[I],L!=null))switch(I){case"value":p=L;break;case"defaultValue":b=L;break;case"children":T=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:bt(a,s,I,L,c,null)}Ea(a,p,b,T);return;case"option":for($ in c)if(c.hasOwnProperty($)&&(p=c[$],p!=null))switch($){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:bt(a,s,$,p,c,null)}return;case"dialog":Xe("beforetoggle",a),Xe("toggle",a),Xe("cancel",a),Xe("close",a);break;case"iframe":case"object":Xe("load",a);break;case"video":case"audio":for(p=0;p<wf.length;p++)Xe(wf[p],a);break;case"image":Xe("error",a),Xe("load",a);break;case"details":Xe("toggle",a);break;case"embed":case"source":case"link":Xe("error",a),Xe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in c)if(c.hasOwnProperty(ee)&&(p=c[ee],p!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:bt(a,s,ee,p,c,null)}return;default:if(Gl(s)){for(ce in c)c.hasOwnProperty(ce)&&(p=c[ce],p!==void 0&&G0(a,s,ce,p,c,void 0));return}}for(L in c)c.hasOwnProperty(L)&&(p=c[L],p!=null&&bt(a,s,L,p,c,null))}function $q(a,s,c,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,T=null,I=null,L=null,$=null,ee=null,ce=null;for(ae in c){var de=c[ae];if(c.hasOwnProperty(ae)&&de!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":$=de;default:p.hasOwnProperty(ae)||bt(a,s,ae,null,p,de)}}for(var ne in p){var ae=p[ne];if(de=c[ne],p.hasOwnProperty(ne)&&(ae!=null||de!=null))switch(ne){case"type":T=ae;break;case"name":b=ae;break;case"checked":ee=ae;break;case"defaultChecked":ce=ae;break;case"value":I=ae;break;case"defaultValue":L=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:ae!==de&&bt(a,s,ne,ae,p,de)}}Hl(a,I,L,$,ee,ce,T,b);return;case"select":ae=I=L=ne=null;for(T in c)if($=c[T],c.hasOwnProperty(T)&&$!=null)switch(T){case"value":break;case"multiple":ae=$;default:p.hasOwnProperty(T)||bt(a,s,T,null,p,$)}for(b in p)if(T=p[b],$=c[b],p.hasOwnProperty(b)&&(T!=null||$!=null))switch(b){case"value":ne=T;break;case"defaultValue":L=T;break;case"multiple":I=T;default:T!==$&&bt(a,s,b,T,p,$)}s=L,c=I,p=ae,ne!=null?ba(a,!!c,ne,!1):!!p!=!!c&&(s!=null?ba(a,!!c,s,!0):ba(a,!!c,c?[]:"",!1));return;case"textarea":ae=ne=null;for(L in c)if(b=c[L],c.hasOwnProperty(L)&&b!=null&&!p.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:bt(a,s,L,null,p,b)}for(I in p)if(b=p[I],T=c[I],p.hasOwnProperty(I)&&(b!=null||T!=null))switch(I){case"value":ne=b;break;case"defaultValue":ae=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==T&&bt(a,s,I,b,p,T)}xh(a,ne,ae);return;case"option":for(var Pe in c)if(ne=c[Pe],c.hasOwnProperty(Pe)&&ne!=null&&!p.hasOwnProperty(Pe))switch(Pe){case"selected":a.selected=!1;break;default:bt(a,s,Pe,null,p,ne)}for($ in p)if(ne=p[$],ae=c[$],p.hasOwnProperty($)&&ne!==ae&&(ne!=null||ae!=null))switch($){case"selected":a.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:bt(a,s,$,ne,p,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in c)ne=c[qe],c.hasOwnProperty(qe)&&ne!=null&&!p.hasOwnProperty(qe)&&bt(a,s,qe,null,p,ne);for(ee in p)if(ne=p[ee],ae=c[ee],p.hasOwnProperty(ee)&&ne!==ae&&(ne!=null||ae!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:bt(a,s,ee,ne,p,ae)}return;default:if(Gl(s)){for(var Et in c)ne=c[Et],c.hasOwnProperty(Et)&&ne!==void 0&&!p.hasOwnProperty(Et)&&G0(a,s,Et,void 0,p,ne);for(ce in p)ne=p[ce],ae=c[ce],!p.hasOwnProperty(ce)||ne===ae||ne===void 0&&ae===void 0||G0(a,s,ce,ne,p,ae);return}}for(var J in c)ne=c[J],c.hasOwnProperty(J)&&ne!=null&&!p.hasOwnProperty(J)&&bt(a,s,J,null,p,ne);for(de in p)ne=p[de],ae=c[de],!p.hasOwnProperty(de)||ne===ae||ne==null&&ae==null||bt(a,s,de,ne,p,ae)}function vC(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kq(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var b=c[p],T=b.transferSize,I=b.initiatorType,L=b.duration;if(T&&L&&vC(I)){for(I=0,L=b.responseEnd,p+=1;p<c.length;p++){var $=c[p],ee=$.startTime;if(ee>L)break;var ce=$.transferSize,de=$.initiatorType;ce&&vC(de)&&($=$.responseEnd,I+=ce*($<L?1:(L-ee)/($-ee)))}if(--p,s+=8*(T+I)/(b.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var $0=null,K0=null;function Cp(a){return a.nodeType===9?a:a.ownerDocument}function _C(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bC(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Y0(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var W0=null;function Yq(){var a=window.event;return a&&a.type==="popstate"?a===W0?!1:(W0=a,!0):(W0=null,!1)}var EC=typeof setTimeout=="function"?setTimeout:void 0,Wq=typeof clearTimeout=="function"?clearTimeout:void 0,TC=typeof Promise=="function"?Promise:void 0,Jq=typeof queueMicrotask=="function"?queueMicrotask:typeof TC<"u"?function(a){return TC.resolve(null).then(a).catch(Xq)}:EC;function Xq(a){setTimeout(function(){throw a})}function Ha(a){return a==="head"}function SC(a,s){var c=s,p=0;do{var b=c.nextSibling;if(a.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(p===0){a.removeChild(b),wu(s);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")If(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,If(c);for(var T=c.firstChild;T;){var I=T.nextSibling,L=T.nodeName;T[ji]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&T.rel.toLowerCase()==="stylesheet"||c.removeChild(T),T=I}}else c==="body"&&If(a.ownerDocument.body);c=b}while(c);wu(s)}function xC(a,s){var c=a;a=0;do{var p=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=p}while(c)}function J0(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":J0(c),jl(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function Qq(a,s,c,p){for(;a.nodeType===1;){var b=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[ji])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(T=a.getAttribute("rel"),T==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(T!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(T=a.getAttribute("src"),(T!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&T&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var T=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===T)return a}else return a;if(a=Wr(a.nextSibling),a===null)break}return null}function Zq(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Wr(a.nextSibling),a===null))return null;return a}function AC(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Wr(a.nextSibling),a===null))return null;return a}function X0(a){return a.data==="$?"||a.data==="$~"}function Q0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function ez(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var p=function(){s(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function Wr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var Z0=null;function wC(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return Wr(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function CC(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function IC(a,s,c){switch(s=Cp(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function If(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);jl(a)}var Jr=new Map,PC=new Set;function Ip(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var qo=ue.d;ue.d={f:tz,r:nz,D:rz,C:iz,L:oz,m:az,X:lz,S:sz,M:uz};function tz(){var a=qo.f(),s=_p();return a||s}function nz(a){var s=qr(a);s!==null&&s.tag===5&&s.type==="form"?$w(s):qo.r(a)}var Su=typeof document>"u"?null:document;function NC(a,s,c){var p=Su;if(p&&typeof s=="string"&&s){var b=ur(s);b='link[rel="'+a+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),PC.has(b)||(PC.add(b),a={rel:a,crossOrigin:c,href:s},p.querySelector(b)===null&&(s=p.createElement("link"),Vn(s,"link",a),tn(s),p.head.appendChild(s)))}}function rz(a){qo.D(a),NC("dns-prefetch",a,null)}function iz(a,s){qo.C(a,s),NC("preconnect",a,s)}function oz(a,s,c){qo.L(a,s,c);var p=Su;if(p&&a&&s){var b='link[rel="preload"][as="'+ur(s)+'"]';s==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+ur(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+ur(c.imageSizes)+'"]')):b+='[href="'+ur(a)+'"]';var T=b;switch(s){case"style":T=xu(a);break;case"script":T=Au(a)}Jr.has(T)||(a=m({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),Jr.set(T,a),p.querySelector(b)!==null||s==="style"&&p.querySelector(Pf(T))||s==="script"&&p.querySelector(Nf(T))||(s=p.createElement("link"),Vn(s,"link",a),tn(s),p.head.appendChild(s)))}}function az(a,s){qo.m(a,s);var c=Su;if(c&&a){var p=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+ur(p)+'"][href="'+ur(a)+'"]',T=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Au(a)}if(!Jr.has(T)&&(a=m({rel:"modulepreload",href:a},s),Jr.set(T,a),c.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Nf(T)))return}p=c.createElement("link"),Vn(p,"link",a),tn(p),c.head.appendChild(p)}}}function sz(a,s,c){qo.S(a,s,c);var p=Su;if(p&&a){var b=Hi(p).hoistableStyles,T=xu(a);s=s||"default";var I=b.get(T);if(!I){var L={loading:0,preload:null};if(I=p.querySelector(Pf(T)))L.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},c),(c=Jr.get(T))&&e_(a,c);var $=I=p.createElement("link");tn($),Vn($,"link",a),$._p=new Promise(function(ee,ce){$.onload=ee,$.onerror=ce}),$.addEventListener("load",function(){L.loading|=1}),$.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Pp(I,s,p)}I={type:"stylesheet",instance:I,count:1,state:L},b.set(T,I)}}}function lz(a,s){qo.X(a,s);var c=Su;if(c&&a){var p=Hi(c).hoistableScripts,b=Au(a),T=p.get(b);T||(T=c.querySelector(Nf(b)),T||(a=m({src:a,async:!0},s),(s=Jr.get(b))&&t_(a,s),T=c.createElement("script"),tn(T),Vn(T,"link",a),c.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},p.set(b,T))}}function uz(a,s){qo.M(a,s);var c=Su;if(c&&a){var p=Hi(c).hoistableScripts,b=Au(a),T=p.get(b);T||(T=c.querySelector(Nf(b)),T||(a=m({src:a,async:!0,type:"module"},s),(s=Jr.get(b))&&t_(a,s),T=c.createElement("script"),tn(T),Vn(T,"link",a),c.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},p.set(b,T))}}function RC(a,s,c,p){var b=(b=be.current)?Ip(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=xu(c.href),c=Hi(b).hoistableStyles,p=c.get(s),p||(p={type:"style",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=xu(c.href);var T=Hi(b).hoistableStyles,I=T.get(a);if(I||(b=b.ownerDocument||b,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(a,I),(T=b.querySelector(Pf(a)))&&!T._p&&(I.instance=T,I.state.loading=5),Jr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Jr.set(a,c),T||cz(b,a,c,I.state))),s&&p===null)throw Error(r(528,""));return I}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Au(c),c=Hi(b).hoistableScripts,p=c.get(s),p||(p={type:"script",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function xu(a){return'href="'+ur(a)+'"'}function Pf(a){return'link[rel="stylesheet"]['+a+"]"}function MC(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function cz(a,s,c,p){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=a.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),Vn(s,"link",c),tn(s),a.head.appendChild(s))}function Au(a){return'[src="'+ur(a)+'"]'}function Nf(a){return"script[async]"+a}function DC(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var p=a.querySelector('style[data-href~="'+ur(c.href)+'"]');if(p)return s.instance=p,tn(p),p;var b=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),tn(p),Vn(p,"style",b),Pp(p,c.precedence,a),s.instance=p;case"stylesheet":b=xu(c.href);var T=a.querySelector(Pf(b));if(T)return s.state.loading|=4,s.instance=T,tn(T),T;p=MC(c),(b=Jr.get(b))&&e_(p,b),T=(a.ownerDocument||a).createElement("link"),tn(T);var I=T;return I._p=new Promise(function(L,$){I.onload=L,I.onerror=$}),Vn(T,"link",p),s.state.loading|=4,Pp(T,c.precedence,a),s.instance=T;case"script":return T=Au(c.src),(b=a.querySelector(Nf(T)))?(s.instance=b,tn(b),b):(p=c,(b=Jr.get(T))&&(p=m({},c),t_(p,b)),a=a.ownerDocument||a,b=a.createElement("script"),tn(b),Vn(b,"link",p),a.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,Pp(p,c.precedence,a));return s.instance}function Pp(a,s,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,T=b,I=0;I<p.length;I++){var L=p[I];if(L.dataset.precedence===s)T=L;else if(T!==b)break}T?T.parentNode.insertBefore(a,T.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function e_(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function t_(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Np=null;function OC(a,s,c){if(Np===null){var p=new Map,b=Np=new Map;b.set(c,p)}else b=Np,p=b.get(c),p||(p=new Map,b.set(c,p));if(p.has(a))return p;for(p.set(a,null),c=c.getElementsByTagName(a),b=0;b<c.length;b++){var T=c[b];if(!(T[ji]||T[en]||a==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var I=T.getAttribute(s)||"";I=a+I;var L=p.get(I);L?L.push(T):p.set(I,[T])}}return p}function kC(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function fz(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function LC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function dz(a,s,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=xu(p.href),T=s.querySelector(Pf(b));if(T){s=T._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Rp.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=T,tn(T);return}T=s.ownerDocument||s,p=MC(p),(b=Jr.get(b))&&e_(p,b),T=T.createElement("link"),tn(T);var I=T;I._p=new Promise(function(L,$){I.onload=L,I.onerror=$}),Vn(T,"link",p),c.instance=T}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Rp.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var n_=0;function hz(a,s){return a.stylesheets&&a.count===0&&Dp(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var p=setTimeout(function(){if(a.stylesheets&&Dp(a,a.stylesheets),a.unsuspend){var T=a.unsuspend;a.unsuspend=null,T()}},6e4+s);0<a.imgBytes&&n_===0&&(n_=62500*Kq());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Dp(a,a.stylesheets),a.unsuspend)){var T=a.unsuspend;a.unsuspend=null,T()}},(a.imgBytes>n_?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function Rp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Mp=null;function Dp(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Mp=new Map,s.forEach(pz,a),Mp=null,Rp.call(a))}function pz(a,s){if(!(s.state.loading&4)){var c=Mp.get(a);if(c)var p=c.get(null);else{c=new Map,Mp.set(a,c);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<b.length;T++){var I=b[T];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(c.set(I.dataset.precedence,I),p=I)}p&&c.set(null,p)}b=s.instance,I=b.getAttribute("data-precedence"),T=c.get(I)||p,T===p&&c.set(null,b),c.set(I,b),this.count++,p=Rp.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),T?T.parentNode.insertBefore(b,T.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),s.state.loading|=4}}var Rf={$$typeof:D,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function mz(a,s,c,p,b,T,I,L,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.hiddenUpdates=zi(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=T,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function UC(a,s,c,p,b,T,I,L,$,ee,ce,de){return a=new mz(a,s,c,I,$,ee,ce,de,L),s=1,T===!0&&(s|=24),T=wr(3,null,null,s),a.current=T,T.stateNode=a,s=kv(),s.refCount++,a.pooledCache=s,s.refCount++,T.memoizedState={element:p,isDehydrated:c,cache:s},qv(T),a}function VC(a){return a?(a=nu,a):nu}function qC(a,s,c,p,b,T){b=VC(b),p.context===null?p.context=b:p.pendingContext=b,p=Da(s),p.payload={element:c},T=T===void 0?null:T,T!==null&&(p.callback=T),c=Oa(a,p,s),c!==null&&(mr(c,a,s),uf(c,a,s))}function zC(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function r_(a,s){zC(a,s),(a=a.alternate)&&zC(a,s)}function BC(a){if(a.tag===13||a.tag===31){var s=$s(a,67108864);s!==null&&mr(s,a,67108864),r_(a,67108864)}}function jC(a){if(a.tag===13||a.tag===31){var s=Rr();s=Os(s);var c=$s(a,s);c!==null&&mr(c,a,s),r_(a,s)}}var Op=!0;function gz(a,s,c,p){var b=X.T;X.T=null;var T=ue.p;try{ue.p=2,i_(a,s,c,p)}finally{ue.p=T,X.T=b}}function yz(a,s,c,p){var b=X.T;X.T=null;var T=ue.p;try{ue.p=8,i_(a,s,c,p)}finally{ue.p=T,X.T=b}}function i_(a,s,c,p){if(Op){var b=o_(p);if(b===null)H0(a,s,p,kp,c),HC(a,p);else if(_z(b,a,s,c,p))p.stopPropagation();else if(HC(a,p),s&4&&-1<vz.indexOf(a)){for(;b!==null;){var T=qr(b);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var I=Vi(T.pendingLanes);if(I!==0){var L=T;for(L.pendingLanes|=2,L.entangledLanes|=2;I;){var $=1<<31-Ht(I);L.entanglements[1]|=$,I&=~$}ro(T),(ft&6)===0&&(yp=er()+500,Af(0))}}break;case 31:case 13:L=$s(T,2),L!==null&&mr(L,T,2),_p(),r_(T,2)}if(T=o_(p),T===null&&H0(a,s,p,kp,c),T===b)break;b=T}b!==null&&p.stopPropagation()}else H0(a,s,p,null,c)}}function o_(a){return a=zr(a),a_(a)}var kp=null;function a_(a){if(kp=null,a=Fi(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=l(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return kp=a,null}function FC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ns()){case Dc:return 2;case Oc:return 8;case va:case dv:return 32;case hh:return 268435456;default:return 32}default:return 32}}var s_=!1,Ga=null,$a=null,Ka=null,Mf=new Map,Df=new Map,Ya=[],vz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function HC(a,s){switch(a){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":Mf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Df.delete(s.pointerId)}}function Of(a,s,c,p,b,T){return a===null||a.nativeEvent!==T?(a={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:T,targetContainers:[b]},s!==null&&(s=qr(s),s!==null&&BC(s)),a):(a.eventSystemFlags|=p,s=a.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),a)}function _z(a,s,c,p,b){switch(s){case"focusin":return Ga=Of(Ga,a,s,c,p,b),!0;case"dragenter":return $a=Of($a,a,s,c,p,b),!0;case"mouseover":return Ka=Of(Ka,a,s,c,p,b),!0;case"pointerover":var T=b.pointerId;return Mf.set(T,Of(Mf.get(T)||null,a,s,c,p,b)),!0;case"gotpointercapture":return T=b.pointerId,Df.set(T,Of(Df.get(T)||null,a,s,c,p,b)),!0}return!1}function GC(a){var s=Fi(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){a.blockedOn=s,fi(a.priority,function(){jC(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,fi(a.priority,function(){jC(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Lp(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=o_(a.nativeEvent);if(c===null){c=a.nativeEvent;var p=new c.constructor(c.type,c);$c=p,c.target.dispatchEvent(p),$c=null}else return s=qr(c),s!==null&&BC(s),a.blockedOn=c,!1;s.shift()}return!0}function $C(a,s,c){Lp(a)&&c.delete(s)}function bz(){s_=!1,Ga!==null&&Lp(Ga)&&(Ga=null),$a!==null&&Lp($a)&&($a=null),Ka!==null&&Lp(Ka)&&(Ka=null),Mf.forEach($C),Df.forEach($C)}function Up(a,s){a.blockedOn===s&&(a.blockedOn=null,s_||(s_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bz)))}var Vp=null;function KC(a){Vp!==a&&(Vp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vp===a&&(Vp=null);for(var s=0;s<a.length;s+=3){var c=a[s],p=a[s+1],b=a[s+2];if(typeof p!="function"){if(a_(p||c)===null)continue;break}var T=qr(c);T!==null&&(a.splice(s,3),s-=3,o0(T,{pending:!0,data:b,method:c.method,action:p},p,b))}}))}function wu(a){function s($){return Up($,a)}Ga!==null&&Up(Ga,a),$a!==null&&Up($a,a),Ka!==null&&Up(Ka,a),Mf.forEach(s),Df.forEach(s);for(var c=0;c<Ya.length;c++){var p=Ya[c];p.blockedOn===a&&(p.blockedOn=null)}for(;0<Ya.length&&(c=Ya[0],c.blockedOn===null);)GC(c),c.blockedOn===null&&Ya.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var b=c[p],T=c[p+1],I=b[Sn]||null;if(typeof T=="function")I||KC(c);else if(I){var L=null;if(T&&T.hasAttribute("formAction")){if(b=T,I=T[Sn]||null)L=I.formAction;else if(a_(b)!==null)continue}else L=I.action;typeof L=="function"?c[p+1]=L:(c.splice(p,3),p-=3),KC(c)}}}function YC(){function a(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(I){return b=I})},focusReset:"manual",scroll:"manual"})}function s(){b!==null&&(b(),b=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),b!==null&&(b(),b=null)}}}function l_(a){this._internalRoot=a}qp.prototype.render=l_.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,p=Rr();qC(c,p,a,s,null,null)},qp.prototype.unmount=l_.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;qC(a.current,2,null,a,null,null),_p(),s[Bi]=null}};function qp(a){this._internalRoot=a}qp.prototype.unstable_scheduleHydration=function(a){if(a){var s=_h();a={blockedOn:null,target:a,priority:s};for(var c=0;c<Ya.length&&s!==0&&s<Ya[c].priority;c++);Ya.splice(c,0,a),c===0&&GC(a)}};var WC=e.version;if(WC!=="19.2.1")throw Error(r(527,WC,"19.2.1"));ue.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(s),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var Ez={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zp.isDisabled&&zp.supportsFiber)try{ui=zp.inject(Ez),Dn=zp}catch{}}return Lf.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,p="",b=n1,T=r1,I=i1;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(I=s.onRecoverableError)),s=UC(a,1,!1,null,null,c,p,null,b,T,I,YC),a[Bi]=s.current,F0(a),new l_(s)},Lf.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var p=!1,b="",T=n1,I=r1,L=i1,$=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(T=c.onUncaughtError),c.onCaughtError!==void 0&&(I=c.onCaughtError),c.onRecoverableError!==void 0&&(L=c.onRecoverableError),c.formState!==void 0&&($=c.formState)),s=UC(a,1,!0,s,c??null,p,b,$,T,I,L,YC),s.context=VC(null),c=s.current,p=Rr(),p=Os(p),b=Da(p),b.callback=null,Oa(c,b,p),c=p,s.current.lanes=c,Ms(s,c),ro(s),a[Bi]=s.current,F0(a),new qp(s)},Lf.version="19.2.1",Lf}var oI;function Oz(){if(oI)return d_.exports;oI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),d_.exports=Dz(),d_.exports}var kz=Oz();const Lz=bo(kz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),aI=t=>{const e=Vz(t);return e.charAt(0).toUpperCase()+e.slice(1)},NO=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),qz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},f)=>P.createElement("svg",{ref:f,...zz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:NO("lucide",i),...!o&&!qz(u)&&{"aria-hidden":"true"},...u},[...l.map(([d,h])=>P.createElement(d,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(t,e)=>{const n=P.forwardRef(({className:r,...i},o)=>P.createElement(Bz,{ref:o,iconNode:e,className:NO(`lucide-${Uz(aI(t))}`,`lucide-${t}`,r),...i}));return n.displayName=aI(t),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Fz=Ge("arrow-right",jz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Gz=Ge("banknote",Hz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Kz=Ge("bell",$z);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],sI=Ge("bot",Yz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lI=Ge("calendar",Wz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],RO=Ge("chef-hat",Jz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],uI=Ge("circle-alert",Xz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cI=Ge("circle-check",Qz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],eB=Ge("clipboard-list",Zz);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nB=Ge("clock",tB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],iB=Ge("cloud",rB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],aB=Ge("coins",oB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],lB=Ge("copy",sB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],cB=Ge("credit-card",uB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Zf=Ge("dollar-sign",fB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],hB=Ge("download",dB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"m18.226 5.226-2.52-2.52A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-.351",key:"1k2beg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],mB=Ge("file-pen-line",pB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yB=Ge("file-text",gB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],_B=Ge("history",vB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],EB=Ge("layout-dashboard",bB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],SB=Ge("log-in",TB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],AB=Ge("log-out",xB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mE=Ge("map-pin",wB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],IB=Ge("map",CB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],NB=Ge("menu",PB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],MB=Ge("package",RB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],OB=Ge("pen",DB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],MO=Ge("pencil",kB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],UB=Ge("phone",LB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gl=Ge("plus",VB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],DO=Ge("search",qB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],BB=Ge("send",zB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Nm=Ge("shopping-bag",jB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],gE=Ge("shopping-cart",FB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],OO=Ge("sparkles",HB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],kO=Ge("tag",GB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Sl=Ge("trash-2",$B);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],YB=Ge("trending-up",KB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],JB=Ge("triangle-alert",WB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],QB=Ge("upload",XB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rm=Ge("user",ZB);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tj=Ge("users",ej);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],rj=Ge("wallet",nj);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pi=Ge("x",ij),oj=()=>{};var fI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},aj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],u=t[n++],f=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},UO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,u=l?t[i+1]:0,f=i+2<t.length,d=f?t[i+2]:0,h=o>>2,m=(o&3)<<4|u>>4;let v=(u&15)<<2|d>>6,E=d&63;f||(E=64,l||(v=64)),r.push(n[h],n[m],n[v],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||d==null||m==null)throw new sj;const v=o<<2|u>>4;if(r.push(v),d!==64){const E=u<<4&240|d>>2;if(r.push(E),m!==64){const A=d<<6&192|m;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lj=function(t){const e=LO(t);return UO.encodeByteArray(e,!0)},Mm=function(t){return lj(t).replace(/\./g,"")},VO=function(t){try{return UO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=()=>uj().__FIREBASE_DEFAULTS__,fj=()=>{if(typeof process>"u"||typeof fI>"u")return;const t=fI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VO(t[1]);return e&&JSON.parse(e)},Kg=()=>{try{return oj()||cj()||fj()||dj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qO=t=>{var e,n;return(n=(e=Kg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},hj=t=>{const e=qO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zO=()=>{var t;return(t=Kg())==null?void 0:t.config},BO=t=>{var e;return(e=Kg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jO(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Mm(JSON.stringify(n)),Mm(JSON.stringify(l)),""].join(".")}const ed={};function gj(){const t={prod:[],emulator:[]};for(const e of Object.keys(ed))ed[e]?t.emulator.push(e):t.prod.push(e);return t}function yj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let dI=!1;function FO(t,e){if(typeof window>"u"||typeof document>"u"||!mc(window.location.host)||ed[t]===e||ed[t]||dI)return;ed[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=gj().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{dI=!0,l()},v}function h(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=yj(r),E=n("text"),A=document.getElementById(E)||document.createElement("span"),x=n("learnmore"),C=document.getElementById(x)||document.createElement("a"),R=n("preprendIcon"),z=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const D=v.element;u(D),h(C,x);const q=d();f(z,R),D.append(z,A,C,q),document.body.appendChild(D)}o?(A.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function _j(){var e;const t=(e=Kg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ej(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Tj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Sj(){const t=Xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xj(){return!_j()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Aj(){try{return typeof indexedDB=="object"}catch{return!1}}function wj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="FirebaseError";class la extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Cj,Object.setPrototypeOf(this,la.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rd.prototype.create)}}class Rd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?Ij(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new la(i,u,r)}}function Ij(t,e){return t.replace(Pj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Pj=/\{\$([^}]+)}/g;function Nj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(hI(o)&&hI(l)){if(!xl(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rj(t,e){const n=new Mj(t,e);return n.subscribe.bind(n)}class Mj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Dj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=g_),i.error===void 0&&(i.error=g_),i.complete===void 0&&(i.complete=g_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function g_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return t&&t._delegate?t._delegate:t}class Al{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oj=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Lj(e))try{this.getOrInitializeService({instanceIdentifier:sl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=sl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sl){return this.instances.has(e)}getOptions(e=sl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sl){return this.component?this.component.multipleInstances?e:sl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function kj(t){return t===sl?void 0:t}function Lj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Oj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const Vj={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},qj=et.INFO,zj={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},Bj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=zj[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tS{constructor(e){this.name=e,this._logLevel=qj,this._logHandler=Bj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const jj=(t,e)=>e.some(n=>t instanceof n);let pI,mI;function Fj(){return pI||(pI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hj(){return mI||(mI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const HO=new WeakMap,yE=new WeakMap,GO=new WeakMap,y_=new WeakMap,nS=new WeakMap;function Gj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(as(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&HO.set(n,t)}).catch(()=>{}),nS.set(e,t),e}function $j(t){if(yE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});yE.set(t,e)}let vE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Kj(t){vE=t(vE)}function Yj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(v_(this),e,...n);return GO.set(r,e.sort?e.sort():[e]),as(r)}:Hj().includes(t)?function(...e){return t.apply(v_(this),e),as(HO.get(this))}:function(...e){return as(t.apply(v_(this),e))}}function Wj(t){return typeof t=="function"?Yj(t):(t instanceof IDBTransaction&&$j(t),jj(t,Fj())?new Proxy(t,vE):t)}function as(t){if(t instanceof IDBRequest)return Gj(t);if(y_.has(t))return y_.get(t);const e=Wj(t);return e!==t&&(y_.set(t,e),nS.set(e,t)),e}const v_=t=>nS.get(t);function Jj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),u=as(l);return r&&l.addEventListener("upgradeneeded",f=>{r(as(l.result),f.oldVersion,f.newVersion,as(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const Xj=["get","getKey","getAll","getAllKeys","count"],Qj=["put","add","delete","clear"],__=new Map;function gI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(__.get(e))return __.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Qj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Xj.includes(n)))return;const o=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&f.done]))[0]};return __.set(e,o),o}Kj(t=>({...t,get:(e,n,r)=>gI(e,n)||t.get(e,n,r),has:(e,n)=>!!gI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _E="@firebase/app",yI="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new tS("@firebase/app"),tF="@firebase/app-compat",nF="@firebase/analytics-compat",rF="@firebase/analytics",iF="@firebase/app-check-compat",oF="@firebase/app-check",aF="@firebase/auth",sF="@firebase/auth-compat",lF="@firebase/database",uF="@firebase/data-connect",cF="@firebase/database-compat",fF="@firebase/functions",dF="@firebase/functions-compat",hF="@firebase/installations",pF="@firebase/installations-compat",mF="@firebase/messaging",gF="@firebase/messaging-compat",yF="@firebase/performance",vF="@firebase/performance-compat",_F="@firebase/remote-config",bF="@firebase/remote-config-compat",EF="@firebase/storage",TF="@firebase/storage-compat",SF="@firebase/firestore",xF="@firebase/ai",AF="@firebase/firestore-compat",wF="firebase",CF="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="[DEFAULT]",IF={[_E]:"fire-core",[tF]:"fire-core-compat",[rF]:"fire-analytics",[nF]:"fire-analytics-compat",[oF]:"fire-app-check",[iF]:"fire-app-check-compat",[aF]:"fire-auth",[sF]:"fire-auth-compat",[lF]:"fire-rtdb",[uF]:"fire-data-connect",[cF]:"fire-rtdb-compat",[fF]:"fire-fn",[dF]:"fire-fn-compat",[hF]:"fire-iid",[pF]:"fire-iid-compat",[mF]:"fire-fcm",[gF]:"fire-fcm-compat",[yF]:"fire-perf",[vF]:"fire-perf-compat",[_F]:"fire-rc",[bF]:"fire-rc-compat",[EF]:"fire-gcs",[TF]:"fire-gcs-compat",[SF]:"fire-fst",[AF]:"fire-fst-compat",[xF]:"fire-vertex","fire-js":"fire-js",[wF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm=new Map,PF=new Map,EE=new Map;function vI(t,e){try{t.container.addComponent(e)}catch(n){Jo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xu(t){const e=t.name;if(EE.has(e))return Jo.debug(`There were multiple attempts to register component ${e}.`),!1;EE.set(e,t);for(const n of Dm.values())vI(n,t);for(const n of PF.values())vI(n,t);return!0}function rS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ti(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new Rd("app","Firebase",NF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Al("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=CF;function $O(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:bE,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ss.create("bad-app-name",{appName:String(i)});if(n||(n=zO()),!n)throw ss.create("no-options");const o=Dm.get(i);if(o){if(xl(n,o.options)&&xl(r,o.config))return o;throw ss.create("duplicate-app",{appName:i})}const l=new Uj(i);for(const f of EE.values())l.addComponent(f);const u=new RF(n,r,l);return Dm.set(i,u),u}function KO(t=bE){const e=Dm.get(t);if(!e&&t===bE&&zO())return $O();if(!e)throw ss.create("no-app",{appName:t});return e}function ls(t,e,n){let r=IF[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jo.warn(l.join(" "));return}Xu(new Al(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF="firebase-heartbeat-database",DF=1,ld="firebase-heartbeat-store";let b_=null;function YO(){return b_||(b_=Jj(MF,DF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ld)}catch(n){console.warn(n)}}}}).catch(t=>{throw ss.create("idb-open",{originalErrorMessage:t.message})})),b_}async function OF(t){try{const n=(await YO()).transaction(ld),r=await n.objectStore(ld).get(WO(t));return await n.done,r}catch(e){if(e instanceof la)Jo.warn(e.message);else{const n=ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jo.warn(n.message)}}}async function _I(t,e){try{const r=(await YO()).transaction(ld,"readwrite");await r.objectStore(ld).put(e,WO(t)),await r.done}catch(n){if(n instanceof la)Jo.warn(n.message);else{const r=ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jo.warn(r.message)}}}function WO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=1024,LF=30;class UF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bI();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>LF){const l=zF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Jo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bI(),{heartbeatsToSend:r,unsentEntries:i}=VF(this._heartbeatsCache.heartbeats),o=Mm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Jo.warn(n),""}}}function bI(){return new Date().toISOString().substring(0,10)}function VF(t,e=kF){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),EI(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),EI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class qF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Aj()?wj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _I(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _I(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function EI(t){return Mm(JSON.stringify({version:2,heartbeats:t})).length}function zF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BF(t){Xu(new Al("platform-logger",e=>new Zj(e),"PRIVATE")),Xu(new Al("heartbeat",e=>new UF(e),"PRIVATE")),ls(_E,yI,t),ls(_E,yI,"esm2020"),ls("fire-js","")}BF("");var jF="firebase",FF="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(jF,FF,"app");function JO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HF=JO,XO=new Rd("auth","Firebase",JO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=new tS("@firebase/auth");function GF(t,...e){Om.logLevel<=et.WARN&&Om.warn(`Auth (${gc}): ${t}`,...e)}function hm(t,...e){Om.logLevel<=et.ERROR&&Om.error(`Auth (${gc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t,...e){throw oS(t,...e)}function Ci(t,...e){return oS(t,...e)}function iS(t,e,n){const r={...HF(),[e]:n};return new Rd("auth","Firebase",r).create(e,{appName:t.name})}function yl(t){return iS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $F(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&po(t,"argument-error"),iS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function oS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return XO.create(t,...e)}function Be(t,e,...n){if(!t)throw oS(e,...n)}function Ho(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hm(e),new Error(e)}function Xo(t,e){t||Ho(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function KF(){return TI()==="http:"||TI()==="https:"}function TI(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KF()||Ej()||"connection"in navigator)?navigator.onLine:!0}function WF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xo(n>e,"Short delay should be less than long delay!"),this.isMobile=vj()||Tj()}get(){return YF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t,e){Xo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ho("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ho("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ho("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QF=new Dd(3e4,6e4);function sS(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function yc(t,e,n,r,i={}){return ZO(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=Md({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:f,...o};return bj()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&mc(t.emulatorConfig.host)&&(d.credentials="include"),QO.fetch()(await ek(t,t.config.apiHost,n,u),d)})}async function ZO(t,e,n){t._canInitEmulator=!1;const r={...JF,...e};try{const i=new e9(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Bp(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bp(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Bp(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Bp(t,"user-disabled",l);const h=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw iS(t,h,d);po(t,h)}}catch(i){if(i instanceof la)throw i;po(t,"network-request-failed",{message:String(i)})}}async function ZF(t,e,n,r,i={}){const o=await yc(t,e,n,r,i);return"mfaPendingCredential"in o&&po(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function ek(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?aS(t.config,i):`${t.config.apiScheme}://${i}`;return XF.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class e9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"network-request-failed")),QF.get())})}}function Bp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ci(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(t,e){return yc(t,"POST","/v1/accounts:delete",e)}async function km(t,e){return yc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n9(t,e=!1){const n=vn(t),r=await n.getIdToken(e),i=lS(r);Be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:td(E_(i.auth_time)),issuedAtTime:td(E_(i.iat)),expirationTime:td(E_(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function E_(t){return Number(t)*1e3}function lS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hm("JWT malformed, contained fewer than 3 sections"),null;try{const i=VO(n);return i?JSON.parse(i):(hm("Failed to decode base64 JWT payload"),null)}catch(i){return hm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function SI(t){const e=lS(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof la&&r9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function r9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=td(this.lastLoginAt),this.creationTime=td(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lm(t){var m;const e=t.auth,n=await t.getIdToken(),r=await ud(t,km(e,{idToken:n}));Be(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(m=i.providerUserInfo)!=null&&m.length?tk(i.providerUserInfo):[],l=a9(t.providerData,o),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=u?f:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new SE(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function o9(t){const e=vn(t);await Lm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(t,e){const n=await ZO(t,{},async()=>{const r=Md({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await ek(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&mc(t.emulatorConfig.host)&&(f.credentials="include"),QO.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function l9(t,e){return yc(t,"POST","/v2/accounts:revokeToken",sS(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const n=SI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await s9(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new Bu;return r&&(Be(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Be(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Be(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bu,this.toJSON())}_performRefresh(){return Ho("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new i9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new SE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ud(this,this.stsTokenManager.getToken(this.auth,e));return Be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return n9(this,e)}reload(){return o9(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ti(this.auth.app))return Promise.reject(yl(this.auth));const e=await this.getIdToken();return await ud(this,t9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:v,isAnonymous:E,providerData:A,stsTokenManager:x}=n;Be(m&&x,e,"internal-error");const C=Bu.fromJSON(this.name,x);Be(typeof m=="string",e,"internal-error"),Ja(r,e.name),Ja(i,e.name),Be(typeof v=="boolean",e,"internal-error"),Be(typeof E=="boolean",e,"internal-error"),Ja(o,e.name),Ja(l,e.name),Ja(u,e.name),Ja(f,e.name),Ja(d,e.name),Ja(h,e.name);const R=new wi({uid:m,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:E,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:C,createdAt:d,lastLoginAt:h});return A&&Array.isArray(A)&&(R.providerData=A.map(z=>({...z}))),f&&(R._redirectEventId=f),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Bu;i.updateFromServerResponse(n);const o=new wi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Be(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?tk(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Bu;u.updateFromIdToken(r);const f=new wi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new SE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new Map;function Go(t){Xo(t instanceof Function,"Expected a class definition");let e=xI.get(t);return e?(Xo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nk.type="NONE";const AI=nk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t,e,n){return`firebase:${t}:${e}:${n}`}class ju{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=pm(this.userKey,i.apiKey,o),this.fullPersistenceKey=pm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await km(this.auth,{idToken:e}).catch(()=>{});return n?wi._fromGetAccountInfoResponse(this.auth,n,e):null}return wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ju(Go(AI),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Go(AI);const l=pm(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const h=await d._get(l);if(h){let m;if(typeof h=="string"){const v=await km(e,{idToken:h}).catch(()=>{});if(!v)break;m=await wi._fromGetAccountInfoResponse(e,v,h)}else m=wi._fromJSON(e,h);d!==o&&(u=m),o=d;break}}catch{}const f=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new ju(o,e,r):(o=f[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new ju(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ak(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lk(e))return"Blackberry";if(uk(e))return"Webos";if(ik(e))return"Safari";if((e.includes("chrome/")||ok(e))&&!e.includes("edge/"))return"Chrome";if(sk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rk(t=Xn()){return/firefox\//i.test(t)}function ik(t=Xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ok(t=Xn()){return/crios\//i.test(t)}function ak(t=Xn()){return/iemobile/i.test(t)}function sk(t=Xn()){return/android/i.test(t)}function lk(t=Xn()){return/blackberry/i.test(t)}function uk(t=Xn()){return/webos/i.test(t)}function uS(t=Xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function u9(t=Xn()){var e;return uS(t)&&!!((e=window.navigator)!=null&&e.standalone)}function c9(){return Sj()&&document.documentMode===10}function ck(t=Xn()){return uS(t)||sk(t)||uk(t)||lk(t)||/windows phone/i.test(t)||ak(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t,e=[]){let n;switch(t){case"Browser":n=wI(Xn());break;case"Worker":n=`${wI(Xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,u)=>{try{const f=e(o);l(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9(t,e={}){return yc(t,"GET","/v2/passwordPolicy",sS(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=6;class p9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??h9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CI(this),this.idTokenSubscription=new CI(this),this.beforeStateQueue=new f9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Go(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await ju.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await km(this,{idToken:e}),r=await wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Ti(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ti(this.app))return Promise.reject(yl(this));const n=e?vn(e):null;return n&&Be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ti(this.app)?Promise.reject(yl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ti(this.app)?Promise.reject(yl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Go(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await d9(this),n=new p9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await l9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Go(e)||this._popupRedirectResolver;Be(n,this,"argument-error"),this.redirectPersistenceManager=await ju.create(this,[Go(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&GF(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Yg(t){return vn(t)}class CI{constructor(e){this.auth=e,this.observer=null,this.addObserver=Rj(n=>this.observer=n)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g9(t){cS=t}function y9(t){return cS.loadJS(t)}function v9(){return cS.gapiScript}function _9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(t,e){const n=rS(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(xl(o,e??{}))return i;po(i,"already-initialized")}return n.initialize({options:e})}function E9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Go);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function T9(t,e,n){const r=Yg(t);Be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=dk(e),{host:l,port:u}=S9(e),f=u===null?"":`:${u}`,d={url:`${o}//${l}${f}/`},h=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Be(xl(d,r.config.emulator)&&xl(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,mc(l)?(jO(`${o}//${l}${f}`),FO("Auth",!0)):x9()}function dk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S9(t){const e=dk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:II(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:II(l)}}}function II(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function x9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ho("not implemented")}_getIdTokenResponse(e){return Ho("not implemented")}_linkToIdToken(e,n){return Ho("not implemented")}_getReauthenticationResolver(e){return Ho("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(t,e){return ZF(t,"POST","/v1/accounts:signInWithIdp",sS(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="http://localhost";class wl extends hk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):po("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const l=new wl(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Fu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fu(e,n)}buildRequest(){const e={requestUri:A9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Md(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends fS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Od{constructor(){super("facebook.com")}static credential(e){return wl._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends Od{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wl._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bo.credential(n,r)}catch{return null}}}Bo.GOOGLE_SIGN_IN_METHOD="google.com";Bo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Od{constructor(){super("github.com")}static credential(e){return wl._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Od{constructor(){super("twitter.com")}static credential(e,n){return wl._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ns.credential(n,r)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await wi._fromIdTokenResponse(e,r,i),l=PI(r);return new Qu({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=PI(r);return new Qu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function PI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends la{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Um.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Um(e,n,r,i)}}function pk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Um._fromErrorAndOperation(t,o,e,r):o})}async function w9(t,e,n=!1){const r=await ud(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(t,e,n=!1){const{auth:r}=t;if(Ti(r.app))return Promise.reject(yl(r));const i="reauthenticate";try{const o=await ud(t,pk(r,i,e,t),n);Be(o.idToken,r,"internal-error");const l=lS(o.idToken);Be(l,r,"internal-error");const{sub:u}=l;return Be(t.uid===u,r,"user-mismatch"),Qu._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&po(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(t,e,n=!1){if(Ti(t.app))return Promise.reject(yl(t));const r="signIn",i=await pk(t,r,e),o=await Qu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function P9(t,e,n,r){return vn(t).onIdTokenChanged(e,n,r)}function N9(t,e,n){return vn(t).beforeAuthStateChanged(e,n)}function R9(t,e,n,r){return vn(t).onAuthStateChanged(e,n,r)}function M9(t){return vn(t).signOut()}const Vm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vm,"1"),this.storage.removeItem(Vm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=1e3,O9=10;class gk extends mk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ck(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);c9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,O9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},D9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gk.type="LOCAL";const k9=gk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk extends mk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yk.type="SESSION";const vk=yk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Wg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async d=>d(n.origin,o)),f=await L9(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,f)=>{const d=dS("",20);i.port1.start();const h=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(h),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(){return window}function V9(t){so().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(){return typeof so().WorkerGlobalScope<"u"&&typeof so().importScripts=="function"}async function q9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function B9(){return _k()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="firebaseLocalStorageDb",j9=1,qm="firebaseLocalStorage",Ek="fbase_key";class kd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jg(t,e){return t.transaction([qm],e?"readwrite":"readonly").objectStore(qm)}function F9(){const t=indexedDB.deleteDatabase(bk);return new kd(t).toPromise()}function xE(){const t=indexedDB.open(bk,j9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qm,{keyPath:Ek})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qm)?e(r):(r.close(),await F9(),e(await xE()))})})}async function NI(t,e,n){const r=Jg(t,!0).put({[Ek]:e,value:n});return new kd(r).toPromise()}async function H9(t,e){const n=Jg(t,!1).get(e),r=await new kd(n).toPromise();return r===void 0?null:r.value}function RI(t,e){const n=Jg(t,!0).delete(e);return new kd(n).toPromise()}const G9=800,$9=3;class Tk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _k()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wg._getInstance(B9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await q9(),!this.activeServiceWorker)return;this.sender=new U9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xE();return await NI(e,Vm,"1"),await RI(e,Vm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>NI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>H9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>RI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Jg(i,!1).getAll();return new kd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),G9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Tk.type="LOCAL";const K9=Tk;new Dd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t,e){return e?Go(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS extends hk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Y9(t){return I9(t.auth,new hS(t),t.bypassAuthState)}function W9(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),C9(n,new hS(t),t.bypassAuthState)}async function J9(t){const{auth:e,user:n}=t;return Be(n,e,"internal-error"),w9(n,new hS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Y9;case"linkViaPopup":case"linkViaRedirect":return J9;case"reauthViaPopup":case"reauthViaRedirect":return W9;default:po(this.auth,"internal-error")}}resolve(e){Xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=new Dd(2e3,1e4);async function Q9(t,e,n){if(Ti(t.app))return Promise.reject(Ci(t,"operation-not-supported-in-this-environment"));const r=Yg(t);$F(t,e,fS);const i=Sk(r,n);return new fl(r,"signInViaPopup",e,i).executeNotNull()}class fl extends xk{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,fl.currentPopupAction&&fl.currentPopupAction.cancel(),fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){Xo(this.filter.length===1,"Popup operations only handle one event");const e=dS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X9.get())};e()}}fl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9="pendingRedirect",mm=new Map;class e8 extends xk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mm.get(this.auth._key());if(!e){try{const r=await t8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mm.set(this.auth._key(),e)}return this.bypassAuthState||mm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t8(t,e){const n=i8(e),r=r8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function n8(t,e){mm.set(t._key(),e)}function r8(t){return Go(t._redirectPersistence)}function i8(t){return pm(Z9,t.config.apiKey,t.name)}async function o8(t,e,n=!1){if(Ti(t.app))return Promise.reject(yl(t));const r=Yg(t),i=Sk(r,e),l=await new e8(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8=600*1e3;class s8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ak(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ci(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a8&&this.cachedEventUids.clear(),this.cachedEventUids.has(MI(e))}saveEventToCache(e){this.cachedEventUids.add(MI(e)),this.lastProcessedEventTime=Date.now()}}function MI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ak({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function l8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ak(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u8(t,e={}){return yc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f8=/^https?/;async function d8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await u8(t);for(const n of e)try{if(h8(n))return}catch{}po(t,"unauthorized-domain")}function h8(t){const e=TE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!f8.test(n))return!1;if(c8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=new Dd(3e4,6e4);function DI(){const t=so().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function m8(t){return new Promise((e,n)=>{var i,o,l;function r(){DI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DI(),n(Ci(t,"network-request-failed"))},timeout:p8.get()})}if((o=(i=so().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((l=so().gapi)!=null&&l.load)r();else{const u=_9("iframefcb");return so()[u]=()=>{gapi.load?r():n(Ci(t,"network-request-failed"))},y9(`${v9()}?onload=${u}`).catch(f=>n(f))}}).catch(e=>{throw gm=null,e})}let gm=null;function g8(t){return gm=gm||m8(t),gm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=new Dd(5e3,15e3),v8="__/auth/iframe",_8="emulator/auth/iframe",b8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T8(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?aS(e,_8):`https://${t.config.authDomain}/${v8}`,r={apiKey:e.apiKey,appName:t.name,v:gc},i=E8.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Md(r).slice(1)}`}async function S8(t){const e=await g8(t),n=so().gapi;return Be(n,t,"internal-error"),e.open({where:document.body,url:T8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b8,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Ci(t,"network-request-failed"),u=so().setTimeout(()=>{o(l)},y8.get());function f(){so().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A8=500,w8=600,C8="_blank",I8="http://localhost";class OI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P8(t,e,n,r=A8,i=w8){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...x8,width:r.toString(),height:i.toString(),top:o,left:l},d=Xn().toLowerCase();n&&(u=ok(d)?C8:n),rk(d)&&(e=e||I8,f.scrollbars="yes");const h=Object.entries(f).reduce((v,[E,A])=>`${v}${E}=${A},`,"");if(u9(d)&&u!=="_self")return N8(e||"",u),new OI(null);const m=window.open(e||"",u,h);Be(m,t,"popup-blocked");try{m.focus()}catch{}return new OI(m)}function N8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8="__/auth/handler",M8="emulator/auth/handler",D8=encodeURIComponent("fac");async function kI(t,e,n,r,i,o){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:gc,eventId:i};if(e instanceof fS){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Nj(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))l[h]=m}if(e instanceof Od){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(l.scopes=h.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const f=await t._getAppCheckToken(),d=f?`#${D8}=${encodeURIComponent(f)}`:"";return`${O8(t)}?${Md(u).slice(1)}${d}`}function O8({config:t}){return t.emulator?aS(t,M8):`https://${t.authDomain}/${R8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="webStorageSupport";class k8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vk,this._completeRedirectFn=o8,this._overrideRedirectResult=n8}async _openPopup(e,n,r,i){var l;Xo((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const o=await kI(e,n,r,TE(),i);return P8(e,o,dS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await kI(e,n,r,TE(),i);return V9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Xo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await S8(e),r=new s8(e);return n.register("authEvent",i=>(Be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(T_,{type:T_},i=>{var l;const o=(l=i==null?void 0:i[0])==null?void 0:l[T_];o!==void 0&&n(!!o),po(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ck()||ik()||uS()}}const L8=k8;var LI="@firebase/auth",UI="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q8(t){Xu(new Al("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Be(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fk(t)},d=new m9(r,i,o,f);return E9(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xu(new Al("auth-internal",e=>{const n=Yg(e.getProvider("auth").getImmediate());return(r=>new U8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(LI,UI,V8(t)),ls(LI,UI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8=300,B8=BO("authIdTokenMaxAge")||z8;let VI=null;const j8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>B8)return;const i=n==null?void 0:n.token;VI!==i&&(VI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function F8(t=KO()){const e=rS(t,"auth");if(e.isInitialized())return e.getImmediate();const n=b9(t,{popupRedirectResolver:L8,persistence:[K9,k9,vk]}),r=BO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=j8(o.toString());N9(n,l,()=>l(n.currentUser)),P9(n,u=>l(u))}}const i=qO("auth");return i&&T9(n,`http://${i}`),n}function H8(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}g9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ci("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",H8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q8("Browser");var qI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,wk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,k){function M(){}M.prototype=k.prototype,O.F=k.prototype,O.prototype=new M,O.prototype.constructor=O,O.D=function(V,U,B){for(var H=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)H[Se-2]=arguments[Se];return k.prototype[U].apply(V,H)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,k,M){M||(M=0);const V=Array(16);if(typeof k=="string")for(var U=0;U<16;++U)V[U]=k.charCodeAt(M++)|k.charCodeAt(M++)<<8|k.charCodeAt(M++)<<16|k.charCodeAt(M++)<<24;else for(U=0;U<16;++U)V[U]=k[M++]|k[M++]<<8|k[M++]<<16|k[M++]<<24;k=O.g[0],M=O.g[1],U=O.g[2];let B=O.g[3],H;H=k+(B^M&(U^B))+V[0]+3614090360&4294967295,k=M+(H<<7&4294967295|H>>>25),H=B+(U^k&(M^U))+V[1]+3905402710&4294967295,B=k+(H<<12&4294967295|H>>>20),H=U+(M^B&(k^M))+V[2]+606105819&4294967295,U=B+(H<<17&4294967295|H>>>15),H=M+(k^U&(B^k))+V[3]+3250441966&4294967295,M=U+(H<<22&4294967295|H>>>10),H=k+(B^M&(U^B))+V[4]+4118548399&4294967295,k=M+(H<<7&4294967295|H>>>25),H=B+(U^k&(M^U))+V[5]+1200080426&4294967295,B=k+(H<<12&4294967295|H>>>20),H=U+(M^B&(k^M))+V[6]+2821735955&4294967295,U=B+(H<<17&4294967295|H>>>15),H=M+(k^U&(B^k))+V[7]+4249261313&4294967295,M=U+(H<<22&4294967295|H>>>10),H=k+(B^M&(U^B))+V[8]+1770035416&4294967295,k=M+(H<<7&4294967295|H>>>25),H=B+(U^k&(M^U))+V[9]+2336552879&4294967295,B=k+(H<<12&4294967295|H>>>20),H=U+(M^B&(k^M))+V[10]+4294925233&4294967295,U=B+(H<<17&4294967295|H>>>15),H=M+(k^U&(B^k))+V[11]+2304563134&4294967295,M=U+(H<<22&4294967295|H>>>10),H=k+(B^M&(U^B))+V[12]+1804603682&4294967295,k=M+(H<<7&4294967295|H>>>25),H=B+(U^k&(M^U))+V[13]+4254626195&4294967295,B=k+(H<<12&4294967295|H>>>20),H=U+(M^B&(k^M))+V[14]+2792965006&4294967295,U=B+(H<<17&4294967295|H>>>15),H=M+(k^U&(B^k))+V[15]+1236535329&4294967295,M=U+(H<<22&4294967295|H>>>10),H=k+(U^B&(M^U))+V[1]+4129170786&4294967295,k=M+(H<<5&4294967295|H>>>27),H=B+(M^U&(k^M))+V[6]+3225465664&4294967295,B=k+(H<<9&4294967295|H>>>23),H=U+(k^M&(B^k))+V[11]+643717713&4294967295,U=B+(H<<14&4294967295|H>>>18),H=M+(B^k&(U^B))+V[0]+3921069994&4294967295,M=U+(H<<20&4294967295|H>>>12),H=k+(U^B&(M^U))+V[5]+3593408605&4294967295,k=M+(H<<5&4294967295|H>>>27),H=B+(M^U&(k^M))+V[10]+38016083&4294967295,B=k+(H<<9&4294967295|H>>>23),H=U+(k^M&(B^k))+V[15]+3634488961&4294967295,U=B+(H<<14&4294967295|H>>>18),H=M+(B^k&(U^B))+V[4]+3889429448&4294967295,M=U+(H<<20&4294967295|H>>>12),H=k+(U^B&(M^U))+V[9]+568446438&4294967295,k=M+(H<<5&4294967295|H>>>27),H=B+(M^U&(k^M))+V[14]+3275163606&4294967295,B=k+(H<<9&4294967295|H>>>23),H=U+(k^M&(B^k))+V[3]+4107603335&4294967295,U=B+(H<<14&4294967295|H>>>18),H=M+(B^k&(U^B))+V[8]+1163531501&4294967295,M=U+(H<<20&4294967295|H>>>12),H=k+(U^B&(M^U))+V[13]+2850285829&4294967295,k=M+(H<<5&4294967295|H>>>27),H=B+(M^U&(k^M))+V[2]+4243563512&4294967295,B=k+(H<<9&4294967295|H>>>23),H=U+(k^M&(B^k))+V[7]+1735328473&4294967295,U=B+(H<<14&4294967295|H>>>18),H=M+(B^k&(U^B))+V[12]+2368359562&4294967295,M=U+(H<<20&4294967295|H>>>12),H=k+(M^U^B)+V[5]+4294588738&4294967295,k=M+(H<<4&4294967295|H>>>28),H=B+(k^M^U)+V[8]+2272392833&4294967295,B=k+(H<<11&4294967295|H>>>21),H=U+(B^k^M)+V[11]+1839030562&4294967295,U=B+(H<<16&4294967295|H>>>16),H=M+(U^B^k)+V[14]+4259657740&4294967295,M=U+(H<<23&4294967295|H>>>9),H=k+(M^U^B)+V[1]+2763975236&4294967295,k=M+(H<<4&4294967295|H>>>28),H=B+(k^M^U)+V[4]+1272893353&4294967295,B=k+(H<<11&4294967295|H>>>21),H=U+(B^k^M)+V[7]+4139469664&4294967295,U=B+(H<<16&4294967295|H>>>16),H=M+(U^B^k)+V[10]+3200236656&4294967295,M=U+(H<<23&4294967295|H>>>9),H=k+(M^U^B)+V[13]+681279174&4294967295,k=M+(H<<4&4294967295|H>>>28),H=B+(k^M^U)+V[0]+3936430074&4294967295,B=k+(H<<11&4294967295|H>>>21),H=U+(B^k^M)+V[3]+3572445317&4294967295,U=B+(H<<16&4294967295|H>>>16),H=M+(U^B^k)+V[6]+76029189&4294967295,M=U+(H<<23&4294967295|H>>>9),H=k+(M^U^B)+V[9]+3654602809&4294967295,k=M+(H<<4&4294967295|H>>>28),H=B+(k^M^U)+V[12]+3873151461&4294967295,B=k+(H<<11&4294967295|H>>>21),H=U+(B^k^M)+V[15]+530742520&4294967295,U=B+(H<<16&4294967295|H>>>16),H=M+(U^B^k)+V[2]+3299628645&4294967295,M=U+(H<<23&4294967295|H>>>9),H=k+(U^(M|~B))+V[0]+4096336452&4294967295,k=M+(H<<6&4294967295|H>>>26),H=B+(M^(k|~U))+V[7]+1126891415&4294967295,B=k+(H<<10&4294967295|H>>>22),H=U+(k^(B|~M))+V[14]+2878612391&4294967295,U=B+(H<<15&4294967295|H>>>17),H=M+(B^(U|~k))+V[5]+4237533241&4294967295,M=U+(H<<21&4294967295|H>>>11),H=k+(U^(M|~B))+V[12]+1700485571&4294967295,k=M+(H<<6&4294967295|H>>>26),H=B+(M^(k|~U))+V[3]+2399980690&4294967295,B=k+(H<<10&4294967295|H>>>22),H=U+(k^(B|~M))+V[10]+4293915773&4294967295,U=B+(H<<15&4294967295|H>>>17),H=M+(B^(U|~k))+V[1]+2240044497&4294967295,M=U+(H<<21&4294967295|H>>>11),H=k+(U^(M|~B))+V[8]+1873313359&4294967295,k=M+(H<<6&4294967295|H>>>26),H=B+(M^(k|~U))+V[15]+4264355552&4294967295,B=k+(H<<10&4294967295|H>>>22),H=U+(k^(B|~M))+V[6]+2734768916&4294967295,U=B+(H<<15&4294967295|H>>>17),H=M+(B^(U|~k))+V[13]+1309151649&4294967295,M=U+(H<<21&4294967295|H>>>11),H=k+(U^(M|~B))+V[4]+4149444226&4294967295,k=M+(H<<6&4294967295|H>>>26),H=B+(M^(k|~U))+V[11]+3174756917&4294967295,B=k+(H<<10&4294967295|H>>>22),H=U+(k^(B|~M))+V[2]+718787259&4294967295,U=B+(H<<15&4294967295|H>>>17),H=M+(B^(U|~k))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+k&4294967295,O.g[1]=O.g[1]+(U+(H<<21&4294967295|H>>>11))&4294967295,O.g[2]=O.g[2]+U&4294967295,O.g[3]=O.g[3]+B&4294967295}r.prototype.v=function(O,k){k===void 0&&(k=O.length);const M=k-this.blockSize,V=this.C;let U=this.h,B=0;for(;B<k;){if(U==0)for(;B<=M;)i(this,O,B),B+=this.blockSize;if(typeof O=="string"){for(;B<k;)if(V[U++]=O.charCodeAt(B++),U==this.blockSize){i(this,V),U=0;break}}else for(;B<k;)if(V[U++]=O[B++],U==this.blockSize){i(this,V),U=0;break}}this.h=U,this.o+=k},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var k=1;k<O.length-8;++k)O[k]=0;k=this.o*8;for(var M=O.length-8;M<O.length;++M)O[M]=k&255,k/=256;for(this.v(O),O=Array(16),k=0,M=0;M<4;++M)for(let V=0;V<32;V+=8)O[k++]=this.g[M]>>>V&255;return O};function o(O,k){var M=u;return Object.prototype.hasOwnProperty.call(M,O)?M[O]:M[O]=k(O)}function l(O,k){this.h=k;const M=[];let V=!0;for(let U=O.length-1;U>=0;U--){const B=O[U]|0;V&&B==k||(M[U]=B,V=!1)}this.g=M}var u={};function f(O){return-128<=O&&O<128?o(O,function(k){return new l([k|0],k<0?-1:0)}):new l([O|0],O<0?-1:0)}function d(O){if(isNaN(O)||!isFinite(O))return m;if(O<0)return C(d(-O));const k=[];let M=1;for(let V=0;O>=M;V++)k[V]=O/M|0,M*=4294967296;return new l(k,0)}function h(O,k){if(O.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(O.charAt(0)=="-")return C(h(O.substring(1),k));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=d(Math.pow(k,8));let V=m;for(let B=0;B<O.length;B+=8){var U=Math.min(8,O.length-B);const H=parseInt(O.substring(B,B+U),k);U<8?(U=d(Math.pow(k,U)),V=V.j(U).add(d(H))):(V=V.j(M),V=V.add(d(H)))}return V}var m=f(0),v=f(1),E=f(16777216);t=l.prototype,t.m=function(){if(x(this))return-C(this).m();let O=0,k=1;for(let M=0;M<this.g.length;M++){const V=this.i(M);O+=(V>=0?V:4294967296+V)*k,k*=4294967296}return O},t.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(A(this))return"0";if(x(this))return"-"+C(this).toString(O);const k=d(Math.pow(O,6));var M=this;let V="";for(;;){const U=q(M,k).g;M=R(M,U.j(k));let B=((M.g.length>0?M.g[0]:M.h)>>>0).toString(O);if(M=U,A(M))return B+V;for(;B.length<6;)B="0"+B;V=B+V}},t.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function A(O){if(O.h!=0)return!1;for(let k=0;k<O.g.length;k++)if(O.g[k]!=0)return!1;return!0}function x(O){return O.h==-1}t.l=function(O){return O=R(this,O),x(O)?-1:A(O)?0:1};function C(O){const k=O.g.length,M=[];for(let V=0;V<k;V++)M[V]=~O.g[V];return new l(M,~O.h).add(v)}t.abs=function(){return x(this)?C(this):this},t.add=function(O){const k=Math.max(this.g.length,O.g.length),M=[];let V=0;for(let U=0;U<=k;U++){let B=V+(this.i(U)&65535)+(O.i(U)&65535),H=(B>>>16)+(this.i(U)>>>16)+(O.i(U)>>>16);V=H>>>16,B&=65535,H&=65535,M[U]=H<<16|B}return new l(M,M[M.length-1]&-2147483648?-1:0)};function R(O,k){return O.add(C(k))}t.j=function(O){if(A(this)||A(O))return m;if(x(this))return x(O)?C(this).j(C(O)):C(C(this).j(O));if(x(O))return C(this.j(C(O)));if(this.l(E)<0&&O.l(E)<0)return d(this.m()*O.m());const k=this.g.length+O.g.length,M=[];for(var V=0;V<2*k;V++)M[V]=0;for(V=0;V<this.g.length;V++)for(let U=0;U<O.g.length;U++){const B=this.i(V)>>>16,H=this.i(V)&65535,Se=O.i(U)>>>16,we=O.i(U)&65535;M[2*V+2*U]+=H*we,z(M,2*V+2*U),M[2*V+2*U+1]+=B*we,z(M,2*V+2*U+1),M[2*V+2*U+1]+=H*Se,z(M,2*V+2*U+1),M[2*V+2*U+2]+=B*Se,z(M,2*V+2*U+2)}for(O=0;O<k;O++)M[O]=M[2*O+1]<<16|M[2*O];for(O=k;O<2*k;O++)M[O]=0;return new l(M,0)};function z(O,k){for(;(O[k]&65535)!=O[k];)O[k+1]+=O[k]>>>16,O[k]&=65535,k++}function D(O,k){this.g=O,this.h=k}function q(O,k){if(A(k))throw Error("division by zero");if(A(O))return new D(m,m);if(x(O))return k=q(C(O),k),new D(C(k.g),C(k.h));if(x(k))return k=q(O,C(k)),new D(C(k.g),k.h);if(O.g.length>30){if(x(O)||x(k))throw Error("slowDivide_ only works with positive integers.");for(var M=v,V=k;V.l(O)<=0;)M=F(M),V=F(V);var U=G(M,1),B=G(V,1);for(V=G(V,2),M=G(M,2);!A(V);){var H=B.add(V);H.l(O)<=0&&(U=U.add(M),B=H),V=G(V,1),M=G(M,1)}return k=R(O,U.j(k)),new D(U,k)}for(U=m;O.l(k)>=0;){for(M=Math.max(1,Math.floor(O.m()/k.m())),V=Math.ceil(Math.log(M)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),B=d(M),H=B.j(k);x(H)||H.l(O)>0;)M-=V,B=d(M),H=B.j(k);A(B)&&(B=v),U=U.add(B),O=R(O,H)}return new D(U,O)}t.B=function(O){return q(this,O).h},t.and=function(O){const k=Math.max(this.g.length,O.g.length),M=[];for(let V=0;V<k;V++)M[V]=this.i(V)&O.i(V);return new l(M,this.h&O.h)},t.or=function(O){const k=Math.max(this.g.length,O.g.length),M=[];for(let V=0;V<k;V++)M[V]=this.i(V)|O.i(V);return new l(M,this.h|O.h)},t.xor=function(O){const k=Math.max(this.g.length,O.g.length),M=[];for(let V=0;V<k;V++)M[V]=this.i(V)^O.i(V);return new l(M,this.h^O.h)};function F(O){const k=O.g.length+1,M=[];for(let V=0;V<k;V++)M[V]=O.i(V)<<1|O.i(V-1)>>>31;return new l(M,O.h)}function G(O,k){const M=k>>5;k%=32;const V=O.g.length-M,U=[];for(let B=0;B<V;B++)U[B]=k>0?O.i(B+M)>>>k|O.i(B+M+1)<<32-k:O.i(B+M);return new l(U,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,wk=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=h,us=l}).apply(typeof qI<"u"?qI:typeof self<"u"?self:typeof window<"u"?window:{});var jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ck,Kf,Ik,ym,AE,Pk,Nk,Rk;(function(){var t,e=Object.defineProperty;function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof jp=="object"&&jp];for(var w=0;w<_.length;++w){var N=_[w];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var r=n(this);function i(_,w){if(w)e:{var N=r;_=_.split(".");for(var j=0;j<_.length-1;j++){var Q=_[j];if(!(Q in N))break e;N=N[Q]}_=_[_.length-1],j=N[_],w=w(j),w!=j&&w!=null&&e(N,_,{configurable:!0,writable:!0,value:w})}}i("Symbol.dispose",function(_){return _||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(_){return _||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(_){return _||function(w){var N=[],j;for(j in w)Object.prototype.hasOwnProperty.call(w,j)&&N.push([j,w[j]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(_){var w=typeof _;return w=="object"&&_!=null||w=="function"}function f(_,w,N){return _.call.apply(_.bind,arguments)}function d(_,w,N){return d=f,d.apply(null,arguments)}function h(_,w){var N=Array.prototype.slice.call(arguments,1);return function(){var j=N.slice();return j.push.apply(j,arguments),_.apply(this,j)}}function m(_,w){function N(){}N.prototype=w.prototype,_.Z=w.prototype,_.prototype=new N,_.prototype.constructor=_,_.Ob=function(j,Q,ie){for(var xe=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)xe[$e-2]=arguments[$e];return w.prototype[Q].apply(j,xe)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?_=>_&&AsyncContext.Snapshot.wrap(_):_=>_;function E(_){const w=_.length;if(w>0){const N=Array(w);for(let j=0;j<w;j++)N[j]=_[j];return N}return[]}function A(_,w){for(let j=1;j<arguments.length;j++){const Q=arguments[j];var N=typeof Q;if(N=N!="object"?N:Q?Array.isArray(Q)?"array":N:"null",N=="array"||N=="object"&&typeof Q.length=="number"){N=_.length||0;const ie=Q.length||0;_.length=N+ie;for(let xe=0;xe<ie;xe++)_[N+xe]=Q[xe]}else _.push(Q)}}class x{constructor(w,N){this.i=w,this.j=N,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function C(_){l.setTimeout(()=>{throw _},0)}function R(){var _=O;let w=null;return _.g&&(w=_.g,_.g=_.g.next,_.g||(_.h=null),w.next=null),w}class z{constructor(){this.h=this.g=null}add(w,N){const j=D.get();j.set(w,N),this.h?this.h.next=j:this.g=j,this.h=j}}var D=new x(()=>new q,_=>_.reset());class q{constructor(){this.next=this.g=this.h=null}set(w,N){this.h=w,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let F,G=!1,O=new z,k=()=>{const _=Promise.resolve(void 0);F=()=>{_.then(M)}};function M(){for(var _;_=R();){try{_.h.call(_.g)}catch(N){C(N)}var w=D;w.j(_),w.h<100&&(w.h++,_.next=w.g,w.g=_)}G=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(_,w){this.type=_,this.g=this.target=w,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var _=!1,w=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const N=()=>{};l.addEventListener("test",N,w),l.removeEventListener("test",N,w)}catch{}return _})();function H(_){return/^[\s\xa0]*$/.test(_)}function Se(_,w){U.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_&&this.init(_,w)}m(Se,U),Se.prototype.init=function(_,w){const N=this.type=_.type,j=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;this.target=_.target||_.srcElement,this.g=w,w=_.relatedTarget,w||(N=="mouseover"?w=_.fromElement:N=="mouseout"&&(w=_.toElement)),this.relatedTarget=w,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=_.pointerType,this.state=_.state,this.i=_,_.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),X=0;function ue(_,w,N,j,Q){this.listener=_,this.proxy=null,this.src=w,this.type=N,this.capture=!!j,this.ha=Q,this.key=++X,this.da=this.fa=!1}function ye(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function ve(_,w,N){for(const j in _)w.call(N,_[j],j,_)}function Ve(_,w){for(const N in _)w.call(void 0,_[N],N,_)}function K(_){const w={};for(const N in _)w[N]=_[N];return w}const le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ee(_,w){let N,j;for(let Q=1;Q<arguments.length;Q++){j=arguments[Q];for(N in j)_[N]=j[N];for(let ie=0;ie<le.length;ie++)N=le[ie],Object.prototype.hasOwnProperty.call(j,N)&&(_[N]=j[N])}}function se(_){this.src=_,this.g={},this.h=0}se.prototype.add=function(_,w,N,j,Q){const ie=_.toString();_=this.g[ie],_||(_=this.g[ie]=[],this.h++);const xe=be(_,w,j,Q);return xe>-1?(w=_[xe],N||(w.fa=!1)):(w=new ue(w,this.src,ie,!!j,Q),w.fa=N,_.push(w)),w};function he(_,w){const N=w.type;if(N in _.g){var j=_.g[N],Q=Array.prototype.indexOf.call(j,w,void 0),ie;(ie=Q>=0)&&Array.prototype.splice.call(j,Q,1),ie&&(ye(w),_.g[N].length==0&&(delete _.g[N],_.h--))}}function be(_,w,N,j){for(let Q=0;Q<_.length;++Q){const ie=_[Q];if(!ie.da&&ie.listener==w&&ie.capture==!!N&&ie.ha==j)return Q}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),te={};function W(_,w,N,j,Q){if(Array.isArray(w)){for(let ie=0;ie<w.length;ie++)W(_,w[ie],N,j,Q);return null}return N=Li(N),_&&_[we]?_.J(w,N,u(j)?!!j.capture:!1,Q):_e(_,w,N,!1,j,Q)}function _e(_,w,N,j,Q,ie){if(!w)throw Error("Invalid event type");const xe=u(Q)?!!Q.capture:!!Q;let $e=We(_);if($e||(_[Te]=$e=new se(_)),N=$e.add(w,N,j,xe,ie),N.proxy)return N;if(j=ge(),N.proxy=j,j.src=_,j.listener=N,_.addEventListener)B||(Q=xe),Q===void 0&&(Q=!1),_.addEventListener(w.toString(),j,Q);else if(_.attachEvent)_.attachEvent(Le(w.toString()),j);else if(_.addListener&&_.removeListener)_.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return N}function ge(){function _(N){return w.call(_.src,_.listener,N)}const w=it;return _}function re(_,w,N,j,Q){if(Array.isArray(w))for(var ie=0;ie<w.length;ie++)re(_,w[ie],N,j,Q);else j=u(j)?!!j.capture:!!j,N=Li(N),_&&_[we]?(_=_.i,ie=String(w).toString(),ie in _.g&&(w=_.g[ie],N=be(w,N,j,Q),N>-1&&(ye(w[N]),Array.prototype.splice.call(w,N,1),w.length==0&&(delete _.g[ie],_.h--)))):_&&(_=We(_))&&(w=_.g[w.toString()],_=-1,w&&(_=be(w,N,j,Q)),(N=_>-1?w[_]:null)&&Me(N))}function Me(_){if(typeof _!="number"&&_&&!_.da){var w=_.src;if(w&&w[we])he(w.i,_);else{var N=_.type,j=_.proxy;w.removeEventListener?w.removeEventListener(N,j,_.capture):w.detachEvent?w.detachEvent(Le(N),j):w.addListener&&w.removeListener&&w.removeListener(j),(N=We(w))?(he(N,_),N.h==0&&(N.src=null,w[Te]=null)):ye(_)}}}function Le(_){return _ in te?te[_]:te[_]="on"+_}function it(_,w){if(_.da)_=!0;else{w=new Se(w,this);const N=_.listener,j=_.ha||_.src;_.fa&&Me(_),_=N.call(j,w)}return _}function We(_){return _=_[Te],_ instanceof se?_:null}var Zn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Li(_){return typeof _=="function"?_:(_[Zn]||(_[Zn]=function(w){return _.handleEvent(w)}),_[Zn])}function qt(){V.call(this),this.i=new se(this),this.M=this,this.G=null}m(qt,V),qt.prototype[we]=!0,qt.prototype.removeEventListener=function(_,w,N,j){re(this,_,w,N,j)};function dn(_,w){var N,j=_.G;if(j)for(N=[];j;j=j.G)N.push(j);if(_=_.M,j=w.type||w,typeof w=="string")w=new U(w,_);else if(w instanceof U)w.target=w.target||_;else{var Q=w;w=new U(j,_),Ee(w,Q)}Q=!0;let ie,xe;if(N)for(xe=N.length-1;xe>=0;xe--)ie=w.g=N[xe],Q=ya(ie,j,!0,w)&&Q;if(ie=w.g=_,Q=ya(ie,j,!0,w)&&Q,Q=ya(ie,j,!1,w)&&Q,N)for(xe=0;xe<N.length;xe++)ie=w.g=N[xe],Q=ya(ie,j,!1,w)&&Q}qt.prototype.N=function(){if(qt.Z.N.call(this),this.i){var _=this.i;for(const w in _.g){const N=_.g[w];for(let j=0;j<N.length;j++)ye(N[j]);delete _.g[w],_.h--}}this.G=null},qt.prototype.J=function(_,w,N,j){return this.i.add(String(_),w,!1,N,j)},qt.prototype.K=function(_,w,N,j){return this.i.add(String(_),w,!0,N,j)};function ya(_,w,N,j){if(w=_.i.g[String(w)],!w)return!0;w=w.concat();let Q=!0;for(let ie=0;ie<w.length;++ie){const xe=w[ie];if(xe&&!xe.da&&xe.capture==N){const $e=xe.listener,Gt=xe.ha||xe.src;xe.fa&&he(_.i,xe),Q=$e.call(Gt,j)!==!1&&Q}}return Q&&!j.defaultPrevented}function fv(_,w){if(typeof _!="function")if(_&&typeof _.handleEvent=="function")_=d(_.handleEvent,_);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(_,w||0)}function dh(_){_.g=fv(()=>{_.g=null,_.i&&(_.i=!1,dh(_))},_.l);const w=_.h;_.h=null,_.m.apply(null,w)}class er extends V{constructor(w,N){super(),this.m=w,this.l=N,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:dh(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(_){V.call(this),this.h=_,this.g={}}m(Ns,V);var Dc=[];function Oc(_){ve(_.g,function(w,N){this.g.hasOwnProperty(N)&&Me(w)},_),_.g={}}Ns.prototype.N=function(){Ns.Z.N.call(this),Oc(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var va=l.JSON.stringify,dv=l.JSON.parse,hh=class{stringify(_){return l.JSON.stringify(_,void 0)}parse(_){return l.JSON.parse(_,void 0)}};function ph(){}function mh(){}var ui={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Dn(){U.call(this,"d")}m(Dn,U);function Vr(){U.call(this,"c")}m(Vr,U);var Ht={},gh=null;function zl(){return gh=gh||new qt}Ht.Ia="serverreachability";function yh(_){U.call(this,Ht.Ia,_)}m(yh,U);function Ui(_){const w=zl();dn(w,new yh(w))}Ht.STAT_EVENT="statevent";function Rs(_,w){U.call(this,Ht.STAT_EVENT,_),this.stat=w}m(Rs,U);function Zt(_){const w=zl();dn(w,new Rs(w,_))}Ht.Ja="timingevent";function Vi(_,w){U.call(this,Ht.Ja,_),this.size=w}m(Vi,U);function qi(_,w){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){_()},w)}function ci(){this.g=!0}ci.prototype.ua=function(){this.g=!1};function hv(_,w,N,j,Q,ie){_.info(function(){if(_.g)if(ie){var xe="",$e=ie.split("&");for(let ct=0;ct<$e.length;ct++){var Gt=$e[ct].split("=");if(Gt.length>1){const Dt=Gt[0];Gt=Gt[1];const jr=Dt.split("_");xe=jr.length>=2&&jr[1]=="type"?xe+(Dt+"="+Gt+"&"):xe+(Dt+"=redacted&")}}}else xe=null;else xe=ie;return"XMLHTTP REQ ("+j+") [attempt "+Q+"]: "+w+`
`+N+`
`+xe})}function vh(_,w,N,j,Q,ie,xe){_.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+Q+"]: "+w+`
`+N+`
`+ie+" "+xe})}function zi(_,w,N,j){_.info(function(){return"XMLHTTP TEXT ("+w+"): "+pv(_,N)+(j?" "+j:"")})}function Ms(_,w){_.info(function(){return"TIMEOUT: "+w})}ci.prototype.info=function(){};function pv(_,w){if(!_.g)return w;if(!w)return null;try{const ie=JSON.parse(w);if(ie){for(_=0;_<ie.length;_++)if(Array.isArray(ie[_])){var N=ie[_];if(!(N.length<2)){var j=N[1];if(Array.isArray(j)&&!(j.length<1)){var Q=j[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let xe=1;xe<j.length;xe++)j[xe]=""}}}}return va(ie)}catch{return w}}var Ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lc;function Os(){}m(Os,ph),Os.prototype.g=function(){return new XMLHttpRequest},Lc=new Os;function Eo(_){return encodeURIComponent(String(_))}function _h(_){var w=1;_=_.split(":");const N=[];for(;w>0&&_.length;)N.push(_.shift()),w--;return _.length&&N.push(_.join(":")),N}function fi(_,w,N,j){this.j=_,this.i=w,this.l=N,this.S=j||1,this.V=new Ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new di}function di(){this.i=null,this.g="",this.h=!1}var en={},Sn={};function Bi(_,w,N){_.M=1,_.A=ks(nn(w)),_.u=N,_.R=!0,Bl(_,null)}function Bl(_,w){_.F=Date.now(),ji(_),_.B=nn(_.A);var N=_.B,j=_.S;Array.isArray(j)||(j=[String(j)]),Gl(N.i,"t",j),_.C=0,N=_.j.L,_.h=new di,_.g=Oh(_.j,N?w:null,!_.u),_.P>0&&(_.O=new er(d(_.Y,_,_.g),_.P)),w=_.V,N=_.g,j=_.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Dc[0]=Q.toString()),Q=Dc);for(let ie=0;ie<Q.length;ie++){const xe=W(N,Q[ie],j||w.handleEvent,!1,w.h||w);if(!xe)break;w.g[xe.key]=xe}w=_.J?K(_.J):{},_.u?(_.v||(_.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.B,_.v,_.u,w)):(_.v="GET",_.g.ea(_.B,_.v,null,w)),Ui(),hv(_.i,_.v,_.B,_.l,_.S,_.u)}fi.prototype.ba=function(_){_=_.target;const w=this.O;w&&mi(_)==3?w.j():this.Y(_)},fi.prototype.Y=function(_){try{if(_==this.g)e:{const $e=mi(this.g),Gt=this.g.ya(),ct=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||On(this.g)))){this.K||$e!=4||Gt==7||(Gt==8||ct<=0?Ui(3):Ui(2)),Fi(this);var w=this.g.ca();this.X=w;var N=mv(this);if(this.o=w==200,vh(this.i,this.v,this.B,this.l,this.S,$e,w),this.o){if(this.U&&!this.L){t:{if(this.g){var j,Q=this.g;if((j=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(j)){var ie=j;break t}}ie=null}if(_=ie)zi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hi(this,_);else{this.o=!1,this.m=3,Zt(12),Sr(this),qr(this);break e}}if(this.R){_=!0;let Dt;for(;!this.K&&this.C<N.length;)if(Dt=Eh(this,N),Dt==Sn){$e==4&&(this.m=4,Zt(14),_=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(Dt==en){this.m=4,Zt(15),zi(this.i,this.l,N,"[Invalid Chunk]"),_=!1;break}else zi(this.i,this.l,Dt,null),Hi(this,Dt);if(bh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||N.length!=0||this.h.h||(this.m=1,Zt(16),_=!1),this.o=this.o&&_,!_)zi(this.i,this.l,N,"[Invalid Chunked Response]"),Sr(this),qr(this);else if(N.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Xc(xe),xe.P=!0,Zt(11))}}else zi(this.i,this.l,N,null),Hi(this,N);$e==4&&Sr(this),this.o&&!this.K&&($e==4?Nh(this.j,this):(this.o=!1,ji(this)))}else So(this.g),w==400&&N.indexOf("Unknown SID")>0?(this.m=3,Zt(12)):(this.m=0,Zt(13)),Sr(this),qr(this)}}}catch{}finally{}};function mv(_){if(!bh(_))return _.g.la();const w=On(_.g);if(w==="")return"";let N="";const j=w.length,Q=mi(_.g)==4;if(!_.h.i){if(typeof TextDecoder>"u")return Sr(_),qr(_),"";_.h.i=new l.TextDecoder}for(let ie=0;ie<j;ie++)_.h.h=!0,N+=_.h.i.decode(w[ie],{stream:!(Q&&ie==j-1)});return w.length=0,_.h.g+=N,_.C=0,_.h.g}function bh(_){return _.g?_.v=="GET"&&_.M!=2&&_.j.Aa:!1}function Eh(_,w){var N=_.C,j=w.indexOf(`
`,N);return j==-1?Sn:(N=Number(w.substring(N,j)),isNaN(N)?en:(j+=1,j+N>w.length?Sn:(w=w.slice(j,j+N),_.C=j+N,w)))}fi.prototype.cancel=function(){this.K=!0,Sr(this)};function ji(_){_.T=Date.now()+_.H,jl(_,_.H)}function jl(_,w){if(_.D!=null)throw Error("WatchDog timer not null");_.D=qi(d(_.aa,_),w)}function Fi(_){_.D&&(l.clearTimeout(_.D),_.D=null)}fi.prototype.aa=function(){this.D=null;const _=Date.now();_-this.T>=0?(Ms(this.i,this.B),this.M!=2&&(Ui(),Zt(17)),Sr(this),this.m=2,qr(this)):jl(this,this.T-_)};function qr(_){_.j.I==0||_.K||Nh(_.j,_)}function Sr(_){Fi(_);var w=_.O;w&&typeof w.dispose=="function"&&w.dispose(),_.O=null,Oc(_.V),_.g&&(w=_.g,_.g=null,w.abort(),w.dispose())}function Hi(_,w){try{var N=_.j;if(N.I!=0&&(N.g==_||$i(N.h,_))){if(!_.L&&$i(N.h,_)&&N.I==3){try{var j=N.Ba.g.parse(w)}catch{j=null}if(Array.isArray(j)&&j.length==3){var Q=j;if(Q[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<_.F)Jl(N),wa(N);else break e;js(N),Zt(18)}}else N.xa=Q[1],0<N.xa-N.K&&Q[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=qi(d(N.Va,N),6e3));Gi(N.h)<=1&&N.ta&&(N.ta=void 0)}else Qi(N,11)}else if((_.L||N.g==_)&&Jl(N),!H(w))for(Q=N.Ba.g.parse(w),w=0;w<Q.length;w++){let ct=Q[w];const Dt=ct[0];if(!(Dt<=N.K))if(N.K=Dt,ct=ct[1],N.I==2)if(ct[0]=="c"){N.M=ct[1],N.ba=ct[2];const jr=ct[3];jr!=null&&(N.ka=jr,N.j.info("VER="+N.ka));const Zi=ct[4];Zi!=null&&(N.za=Zi,N.j.info("SVER="+N.za));const gi=ct[5];gi!=null&&typeof gi=="number"&&gi>0&&(j=1.5*gi,N.O=j,N.j.info("backChannelRequestTimeoutMs_="+j)),j=N;const yi=_.g;if(yi){const Fs=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fs){var ie=j.h;ie.g||Fs.indexOf("spdy")==-1&&Fs.indexOf("quic")==-1&&Fs.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(qc(ie,ie.h),ie.h=null))}if(j.G){const Xl=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;Xl&&(j.wa=Xl,pt(j.J,j.G,Xl))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-_.F,N.j.info("Handshake RTT: "+N.T+"ms")),j=N;var xe=_;if(j.na=Dh(j,j.L?j.ba:null,j.W),xe.L){zc(j.h,xe);var $e=xe,Gt=j.O;Gt&&($e.H=Gt),$e.D&&(Fi($e),ji($e)),j.g=xe}else Ih(j);N.i.length>0&&Xi(N)}else ct[0]!="stop"&&ct[0]!="close"||Qi(N,7);else N.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?Qi(N,7):Wc(N):ct[0]!="noop"&&N.l&&N.l.qa(ct),N.A=0)}}Ui(4)}catch{}}var tn=class{constructor(_,w){this.g=_,this.map=w}};function Uc(_){this.l=_||10,l.PerformanceNavigationTiming?(_=l.performance.getEntriesByType("navigation"),_=_.length>0&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vc(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Gi(_){return _.h?1:_.g?_.g.size:0}function $i(_,w){return _.h?_.h==w:_.g?_.g.has(w):!1}function qc(_,w){_.g?_.g.add(w):_.h=w}function zc(_,w){_.h&&_.h==w?_.h=null:_.g&&_.g.has(w)&&_.g.delete(w)}Uc.prototype.cancel=function(){if(this.i=Bc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Bc(_){if(_.h!=null)return _.i.concat(_.h.G);if(_.g!=null&&_.g.size!==0){let w=_.i;for(const N of _.g.values())w=w.concat(N.G);return w}return E(_.i)}var Th=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fl(_,w){if(_){_=_.split("&");for(let N=0;N<_.length;N++){const j=_[N].indexOf("=");let Q,ie=null;j>=0?(Q=_[N].substring(0,j),ie=_[N].substring(j+1)):Q=_[N],w(Q,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function xr(_){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;_ instanceof xr?(this.l=_.l,xn(this,_.j),this.o=_.o,this.g=_.g,_a(this,_.u),this.h=_.h,jc(this,wh(_.i)),this.m=_.m):_&&(w=String(_).match(Th))?(this.l=!1,xn(this,w[1]||"",!0),this.o=Ki(w[2]||""),this.g=Ki(w[3]||"",!0),_a(this,w[4]),this.h=Ki(w[5]||"",!0),jc(this,w[6]||"",!0),this.m=Ki(w[7]||"")):(this.l=!1,this.i=new Ea(null,this.l))}xr.prototype.toString=function(){const _=[];var w=this.j;w&&_.push(Ls(w,Hl,!0),":");var N=this.g;return(N||w=="file")&&(_.push("//"),(w=this.o)&&_.push(Ls(w,Hl,!0),"@"),_.push(Eo(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&_.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&_.push("/"),_.push(Ls(N,N.charAt(0)=="/"?Fc:Sh,!0))),(N=this.i.toString())&&_.push("?",N),(N=this.m)&&_.push("#",Ls(N,xh)),_.join("")},xr.prototype.resolve=function(_){const w=nn(this);let N=!!_.j;N?xn(w,_.j):N=!!_.o,N?w.o=_.o:N=!!_.g,N?w.g=_.g:N=_.u!=null;var j=_.h;if(N)_a(w,_.u);else if(N=!!_.h){if(j.charAt(0)!="/")if(this.g&&!this.h)j="/"+j;else{var Q=w.h.lastIndexOf("/");Q!=-1&&(j=w.h.slice(0,Q+1)+j)}if(Q=j,Q==".."||Q==".")j="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){j=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ie=[];for(let xe=0;xe<Q.length;){const $e=Q[xe++];$e=="."?j&&xe==Q.length&&ie.push(""):$e==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),j&&xe==Q.length&&ie.push("")):(ie.push($e),j=!0)}j=ie.join("/")}else j=Q}return N?w.h=j:N=_.i.toString()!=="",N?jc(w,wh(_.i)):N=!!_.m,N&&(w.m=_.m),w};function nn(_){return new xr(_)}function xn(_,w,N){_.j=N?Ki(w,!0):w,_.j&&(_.j=_.j.replace(/:$/,""))}function _a(_,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);_.u=w}else _.u=null}function jc(_,w,N){w instanceof Ea?(_.i=w,$l(_.i,_.l)):(N||(w=Ls(w,ba)),_.i=new Ea(w,_.l))}function pt(_,w,N){_.i.set(w,N)}function ks(_){return pt(_,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),_}function Ki(_,w){return _?w?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Ls(_,w,N){return typeof _=="string"?(_=encodeURI(_).replace(w,ur),N&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function ur(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var Hl=/[#\/\?@]/g,Sh=/[#\?:]/g,Fc=/[#\?]/g,ba=/[#\?@]/g,xh=/#/g;function Ea(_,w){this.h=this.g=null,this.i=_||null,this.j=!!w}function cr(_){_.g||(_.g=new Map,_.h=0,_.i&&Fl(_.i,function(w,N){_.add(decodeURIComponent(w.replace(/\+/g," ")),N)}))}t=Ea.prototype,t.add=function(_,w){cr(this),this.i=null,_=Ta(this,_);let N=this.g.get(_);return N||this.g.set(_,N=[]),N.push(w),this.h+=1,this};function Ah(_,w){cr(_),w=Ta(_,w),_.g.has(w)&&(_.i=null,_.h-=_.g.get(w).length,_.g.delete(w))}function Hc(_,w){return cr(_),w=Ta(_,w),_.g.has(w)}t.forEach=function(_,w){cr(this),this.g.forEach(function(N,j){N.forEach(function(Q){_.call(w,Q,j,this)},this)},this)};function Gc(_,w){cr(_);let N=[];if(typeof w=="string")Hc(_,w)&&(N=N.concat(_.g.get(Ta(_,w))));else for(_=Array.from(_.g.values()),w=0;w<_.length;w++)N=N.concat(_[w]);return N}t.set=function(_,w){return cr(this),this.i=null,_=Ta(this,_),Hc(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[w]),this.h+=1,this},t.get=function(_,w){return _?(_=Gc(this,_),_.length>0?String(_[0]):w):w};function Gl(_,w,N){Ah(_,w),N.length>0&&(_.i=null,_.g.set(Ta(_,w),E(N)),_.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],w=Array.from(this.g.keys());for(let j=0;j<w.length;j++){var N=w[j];const Q=Eo(N);N=Gc(this,N);for(let ie=0;ie<N.length;ie++){let xe=Q;N[ie]!==""&&(xe+="="+Eo(N[ie])),_.push(xe)}}return this.i=_.join("&")};function wh(_){const w=new Ea;return w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),w}function Ta(_,w){return w=String(w),_.j&&(w=w.toLowerCase()),w}function $l(_,w){w&&!_.j&&(cr(_),_.i=null,_.g.forEach(function(N,j){const Q=j.toLowerCase();j!=Q&&(Ah(this,j),Gl(this,Q,N))},_)),_.j=w}function hi(_,w){const N=new ci;if(l.Image){const j=new Image;j.onload=h(zr,N,"TestLoadImage: loaded",!0,w,j),j.onerror=h(zr,N,"TestLoadImage: error",!1,w,j),j.onabort=h(zr,N,"TestLoadImage: abort",!1,w,j),j.ontimeout=h(zr,N,"TestLoadImage: timeout",!1,w,j),l.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=_}else w(!1)}function $c(_,w){const N=new ci,j=new AbortController,Q=setTimeout(()=>{j.abort(),zr(N,"TestPingServer: timeout",!1,w)},1e4);fetch(_,{signal:j.signal}).then(ie=>{clearTimeout(Q),ie.ok?zr(N,"TestPingServer: ok",!0,w):zr(N,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Q),zr(N,"TestPingServer: error",!1,w)})}function zr(_,w,N,j,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),j(N)}catch{}}function Sa(){this.g=new hh}function Yi(_){this.i=_.Sb||null,this.h=_.ab||!1}m(Yi,ph),Yi.prototype.g=function(){return new Us(this.i,this.h)};function Us(_,w){qt.call(this),this.H=_,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Us,qt),t=Us.prototype,t.open=function(_,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=_,this.D=w,this.readyState=1,pi(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};_&&(w.body=_),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=0},t.Pa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Kl(this)}else _.text().then(this.Oa.bind(this),this.ga.bind(this))};function Kl(_){_.j.read().then(_.Ma.bind(_)).catch(_.ga.bind(_))}t.Ma=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var w=_.value?_.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!_.done}))&&(this.response=this.responseText+=w)}_.done?xa(this):pi(this),this.readyState==3&&Kl(this)}},t.Oa=function(_){this.g&&(this.response=this.responseText=_,xa(this))},t.Na=function(_){this.g&&(this.response=_,xa(this))},t.ga=function(){this.g&&xa(this)};function xa(_){_.readyState=4,_.l=null,_.j=null,_.B=null,pi(_)}t.setRequestHeader=function(_,w){this.A.append(_,w)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],w=this.h.entries();for(var N=w.next();!N.done;)N=N.value,_.push(N[0]+": "+N[1]),N=w.next();return _.join(`\r
`)};function pi(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Br(_){let w="";return ve(_,function(N,j){w+=j,w+=":",w+=N,w+=`\r
`}),w}function Vs(_,w,N){e:{for(j in N){var j=!1;break e}j=!0}j||(N=Br(N),typeof _=="string"?N!=null&&Eo(N):pt(_,w,N))}function vt(_){qt.call(this),this.headers=new Map,this.L=_||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(vt,qt);var Wi=/^https?$/i,Kc=["POST","PUT"];t=vt.prototype,t.Fa=function(_){this.H=_},t.ea=function(_,w,N,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);w=w?w.toUpperCase():"GET",this.D=_,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lc.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(w,String(_),!0),this.B=!1}catch(ie){qs(this,ie);return}if(_=N||"",N=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var Q in j)N.set(Q,j[Q]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ie of j.keys())N.set(ie,j.get(ie));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(N.keys()).find(ie=>ie.toLowerCase()=="content-type"),Q=l.FormData&&_ instanceof l.FormData,!(Array.prototype.indexOf.call(Kc,w,void 0)>=0)||j||Q||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,xe]of N)this.g.setRequestHeader(ie,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(_),this.v=!1}catch(ie){qs(this,ie)}};function qs(_,w){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=w,_.o=5,Yc(_),To(_)}function Yc(_){_.A||(_.A=!0,dn(_,"complete"),dn(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=_||7,dn(this,"complete"),dn(this,"abort"),To(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),To(this,!0)),vt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?zs(this):this.Xa())},t.Xa=function(){zs(this)};function zs(_){if(_.h&&typeof o<"u"){if(_.v&&mi(_)==4)setTimeout(_.Ca.bind(_),0);else if(dn(_,"readystatechange"),mi(_)==4){_.h=!1;try{const ie=_.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var N;if(!(N=w)){var j;if(j=ie===0){let xe=String(_.D).match(Th)[1]||null;!xe&&l.self&&l.self.location&&(xe=l.self.location.protocol.slice(0,-1)),j=!Wi.test(xe?xe.toLowerCase():"")}N=j}if(N)dn(_,"complete"),dn(_,"success");else{_.o=6;try{var Q=mi(_)>2?_.g.statusText:""}catch{Q=""}_.l=Q+" ["+_.ca()+"]",Yc(_)}}finally{To(_)}}}}function To(_,w){if(_.g){_.m&&(clearTimeout(_.m),_.m=null);const N=_.g;_.g=null,w||dn(_,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function mi(_){return _.g?_.g.readyState:0}t.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(_){if(this.g){var w=this.g.responseText;return _&&w.indexOf(_)==0&&(w=w.substring(_.length)),dv(w)}};function On(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.F){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function So(_){const w={};_=(_.g&&mi(_)>=2&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<_.length;j++){if(H(_[j]))continue;var N=_h(_[j]);const Q=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ie=w[Q]||[];w[Q]=ie,ie.push(N)}Ve(w,function(j){return j.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ji(_,w,N){return N&&N.internalChannelParams&&N.internalChannelParams[_]||w}function Aa(_){this.za=0,this.i=[],this.j=new ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ji("failFast",!1,_),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ji("baseRetryDelayMs",5e3,_),this.Za=Ji("retryDelaySeedMs",1e4,_),this.Ta=Ji("forwardChannelMaxRetries",2,_),this.va=Ji("forwardChannelRequestTimeoutMs",2e4,_),this.ma=_&&_.xmlHttpFactory||void 0,this.Ua=_&&_.Rb||void 0,this.Aa=_&&_.useFetchStreams||!1,this.O=void 0,this.L=_&&_.supportsCrossDomainXhr||!1,this.M="",this.h=new Uc(_&&_.concurrentRequestLimit),this.Ba=new Sa,this.S=_&&_.fastHandshake||!1,this.R=_&&_.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=_&&_.Pb||!1,_&&_.ua&&this.j.ua(),_&&_.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&_&&_.detectBufferingProxy||!1,this.ia=void 0,_&&_.longPollingTimeout&&_.longPollingTimeout>0&&(this.ia=_.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Aa.prototype,t.ka=8,t.I=1,t.connect=function(_,w,N,j){Zt(0),this.W=_,this.H=w||{},N&&j!==void 0&&(this.H.OSID=N,this.H.OAID=j),this.F=this.X,this.J=Dh(this,null,this.W),Xi(this)};function Wc(_){if(Yl(_),_.I==3){var w=_.V++,N=nn(_.J);if(pt(N,"SID",_.M),pt(N,"RID",w),pt(N,"TYPE","terminate"),Bs(_,N),w=new fi(_,_.j,w),w.M=2,w.A=ks(nn(N)),N=!1,l.navigator&&l.navigator.sendBeacon)try{N=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!N&&l.Image&&(new Image().src=w.A,N=!0),N||(w.g=Oh(w.j,null),w.g.ea(w.A)),w.F=Date.now(),ji(w)}Mh(_)}function wa(_){_.g&&(Xc(_),_.g.cancel(),_.g=null)}function Yl(_){wa(_),_.v&&(l.clearTimeout(_.v),_.v=null),Jl(_),_.h.cancel(),_.m&&(typeof _.m=="number"&&l.clearTimeout(_.m),_.m=null)}function Xi(_){if(!Vc(_.h)&&!_.m){_.m=!0;var w=_.Ea;F||k(),G||(F(),G=!0),O.add(w,_),_.D=0}}function Wl(_,w){return Gi(_.h)>=_.h.j-(_.m?1:0)?!1:_.m?(_.i=w.G.concat(_.i),!0):_.I==1||_.I==2||_.D>=(_.Sa?0:_.Ta)?!1:(_.m=qi(d(_.Ea,_,w),Rh(_,_.D)),_.D++,!0)}t.Ea=function(_){if(this.m)if(this.m=null,this.I==1){if(!_){this.V=Math.floor(Math.random()*1e5),_=this.V++;const Q=new fi(this,this.j,_);let ie=this.o;if(this.U&&(ie?(ie=K(ie),Ee(ie,this.U)):ie=this.U),this.u!==null||this.R||(Q.J=ie,ie=null),this.S)e:{for(var w=0,N=0;N<this.i.length;N++){t:{var j=this.i[N];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(w+=j,w>4096){w=N;break e}if(w===4096||N===this.i.length-1){w=N+1;break e}}w=1e3}else w=1e3;w=Ch(this,Q,w),N=nn(this.J),pt(N,"RID",_),pt(N,"CVER",22),this.G&&pt(N,"X-HTTP-Session-Id",this.G),Bs(this,N),ie&&(this.R?w="headers="+Eo(Br(ie))+"&"+w:this.u&&Vs(N,this.u,ie)),qc(this.h,Q),this.Ra&&pt(N,"TYPE","init"),this.S?(pt(N,"$req",w),pt(N,"SID","null"),Q.U=!0,Bi(Q,N,null)):Bi(Q,N,w),this.I=2}}else this.I==3&&(_?Jc(this,_):this.i.length==0||Vc(this.h)||Jc(this))};function Jc(_,w){var N;w?N=w.l:N=_.V++;const j=nn(_.J);pt(j,"SID",_.M),pt(j,"RID",N),pt(j,"AID",_.K),Bs(_,j),_.u&&_.o&&Vs(j,_.u,_.o),N=new fi(_,_.j,N,_.D+1),_.u===null&&(N.J=_.o),w&&(_.i=w.G.concat(_.i)),w=Ch(_,N,1e3),N.H=Math.round(_.va*.5)+Math.round(_.va*.5*Math.random()),qc(_.h,N),Bi(N,j,w)}function Bs(_,w){_.H&&ve(_.H,function(N,j){pt(w,j,N)}),_.l&&ve({},function(N,j){pt(w,j,N)})}function Ch(_,w,N){N=Math.min(_.i.length,N);const j=_.l?d(_.l.Ka,_.l,_):null;e:{var Q=_.i;let $e=-1;for(;;){const Gt=["count="+N];$e==-1?N>0?($e=Q[0].g,Gt.push("ofs="+$e)):$e=0:Gt.push("ofs="+$e);let ct=!0;for(let Dt=0;Dt<N;Dt++){var ie=Q[Dt].g;const jr=Q[Dt].map;if(ie-=$e,ie<0)$e=Math.max(0,Q[Dt].g-100),ct=!1;else try{ie="req"+ie+"_"||"";try{var xe=jr instanceof Map?jr:Object.entries(jr);for(const[Zi,gi]of xe){let yi=gi;u(gi)&&(yi=va(gi)),Gt.push(ie+Zi+"="+encodeURIComponent(yi))}}catch(Zi){throw Gt.push(ie+"type="+encodeURIComponent("_badmap")),Zi}}catch{j&&j(jr)}}if(ct){xe=Gt.join("&");break e}}xe=void 0}return _=_.i.splice(0,N),w.G=_,xe}function Ih(_){if(!_.g&&!_.v){_.Y=1;var w=_.Da;F||k(),G||(F(),G=!0),O.add(w,_),_.A=0}}function js(_){return _.g||_.v||_.A>=3?!1:(_.Y++,_.v=qi(d(_.Da,_),Rh(_,_.A)),_.A++,!0)}t.Da=function(){if(this.v=null,Ph(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var _=4*this.T;this.j.info("BP detection timer enabled: "+_),this.B=qi(d(this.Wa,this),_)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Zt(10),wa(this),Ph(this))};function Xc(_){_.B!=null&&(l.clearTimeout(_.B),_.B=null)}function Ph(_){_.g=new fi(_,_.j,"rpc",_.Y),_.u===null&&(_.g.J=_.o),_.g.P=0;var w=nn(_.na);pt(w,"RID","rpc"),pt(w,"SID",_.M),pt(w,"AID",_.K),pt(w,"CI",_.F?"0":"1"),!_.F&&_.ia&&pt(w,"TO",_.ia),pt(w,"TYPE","xmlhttp"),Bs(_,w),_.u&&_.o&&Vs(w,_.u,_.o),_.O&&(_.g.H=_.O);var N=_.g;_=_.ba,N.M=1,N.A=ks(nn(w)),N.u=null,N.R=!0,Bl(N,_)}t.Va=function(){this.C!=null&&(this.C=null,wa(this),js(this),Zt(19))};function Jl(_){_.C!=null&&(l.clearTimeout(_.C),_.C=null)}function Nh(_,w){var N=null;if(_.g==w){Jl(_),Xc(_),_.g=null;var j=2}else if($i(_.h,w))N=w.G,zc(_.h,w),j=1;else return;if(_.I!=0){if(w.o)if(j==1){N=w.u?w.u.length:0,w=Date.now()-w.F;var Q=_.D;j=zl(),dn(j,new Vi(j,N)),Xi(_)}else Ih(_);else if(Q=w.m,Q==3||Q==0&&w.X>0||!(j==1&&Wl(_,w)||j==2&&js(_)))switch(N&&N.length>0&&(w=_.h,w.i=w.i.concat(N)),Q){case 1:Qi(_,5);break;case 4:Qi(_,10);break;case 3:Qi(_,6);break;default:Qi(_,2)}}}function Rh(_,w){let N=_.Qa+Math.floor(Math.random()*_.Za);return _.isActive()||(N*=2),N*w}function Qi(_,w){if(_.j.info("Error code "+w),w==2){var N=d(_.bb,_),j=_.Ua;const Q=!j;j=new xr(j||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||xn(j,"https"),ks(j),Q?hi(j.toString(),N):$c(j.toString(),N)}else Zt(2);_.I=0,_.l&&_.l.pa(w),Mh(_),Yl(_)}t.bb=function(_){_?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function Mh(_){if(_.I=0,_.ja=[],_.l){const w=Bc(_.h);(w.length!=0||_.i.length!=0)&&(A(_.ja,w),A(_.ja,_.i),_.h.i.length=0,E(_.i),_.i.length=0),_.l.oa()}}function Dh(_,w,N){var j=N instanceof xr?nn(N):new xr(N);if(j.g!="")w&&(j.g=w+"."+j.g),_a(j,j.u);else{var Q=l.location;j=Q.protocol,w=w?w+"."+Q.hostname:Q.hostname,Q=+Q.port;const ie=new xr(null);j&&xn(ie,j),w&&(ie.g=w),Q&&_a(ie,Q),N&&(ie.h=N),j=ie}return N=_.G,w=_.wa,N&&w&&pt(j,N,w),pt(j,"VER",_.ka),Bs(_,j),j}function Oh(_,w,N){if(w&&!_.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=_.Aa&&!_.ma?new vt(new Yi({ab:N})):new vt(_.ma),w.Fa(_.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kh(){}t=kh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ca(){}Ca.prototype.g=function(_,w){return new tr(_,w)};function tr(_,w){qt.call(this),this.g=new Aa(w),this.l=_,this.h=w&&w.messageUrlParams||null,_=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(_?_["X-WebChannel-Content-Type"]=w.messageContentType:_={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(_?_["X-WebChannel-Client-Profile"]=w.sa:_={"X-WebChannel-Client-Profile":w.sa}),this.g.U=_,(_=w&&w.Qb)&&!H(_)&&(this.g.u=_),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!H(w)&&(this.g.G=w,_=this.h,_!==null&&w in _&&(_=this.h,w in _&&delete _[w])),this.j=new xo(this)}m(tr,qt),tr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tr.prototype.close=function(){Wc(this.g)},tr.prototype.o=function(_){var w=this.g;if(typeof _=="string"){var N={};N.__data__=_,_=N}else this.v&&(N={},N.__data__=va(_),_=N);w.i.push(new tn(w.Ya++,_)),w.I==3&&Xi(w)},tr.prototype.N=function(){this.g.l=null,delete this.j,Wc(this.g),delete this.g,tr.Z.N.call(this)};function Lh(_){Dn.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var w=_.__sm__;if(w){e:{for(const N in w){_=N;break e}_=void 0}(this.i=_)&&(_=this.i,w=w!==null&&_ in w?w[_]:void 0),this.data=w}else this.data=_}m(Lh,Dn);function Uh(){Vr.call(this),this.status=1}m(Uh,Vr);function xo(_){this.g=_}m(xo,kh),xo.prototype.ra=function(){dn(this.g,"a")},xo.prototype.qa=function(_){dn(this.g,new Lh(_))},xo.prototype.pa=function(_){dn(this.g,new Uh)},xo.prototype.oa=function(){dn(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,tr.prototype.send=tr.prototype.o,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,Rk=function(){return new Ca},Nk=function(){return zl()},Pk=Ht,AE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,ym=Ds,kc.COMPLETE="complete",Ik=kc,mh.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",qt.prototype.listen=qt.prototype.J,Kf=mh,vt.prototype.listenOnce=vt.prototype.K,vt.prototype.getLastError=vt.prototype.Ha,vt.prototype.getLastErrorCode=vt.prototype.ya,vt.prototype.getStatus=vt.prototype.ca,vt.prototype.getResponseJson=vt.prototype.La,vt.prototype.getResponseText=vt.prototype.la,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Fa,Ck=vt}).apply(typeof jp<"u"?jp:typeof self<"u"?self:typeof window<"u"?window:{});const zI="@firebase/firestore",BI="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new tS("@firebase/firestore");function Du(){return Cl.logLevel}function Ce(t,...e){if(Cl.logLevel<=et.DEBUG){const n=e.map(pS);Cl.debug(`Firestore (${vc}): ${t}`,...n)}}function Qo(t,...e){if(Cl.logLevel<=et.ERROR){const n=e.map(pS);Cl.error(`Firestore (${vc}): ${t}`,...n)}}function Zu(t,...e){if(Cl.logLevel<=et.WARN){const n=e.map(pS);Cl.warn(`Firestore (${vc}): ${t}`,...n)}}function pS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Mk(t,r,n)}function Mk(t,e,n){let r=`FIRESTORE (${vc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Qo(r),new Error(r)}function ht(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Mk(e,i,r)}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends la{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Kn.UNAUTHENTICATED)))}shutdown(){}}class $8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class K8{constructor(e){this.t=e,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ht(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new cs,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},u=f=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new cs)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string",31837,{l:r}),new Dk(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string",2055,{h:e}),new Kn(e)}}class Y8{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class W8{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Y8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Kn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ht(this.o===void 0,3512);const r=o=>{o.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=X8(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function tt(t,e){return t<e?-1:t>e?1:0}function wE(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return S_(i)===S_(o)?tt(i,o):S_(i)?1:-1}return tt(t.length,e.length)}const Q8=55296,Z8=57343;function S_(t){const e=t.charCodeAt(0);return e>=Q8&&e<=Z8}function ec(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="__name__";class io{constructor(e,n,r){n===void 0?n=0:n>e.length&&ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return io.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof io?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=io.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return tt(e.length,n.length)}static compareSegments(e,n){const r=io.isNumericId(e),i=io.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?io.extractNumericId(e).compare(io.extractNumericId(n)):wE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class Rt extends io{construct(e,n,r){return new Rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Rt(n)}static emptyPath(){return new Rt([])}}const eH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bn extends io{construct(e,n,r){return new Bn(e,n,r)}static isValidIdentifier(e){return eH.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FI}static keyField(){return new Bn([FI])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ne(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ne(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ne(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new Ne(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bn(n)}static emptyPath(){return new Bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Rt.fromString(e))}static fromName(e){return new Ue(Rt.fromString(e).popFirst(5))}static empty(){return new Ue(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t,e,n){if(!n)throw new Ne(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tH(t,e,n,r){if(e===!0&&r===!0)throw new Ne(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HI(t){if(!Ue.isDocumentKey(t))throw new Ne(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GI(t){if(Ue.isDocumentKey(t))throw new Ne(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kk(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze(12329,{type:typeof t})}function ni(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gS(t);throw new Ne(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ld(t,e){if(!kk(t))throw new Ne(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ne(me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=-62135596800,KI=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*KI);return new Mt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$I)throw new Ne(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KI}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ld(e,Mt._jsonSchema))return new Mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$I;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Mt._jsonSchemaVersion="firestore/timestamp/1.0",Mt._jsonSchema={type:cn("string",Mt._jsonSchemaVersion),seconds:cn("number"),nanoseconds:cn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new Mt(0,0))}static max(){return new je(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=-1;function nH(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=je.fromTimestamp(r===1e9?new Mt(n+1,0):new Mt(n,r));return new hs(i,Ue.empty(),e)}function rH(t){return new hs(t.readTime,t.key,cd)}class hs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hs(je.min(),Ue.empty(),cd)}static max(){return new hs(je.max(),Ue.empty(),cd)}}function iH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ue.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==oH)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pe(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof pe?n:pe.resolve(n)}catch(n){return pe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):pe.reject(n)}static resolve(e){return new pe(((n,r)=>{n(e)}))}static reject(e){return new pe(((n,r)=>{r(e)}))}static waitFor(e){return new pe(((n,r)=>{let i=0,o=0,l=!1;e.forEach((u=>{++i,u.next((()=>{++o,l&&o===i&&n()}),(f=>r(f)))})),l=!0,o===i&&n()}))}static or(e){let n=pe.resolve(!1);for(const r of e)n=n.next((i=>i?pe.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new pe(((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;n(e[d]).next((h=>{l[d]=h,++u,u===o&&r(l)}),(h=>i(h)))}}))}static doWhile(e,n){return new pe(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function sH(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=-1;function Qg(t){return t==null}function zm(t){return t===0&&1/t==-1/0}function lH(t){return typeof t=="number"&&Number.isInteger(t)&&!zm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="";function uH(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=YI(e)),e=cH(t.get(n),e);return YI(e)}function cH(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case Lk:n+="";break;default:n+=o}}return n}function YI(t){return t+Lk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ss(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Uk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||zn.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zn.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fp(this.root,e,this.comparator,!0)}}class Fp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??zn.RED,this.left=i??zn.EMPTY,this.right=o??zn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new zn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return zn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}zn.EMPTY=null,zn.RED=!0,zn.BLACK=!1;zn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new zn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new JI(this.data.getIterator())}getIteratorFrom(e){return new JI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new gn(this.comparator);return n.data=e,n}}class JI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.fields=e,e.sort(Bn.comparator)}static empty(){return new Or([])}unionWith(e){let n=new gn(Bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ec(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Vk("Invalid base64 string: "+o):o}})(e);return new Fn(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new Fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const fH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(t){if(ht(!!t,39018),typeof t=="string"){let e=0;const n=fH.exec(t);if(ht(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wt(t.seconds),nanos:Wt(t.nanos)}}function Wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ms(t){return typeof t=="string"?Fn.fromBase64String(t):Fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="server_timestamp",zk="__type__",Bk="__previous_value__",jk="__local_write_time__";function vS(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[zk])==null?void 0:r.stringValue)===qk}function Zg(t){const e=t.mapValue.fields[Bk];return vS(e)?Zg(e):e}function fd(t){const e=ps(t.mapValue.fields[jk].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e,n,r,i,o,l,u,f,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=h}}const Bm="(default)";class dd{constructor(e,n){this.projectId=e,this.database=n||Bm}static empty(){return new dd("","")}get isDefaultDatabase(){return this.database===Bm}isEqual(e){return e instanceof dd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="__type__",hH="__max__",Hp={mapValue:{}},Hk="__vector__",jm="value";function gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vS(t)?4:mH(t)?9007199254740991:pH(t)?10:11:ze(28295,{value:t})}function mo(t,e){if(t===e)return!0;const n=gs(t);if(n!==gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fd(t).isEqual(fd(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=ps(i.timestampValue),u=ps(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return ms(i.bytesValue).isEqual(ms(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Wt(i.geoPointValue.latitude)===Wt(o.geoPointValue.latitude)&&Wt(i.geoPointValue.longitude)===Wt(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Wt(i.integerValue)===Wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Wt(i.doubleValue),u=Wt(o.doubleValue);return l===u?zm(l)===zm(u):isNaN(l)&&isNaN(u)}return!1})(t,e);case 9:return ec(t.arrayValue.values||[],e.arrayValue.values||[],mo);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(WI(l)!==WI(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!mo(l[f],u[f])))return!1;return!0})(t,e);default:return ze(52216,{left:t})}}function hd(t,e){return(t.values||[]).find((n=>mo(n,e)))!==void 0}function tc(t,e){if(t===e)return 0;const n=gs(t),r=gs(e);if(n!==r)return tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const u=Wt(o.integerValue||o.doubleValue),f=Wt(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(t,e);case 3:return XI(t.timestampValue,e.timestampValue);case 4:return XI(fd(t),fd(e));case 5:return wE(t.stringValue,e.stringValue);case 6:return(function(o,l){const u=ms(o),f=ms(l);return u.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const u=o.split("/"),f=l.split("/");for(let d=0;d<u.length&&d<f.length;d++){const h=tt(u[d],f[d]);if(h!==0)return h}return tt(u.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const u=tt(Wt(o.latitude),Wt(l.latitude));return u!==0?u:tt(Wt(o.longitude),Wt(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return QI(t.arrayValue,e.arrayValue);case 10:return(function(o,l){var v,E,A,x;const u=o.fields||{},f=l.fields||{},d=(v=u[jm])==null?void 0:v.arrayValue,h=(E=f[jm])==null?void 0:E.arrayValue,m=tt(((A=d==null?void 0:d.values)==null?void 0:A.length)||0,((x=h==null?void 0:h.values)==null?void 0:x.length)||0);return m!==0?m:QI(d,h)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Hp.mapValue&&l===Hp.mapValue)return 0;if(o===Hp.mapValue)return 1;if(l===Hp.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=l.fields||{},h=Object.keys(d);f.sort(),h.sort();for(let m=0;m<f.length&&m<h.length;++m){const v=wE(f[m],h[m]);if(v!==0)return v;const E=tc(u[f[m]],d[h[m]]);if(E!==0)return E}return tt(f.length,h.length)})(t.mapValue,e.mapValue);default:throw ze(23264,{he:n})}}function XI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=ps(t),r=ps(e),i=tt(n.seconds,r.seconds);return i!==0?i:tt(n.nanos,r.nanos)}function QI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=tc(n[i],r[i]);if(o)return o}return tt(n.length,r.length)}function nc(t){return CE(t)}function CE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ps(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ms(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ue.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=CE(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${CE(n.fields[l])}`;return i+"}"})(t.mapValue):ze(61005,{value:t})}function vm(t){switch(gs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zg(t);return e?16+vm(e):16;case 5:return 2*t.stringValue.length;case 6:return ms(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+vm(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Ss(r.fields,((o,l)=>{i+=o.length+vm(l)})),i})(t.mapValue);default:throw ze(13486,{value:t})}}function IE(t){return!!t&&"integerValue"in t}function _S(t){return!!t&&"arrayValue"in t}function ZI(t){return!!t&&"nullValue"in t}function eP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _m(t){return!!t&&"mapValue"in t}function pH(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Fk])==null?void 0:r.stringValue)===Hk}function nd(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ss(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=nd(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nd(t.arrayValue.values[n]);return e}return{...t}}function mH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.value=e}static empty(){return new vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_m(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nd(n)}setAll(e){let n=Bn.emptyPath(),r={},i=[];e.forEach(((l,u)=>{if(!n.isImmediateParentOf(u)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=nd(l):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());_m(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_m(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ss(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new vr(nd(this.value))}}function Gk(t){const e=[];return Ss(t.fields,((n,r)=>{const i=new Bn([n]);if(_m(r)){const o=Gk(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new Or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,n,r,i,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Yn(e,0,je.min(),je.min(),je.min(),vr.empty(),0)}static newFoundDocument(e,n,r,i){return new Yn(e,1,n,je.min(),r,i,0)}static newNoDocument(e,n){return new Yn(e,2,n,je.min(),je.min(),vr.empty(),0)}static newUnknownDocument(e,n){return new Yn(e,3,n,je.min(),je.min(),vr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){this.position=e,this.inclusive=n}}function tP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=Ue.comparator(Ue.fromName(l.referenceValue),n.key):r=tc(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function nP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mo(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n="asc"){this.field=e,this.dir=n}}function gH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{}class mn extends $k{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vH(e,n,r):n==="array-contains"?new EH(e,r):n==="in"?new TH(e,r):n==="not-in"?new SH(e,r):n==="array-contains-any"?new xH(e,r):new mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _H(e,r):new bH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(tc(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(tc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class go extends $k{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new go(e,n)}matches(e){return Kk(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Kk(t){return t.op==="and"}function Yk(t){return yH(t)&&Kk(t)}function yH(t){for(const e of t.filters)if(e instanceof go)return!1;return!0}function PE(t){if(t instanceof mn)return t.field.canonicalString()+t.op.toString()+nc(t.value);if(Yk(t))return t.filters.map((e=>PE(e))).join(",");{const e=t.filters.map((n=>PE(n))).join(",");return`${t.op}(${e})`}}function Wk(t,e){return t instanceof mn?(function(r,i){return i instanceof mn&&r.op===i.op&&r.field.isEqual(i.field)&&mo(r.value,i.value)})(t,e):t instanceof go?(function(r,i){return i instanceof go&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,u)=>o&&Wk(l,i.filters[u])),!0):!1})(t,e):void ze(19439)}function Jk(t){return t instanceof mn?(function(n){return`${n.field.canonicalString()} ${n.op} ${nc(n.value)}`})(t):t instanceof go?(function(n){return n.op.toString()+" {"+n.getFilters().map(Jk).join(" ,")+"}"})(t):"Filter"}class vH extends mn{constructor(e,n,r){super(e,n,r),this.key=Ue.fromName(r.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class _H extends mn{constructor(e,n){super(e,"in",n),this.keys=Xk("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class bH extends mn{constructor(e,n){super(e,"not-in",n),this.keys=Xk("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Xk(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ue.fromName(r.referenceValue)))}class EH extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _S(n)&&hd(n.arrayValue,this.value)}}class TH extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hd(this.value.arrayValue,n)}}class SH extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hd(this.value.arrayValue,n)}}class xH extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_S(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>hd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e,n=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function rP(t,e=null,n=[],r=[],i=null,o=null,l=null){return new AH(t,e,n,r,i,o,l)}function bS(t){const e=He(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>PE(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Qg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>nc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>nc(r))).join(",")),e.Te=n}return e.Te}function ES(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Wk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nP(t.startAt,e.startAt)&&nP(t.endAt,e.endAt)}function NE(t){return Ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n=null,r=[],i=[],o=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wH(t,e,n,r,i,o,l,u){return new ey(t,e,n,r,i,o,l,u)}function ty(t){return new ey(t)}function iP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CH(t){return t.collectionGroup!==null}function rd(t){const e=He(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new gn(Bn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Hm(o,r))})),n.has(Bn.keyField().canonicalString())||e.Ie.push(new Hm(Bn.keyField(),r))}return e.Ie}function lo(t){const e=He(t);return e.Ee||(e.Ee=IH(e,rd(t))),e.Ee}function IH(t,e){if(t.limitType==="F")return rP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Hm(i.field,o)}));const n=t.endAt?new Fm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fm(t.startAt.position,t.startAt.inclusive):null;return rP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function RE(t,e,n){return new ey(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ny(t,e){return ES(lo(t),lo(e))&&t.limitType===e.limitType}function Qk(t){return`${bS(lo(t))}|lt:${t.limitType}`}function Ou(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>Jk(i))).join(", ")}]`),Qg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>nc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>nc(i))).join(",")),`Target(${r})`})(lo(t))}; limitType=${t.limitType})`}function ry(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of rd(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,u,f){const d=tP(l,u,f);return l.inclusive?d<=0:d<0})(r.startAt,rd(r),i)||r.endAt&&!(function(l,u,f){const d=tP(l,u,f);return l.inclusive?d>=0:d>0})(r.endAt,rd(r),i))})(t,e)}function PH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Zk(t){return(e,n)=>{let r=!1;for(const i of rd(t)){const o=NH(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function NH(t,e,n){const r=t.field.isKeyField()?Ue.comparator(e.key,n.key):(function(o,l,u){const f=l.data.field(o),d=u.data.field(o);return f!==null&&d!==null?tc(f,d):ze(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return Uk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=new zt(Ue.comparator);function Zo(){return RH}const eL=new zt(Ue.comparator);function Yf(...t){let e=eL;for(const n of t)e=e.insert(n.key,n);return e}function tL(t){let e=eL;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function dl(){return id()}function nL(){return id()}function id(){return new kl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const MH=new zt(Ue.comparator),DH=new gn(Ue.comparator);function nt(...t){let e=DH;for(const n of t)e=e.add(n);return e}const OH=new gn(tt);function kH(){return OH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zm(e)?"-0":e}}function rL(t){return{integerValue:""+t}}function LH(t,e){return lH(e)?rL(e):TS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(){this._=void 0}}function UH(t,e,n){return t instanceof Gm?(function(i,o){const l={fields:{[zk]:{stringValue:qk},[jk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&vS(o)&&(o=Zg(o)),o&&(l.fields[Bk]=o),{mapValue:l}})(n,e):t instanceof pd?oL(t,e):t instanceof md?aL(t,e):(function(i,o){const l=iL(i,o),u=oP(l)+oP(i.Ae);return IE(l)&&IE(i.Ae)?rL(u):TS(i.serializer,u)})(t,e)}function VH(t,e,n){return t instanceof pd?oL(t,e):t instanceof md?aL(t,e):n}function iL(t,e){return t instanceof $m?(function(r){return IE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Gm extends iy{}class pd extends iy{constructor(e){super(),this.elements=e}}function oL(t,e){const n=sL(e);for(const r of t.elements)n.some((i=>mo(i,r)))||n.push(r);return{arrayValue:{values:n}}}class md extends iy{constructor(e){super(),this.elements=e}}function aL(t,e){let n=sL(e);for(const r of t.elements)n=n.filter((i=>!mo(i,r)));return{arrayValue:{values:n}}}class $m extends iy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function oP(t){return Wt(t.integerValue||t.doubleValue)}function sL(t){return _S(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function qH(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof pd&&i instanceof pd||r instanceof md&&i instanceof md?ec(r.elements,i.elements,mo):r instanceof $m&&i instanceof $m?mo(r.Ae,i.Ae):r instanceof Gm&&i instanceof Gm})(t.transform,e.transform)}class zH{constructor(e,n){this.version=e,this.transformResults=n}}class Er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class oy{}function lL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ay(t.key,Er.none()):new Ud(t.key,t.data,Er.none());{const n=t.data,r=vr.empty();let i=new gn(Bn.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new xs(t.key,r,new Or(i.toArray()),Er.none())}}function BH(t,e,n){t instanceof Ud?(function(i,o,l){const u=i.value.clone(),f=sP(i.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(t,e,n):t instanceof xs?(function(i,o,l){if(!bm(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=sP(i.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(uL(i)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function od(t,e,n,r){return t instanceof Ud?(function(o,l,u,f){if(!bm(o.precondition,l))return u;const d=o.value.clone(),h=lP(o.fieldTransforms,f,l);return d.setAll(h),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof xs?(function(o,l,u,f){if(!bm(o.precondition,l))return u;const d=lP(o.fieldTransforms,f,l),h=l.data;return h.setAll(uL(o)),h.setAll(d),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(o,l,u){return bm(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(t,e,n)}function jH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=iL(r.transform,i||null);o!=null&&(n===null&&(n=vr.empty()),n.set(r.field,o))}return n||null}function aP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ec(r,i,((o,l)=>qH(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ud extends oy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xs extends oy{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function uL(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function sP(t,e,n){const r=new Map;ht(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,VH(l,u,n[i]))}return r}function lP(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,UH(o,l,e))}return r}class ay extends oy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FH extends oy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&BH(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=od(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=od(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nL();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(i.key)?null:u;const f=lL(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(je.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),nt())}isEqual(e){return this.batchId===e.batchId&&ec(this.mutations,e.mutations,((n,r)=>aP(n,r)))&&ec(this.baseMutations,e.baseMutations,((n,r)=>aP(n,r)))}}class SS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ht(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return MH})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new SS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln,ot;function KH(t){switch(t){case me.OK:return ze(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return ze(15467,{code:t})}}function cL(t){if(t===void 0)return Qo("GRPC error has no .code"),me.UNKNOWN;switch(t){case ln.OK:return me.OK;case ln.CANCELLED:return me.CANCELLED;case ln.UNKNOWN:return me.UNKNOWN;case ln.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case ln.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case ln.INTERNAL:return me.INTERNAL;case ln.UNAVAILABLE:return me.UNAVAILABLE;case ln.UNAUTHENTICATED:return me.UNAUTHENTICATED;case ln.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case ln.NOT_FOUND:return me.NOT_FOUND;case ln.ALREADY_EXISTS:return me.ALREADY_EXISTS;case ln.PERMISSION_DENIED:return me.PERMISSION_DENIED;case ln.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case ln.ABORTED:return me.ABORTED;case ln.OUT_OF_RANGE:return me.OUT_OF_RANGE;case ln.UNIMPLEMENTED:return me.UNIMPLEMENTED;case ln.DATA_LOSS:return me.DATA_LOSS;default:return ze(39323,{code:t})}}(ot=ln||(ln={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH=new us([4294967295,4294967295],0);function uP(t){const e=YH().encode(t),n=new wk;return n.update(e),new Uint8Array(n.digest())}function cP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new us([n,r],0),new us([i,o],0)]}class xS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wf(`Invalid padding: ${n}`);if(r<0)throw new Wf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=us.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(us.fromNumber(r)));return i.compare(WH)===1&&(i=new us([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=uP(e),[r,i]=cP(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new xS(o,i,n);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const n=uP(e),[r,i]=cP(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sy(je.min(),i,new zt(tt),Zo(),nt())}}class Vd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vd(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class fL{constructor(e,n){this.targetId=e,this.Ce=n}}class dL{constructor(e,n,r=Fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class fP{constructor(){this.ve=0,this.Fe=dP(),this.Me=Fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nt(),n=nt(),r=nt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ze(38017,{changeType:o})}})),new Vd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=dP()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JH{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zo(),this.Je=Gp(),this.He=Gp(),this.Ye=new zt(tt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ze(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(NE(o))if(r===0){const l=new Ue(o.path);this.et(n,l,Yn.newNoDocument(l,je.min()))}else ht(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(n);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,u;try{l=ms(r).toUint8Array()}catch(f){if(f instanceof Vk)return Zu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new xS(l,i,o)}catch(f){return Zu(f instanceof Wf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&NE(u.target)){const f=new Ue(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Yn.newNoDocument(f,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=nt();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const i=new sy(e,n,this.Ye,this.je,r);return this.je=Zo(),this.Je=Gp(),this.He=Gp(),this.Ye=new zt(tt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new fP,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new gn(tt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new gn(tt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fP),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gp(){return new zt(Ue.comparator)}function dP(){return new zt(Ue.comparator)}const XH={asc:"ASCENDING",desc:"DESCENDING"},QH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZH={and:"AND",or:"OR"};class eG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ME(t,e){return t.useProto3Json||Qg(e)?e:{value:e}}function Km(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tG(t,e){return Km(t,e.toTimestamp())}function uo(t){return ht(!!t,49232),je.fromTimestamp((function(n){const r=ps(n);return new Mt(r.seconds,r.nanos)})(t))}function AS(t,e){return DE(t,e).canonicalString()}function DE(t,e){const n=(function(i){return new Rt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function pL(t){const e=Rt.fromString(t);return ht(_L(e),10190,{key:e.toString()}),e}function OE(t,e){return AS(t.databaseId,e.path)}function x_(t,e){const n=pL(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ue(gL(n))}function mL(t,e){return AS(t.databaseId,e)}function nG(t){const e=pL(t);return e.length===4?Rt.emptyPath():gL(e)}function kE(t){return new Rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gL(t){return ht(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hP(t,e,n){return{name:OE(t,e),fields:n.value.mapValue.fields}}function rG(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ze(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,h){return d.useProto3Json?(ht(h===void 0||typeof h=="string",58123),Fn.fromBase64String(h||"")):(ht(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Fn.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(d){const h=d.code===void 0?me.UNKNOWN:cL(d.code);return new Ne(h,d.message||"")})(l);n=new dL(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=x_(t,r.document.name),o=uo(r.document.updateTime),l=r.document.createTime?uo(r.document.createTime):je.min(),u=new vr({mapValue:{fields:r.document.fields}}),f=Yn.newFoundDocument(i,o,l,u),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Em(d,h,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=x_(t,r.document),o=r.readTime?uo(r.readTime):je.min(),l=Yn.newNoDocument(i,o),u=r.removedTargetIds||[];n=new Em([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=x_(t,r.document),o=r.removedTargetIds||[];n=new Em([],o,i,null)}else{if(!("filter"in e))return ze(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new $H(i,o),u=r.targetId;n=new fL(u,l)}}return n}function iG(t,e){let n;if(e instanceof Ud)n={update:hP(t,e.key,e.value)};else if(e instanceof ay)n={delete:OE(t,e.key)};else if(e instanceof xs)n={update:hP(t,e.key,e.data),updateMask:hG(e.fieldMask)};else{if(!(e instanceof FH))return ze(16599,{Vt:e.type});n={verify:OE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const u=l.transform;if(u instanceof Gm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof pd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof md)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof $m)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw ze(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:tG(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ze(27497)})(t,e.precondition)),n}function oG(t,e){return t&&t.length>0?(ht(e!==void 0,14353),t.map((n=>(function(i,o){let l=i.updateTime?uo(i.updateTime):uo(o);return l.isEqual(je.min())&&(l=uo(o)),new zH(l,i.transformResults||[])})(n,e)))):[]}function aG(t,e){return{documents:[mL(t,e.path)]}}function sG(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mL(t,i);const o=(function(d){if(d.length!==0)return vL(go.create(d,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(d){if(d.length!==0)return d.map((h=>(function(v){return{field:ku(v.field),direction:cG(v.dir)}})(h)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=ME(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function lG(t){let e=nG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ht(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(m){const v=yL(m);return v instanceof go&&Yk(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(m){return m.map((v=>(function(A){return new Hm(Lu(A.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(v)))})(n.orderBy));let u=null;n.limit&&(u=(function(m){let v;return v=typeof m=="object"?m.value:m,Qg(v)?null:v})(n.limit));let f=null;n.startAt&&(f=(function(m){const v=!!m.before,E=m.values||[];return new Fm(E,v)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const v=!m.before,E=m.values||[];return new Fm(E,v)})(n.endAt)),wH(e,i,l,o,u,"F",f,d)}function uG(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yL(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lu(n.unaryFilter.field);return mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Lu(n.unaryFilter.field);return mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Lu(n.unaryFilter.field);return mn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Lu(n.unaryFilter.field);return mn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}})(t):t.fieldFilter!==void 0?(function(n){return mn.create(Lu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return go.create(n.compositeFilter.filters.map((r=>yL(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ze(1026)}})(n.compositeFilter.op))})(t):ze(30097,{filter:t})}function cG(t){return XH[t]}function fG(t){return QH[t]}function dG(t){return ZH[t]}function ku(t){return{fieldPath:t.canonicalString()}}function Lu(t){return Bn.fromServerFormat(t.fieldPath)}function vL(t){return t instanceof mn?(function(n){if(n.op==="=="){if(eP(n.value))return{unaryFilter:{field:ku(n.field),op:"IS_NAN"}};if(ZI(n.value))return{unaryFilter:{field:ku(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eP(n.value))return{unaryFilter:{field:ku(n.field),op:"IS_NOT_NAN"}};if(ZI(n.value))return{unaryFilter:{field:ku(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ku(n.field),op:fG(n.op),value:n.value}}})(t):t instanceof go?(function(n){const r=n.getFilters().map((i=>vL(i)));return r.length===1?r[0]:{compositeFilter:{op:dG(n.op),filters:r}}})(t):ze(54877,{filter:t})}function hG(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function _L(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r,i,o=je.min(),l=je.min(),u=Fn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e){this.yt=e}}function mG(t){const e=lG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?RE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(){this.Cn=new yG}addToCollectionParentIndex(e,n){return this.Cn.add(n),pe.resolve()}getCollectionParents(e,n){return pe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return pe.resolve()}deleteFieldIndex(e,n){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,n){return pe.resolve()}getDocumentsMatchingTarget(e,n){return pe.resolve(null)}getIndexType(e,n){return pe.resolve(0)}getFieldIndexes(e,n){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,n){return pe.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return pe.resolve(hs.min())}updateCollectionGroup(e,n,r){return pe.resolve()}updateIndexEntries(e,n){return pe.resolve()}}class yG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gn(Rt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gn(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bL=41943040;class yr{static withCacheSize(e){return new yr(e,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(bL,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new rc(0)}static cr(){return new rc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="LruGarbageCollector",vG=1048576;function gP([t,e],[n,r]){const i=tt(t,n);return i===0?tt(e,r):i}class _G{constructor(e){this.Ir=e,this.buffer=new gn(gP),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();gP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bG{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ce(mP,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bc(n)?Ce(mP,"Ignoring IndexedDB error during garbage collection: ",n):await _c(n)}await this.Vr(3e5)}))}}class EG{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return pe.resolve(Xg.ce);const r=new _G(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(pP)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pP):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,l,u,f,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,l=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,u=Date.now(),this.removeTargets(e,r,n)))).next((m=>(o=m,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),Du()<=et.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-h}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${m} documents in `+(d-f)+`ms
Total Duration: ${d-h}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m}))))}}function TG(t,e){return new EG(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(){this.changes=new kl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?pe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&od(r.mutation,i,Or.empty(),Mt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,nt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=nt()){const i=dl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let l=Yf();return o.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=dl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,nt())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,u)=>{n.set(l,u)}))}))}computeViews(e,n,r,i){let o=Zo();const l=id(),u=(function(){return id()})();return n.forEach(((f,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof xs)?o=o.insert(d.key,d):h!==void 0?(l.set(d.key,h.mutation.getFieldMask()),od(h.mutation,d,h.mutation.getFieldMask(),Mt.now())):l.set(d.key,Or.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,h)=>l.set(d,h))),n.forEach(((d,h)=>u.set(d,new xG(h,l.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=id();let i=new zt(((l,u)=>l-u)),o=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const u of l)u.keys().forEach((f=>{const d=n.get(f);if(d===null)return;let h=r.get(f)||Or.empty();h=u.applyToLocalView(d,h),r.set(f,h);const m=(i.get(u.batchId)||nt()).add(f);i=i.insert(u.batchId,m)}))})).next((()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,h=f.value,m=nL();h.forEach((v=>{if(!o.has(v)){const E=lL(n.get(v),r.get(v));E!==null&&m.set(v,E),o=o.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,d,m))}return pe.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Ue.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CH(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):pe.resolve(dl());let u=cd,f=o;return l.next((d=>pe.forEach(d,((h,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),o.get(h)?pe.resolve():this.remoteDocumentCache.getEntry(e,h).next((v=>{f=f.insert(h,v)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,nt()))).next((h=>({batchId:u,changes:tL(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next((r=>{let i=Yf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=Yf();return this.indexManager.getCollectionParents(e,o).next((u=>pe.forEach(u,(f=>{const d=(function(m,v){return new ey(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((h=>{h.forEach(((m,v)=>{l=l.insert(m,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((l=>{o.forEach(((f,d)=>{const h=d.getKey();l.get(h)===null&&(l=l.insert(h,Yn.newInvalidDocument(h)))}));let u=Yf();return l.forEach(((f,d)=>{const h=o.get(f);h!==void 0&&od(h.mutation,d,Or.empty(),Mt.now()),ry(n,d)&&(u=u.insert(f,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return pe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:uo(i.createTime)}})(n)),pe.resolve()}getNamedQuery(e,n){return pe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:mG(i.bundledQuery),readTime:uo(i.readTime)}})(n)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(){this.overlays=new zt(Ue.comparator),this.qr=new Map}getOverlay(e,n){return pe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=dl();return pe.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),pe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),pe.resolve()}getOverlaysForCollection(e,n,r){const i=dl(),o=n.length+1,l=new Ue(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new zt(((d,h)=>d-h));const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=o.get(d.largestBatchId);h===null&&(h=dl(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const u=dl(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,h)=>u.set(d,h))),!(u.size()>=i)););return pe.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new GH(n,r));let o=this.qr.get(n);o===void 0&&(o=nt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(){this.sessionToken=Fn.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.Qr=new gn(In.$r),this.Ur=new gn(In.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new In(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new In(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ue(new Rt([])),r=new In(n,e),i=new In(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ue(new Rt([])),r=new In(n,e),i=new In(n,e+1);let o=nt();return this.Ur.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new In(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class In{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ue.comparator(e.key,n.key)||tt(e.Yr,n.Yr)}static Kr(e,n){return tt(e.Yr,n.Yr)||Ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new gn(In.$r)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new HH(o,n,r,i);this.mutationQueue.push(l);for(const u of i)this.Zr=this.Zr.add(new In(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return pe.resolve(l)}lookupMutationBatch(e,n){return pe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?yS:this.tr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new In(n,0),i=new In(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(l=>{const u=this.Xr(l.Yr);o.push(u)})),pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gn(tt);return n.forEach((i=>{const o=new In(i,0),l=new In(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{r=r.add(u.Yr)}))})),pe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Ue.isDocumentKey(o)||(o=o.child(""));const l=new In(new Ue(o),0);let u=new gn(tt);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(f.Yr)),!0)}),l),pe.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return pe.forEach(n.mutations,(i=>{const o=new In(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new In(n,0),i=this.Zr.firstAfterOrEqual(r);return pe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e){this.ri=e,this.docs=(function(){return new zt(Ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return pe.resolve(r?r.document.mutableCopy():Yn.newInvalidDocument(n))}getEntries(e,n){let r=Zo();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Yn.newInvalidDocument(i))})),pe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Zo();const l=n.path,u=new Ue(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:h}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||iH(rH(h),r)<=0||(i.has(h.key)||ry(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return pe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ze(9500)}ii(e,n){return pe.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new RG(this)}getSize(e){return pe.resolve(this.size)}}class RG extends SG{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),pe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e){this.persistence=e,this.si=new kl((n=>bS(n)),ES),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new wS,this.targetCount=0,this.ai=rc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),pe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new rc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,pe.resolve()}updateTargetData(e,n){return this.Pr(n),pe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),pe.waitFor(o).next((()=>i))}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return pe.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),pe.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),pe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),pe.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return pe.resolve(r)}containsKey(e,n){return pe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n){this.ui={},this.overlays={},this.ci=new Xg(0),this.li=!1,this.li=!0,this.hi=new IG,this.referenceDelegate=e(this),this.Pi=new MG(this),this.indexManager=new gG,this.remoteDocumentCache=(function(i){return new NG(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new pG(n),this.Ii=new wG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new PG(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const i=new DG(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return pe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class DG extends aH{constructor(e){super(),this.currentSequenceNumber=e}}class CS{constructor(e){this.persistence=e,this.Ri=new wS,this.Vi=null}static mi(e){return new CS(e)}get fi(){if(this.Vi)return this.Vi;throw ze(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),pe.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),pe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.fi,(r=>{const i=Ue.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,je.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return pe.or([()=>pe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ym{constructor(e,n){this.persistence=e,this.pi=new kl((r=>uH(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=TG(this,n)}static mi(e,n){return new Ym(e,n)}Ei(){}di(e){return pe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return pe.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?pe.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((u=>{u||(r++,o.removeEntry(l,je.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),pe.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),pe.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),pe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vm(e.data.value)),n}br(e,n,r){return pe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return pe.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=nt(),i=nt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new IS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kG{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return xj()?8:sH(Xn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new OG;return this.Ss(e,n,l).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,l,u.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Du()<=et.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Ou(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),pe.resolve()):(Du()<=et.DEBUG&&Ce("QueryEngine","Query:",Ou(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Du()<=et.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Ou(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lo(n))):pe.resolve())}ys(e,n){if(iP(n))return pe.resolve(null);let r=lo(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=RE(n,null,"F"),r=lo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=nt(...o);return this.ps.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.Ds(n,u);return this.Cs(n,d,l,f.readTime)?this.ys(e,RE(n,null,"F")):this.vs(e,d,n,f)}))))})))))}ws(e,n,r,i){return iP(n)||i.isEqual(je.min())?pe.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,i)?pe.resolve(null):(Du()<=et.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ou(n)),this.vs(e,l,n,nH(i,cd)).next((u=>u)))}))}Ds(e,n){let r=new gn(Zk(e));return n.forEach(((i,o)=>{ry(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Du()<=et.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Ou(n)),this.ps.getDocumentsMatchingQuery(e,n,hs.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="LocalStore",LG=3e8;class UG{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new zt(tt),this.xs=new kl((o=>bS(o)),ES),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AG(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function VG(t,e,n,r){return new UG(t,e,n,r)}async function TL(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],u=[];let f=nt();for(const d of i){l.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}for(const d of o){u.push(d.batchId);for(const h of d.mutations)f=f.add(h.key)}return n.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:l,addedBatchIds:u})))}))}))}function qG(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,f,d,h){const m=d.batch,v=m.keys();let E=pe.resolve();return v.forEach((A=>{E=E.next((()=>h.getEntry(f,A))).next((x=>{const C=d.docVersions.get(A);ht(C!==null,48541),x.version.compareTo(C)<0&&(m.applyToRemoteDocument(x,d),x.isValidDocument()&&(x.setReadTime(d.commitVersion),h.addEntry(x)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(f,m)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=nt();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function SL(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function zG(t,e){const n=He(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((h,m)=>{const v=i.get(m);if(!v)return;u.push(n.Pi.removeMatchingKeys(o,h.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(o,h.addedDocuments,m))));let E=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?E=E.withResumeToken(Fn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,r)),i=i.insert(m,E),(function(x,C,R){return x.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=LG?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0})(v,E,h)&&u.push(n.Pi.updateTargetData(o,E))}));let f=Zo(),d=nt();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),u.push(BG(o,l,e.documentUpdates).next((h=>{f=h.ks,d=h.qs}))),!r.isEqual(je.min())){const h=n.Pi.getLastRemoteSnapshotVersion(o).next((m=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(h)}return pe.waitFor(u).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(n.Ms=i,o)))}function BG(t,e,n){let r=nt(),i=nt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=Zo();return n.forEach(((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(je.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):Ce(PS,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function jG(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=yS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function FG(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,pe.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new is(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function LE(t,e,n){const r=He(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!bc(l))throw l;Ce(PS,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function yP(t,e,n){const r=He(t);let i=je.min(),o=nt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,d,h){const m=He(f),v=m.xs.get(h);return v!==void 0?pe.resolve(m.Ms.get(v)):m.Pi.getTargetData(d,h)})(r,l,lo(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,u.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:je.min(),n?o:nt()))).next((u=>(HG(r,PH(e),u),{documents:u,Qs:o})))))}function HG(t,e,n){let r=t.Os.get(e)||je.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class vP{constructor(){this.activeTargetIds=kH()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GG{constructor(){this.Mo=new vP,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="ConnectivityMonitor";class bP{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ce(_P,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ce(_P,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $p=null;function UE(){return $p===null?$p=(function(){return 268435456+Math.round(2147483648*Math.random())})():$p++,"0x"+$p.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="RestConnection",KG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YG{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Bm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const l=UE(),u=this.zo(e,n.toUriEncodedString());Ce(A_,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,o);const{host:d}=new URL(u),h=mc(d);return this.Jo(e,u,f,r,h).then((m=>(Ce(A_,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw Zu(A_,`RPC '${e}' ${l} failed with error: `,m,"url: ",u,"request:",r),m}))}Ho(e,n,r,i,o,l){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=KG[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="WebChannelConnection";class JG extends YG{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const l=UE();return new Promise(((u,f)=>{const d=new Ck;d.setWithCredentials(!0),d.listenOnce(Ik.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case ym.NO_ERROR:const m=d.getResponseJson();Ce(Gn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),u(m);break;case ym.TIMEOUT:Ce(Gn,`RPC '${e}' ${l} timed out`),f(new Ne(me.DEADLINE_EXCEEDED,"Request time out"));break;case ym.HTTP_ERROR:const v=d.getStatus();if(Ce(Gn,`RPC '${e}' ${l} failed with status:`,v,"response text:",d.getResponseText()),v>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const x=(function(R){const z=R.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(z)>=0?z:me.UNKNOWN})(A.status);f(new Ne(x,A.message))}else f(new Ne(me.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Ne(me.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ce(Gn,`RPC '${e}' ${l} completed.`)}}));const h=JSON.stringify(i);Ce(Gn,`RPC '${e}' ${l} sending request:`,i),d.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=UE(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Rk(),u=Nk(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const h=o.join("");Ce(Gn,`Creating RPC '${e}' stream ${i}: ${h}`,f);const m=l.createWebChannel(h,f);this.I_(m);let v=!1,E=!1;const A=new WG({Yo:C=>{E?Ce(Gn,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(v||(Ce(Gn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),Ce(Gn,`RPC '${e}' stream ${i} sending:`,C),m.send(C))},Zo:()=>m.close()}),x=(C,R,z)=>{C.listen(R,(D=>{try{z(D)}catch(q){setTimeout((()=>{throw q}),0)}}))};return x(m,Kf.EventType.OPEN,(()=>{E||(Ce(Gn,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),x(m,Kf.EventType.CLOSE,(()=>{E||(E=!0,Ce(Gn,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(m))})),x(m,Kf.EventType.ERROR,(C=>{E||(E=!0,Zu(Gn,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),A.a_(new Ne(me.UNAVAILABLE,"The operation could not be completed")))})),x(m,Kf.EventType.MESSAGE,(C=>{var R;if(!E){const z=C.data[0];ht(!!z,16349);const D=z,q=(D==null?void 0:D.error)||((R=D[0])==null?void 0:R.error);if(q){Ce(Gn,`RPC '${e}' stream ${i} received error:`,q);const F=q.status;let G=(function(M){const V=ln[M];if(V!==void 0)return cL(V)})(F),O=q.message;G===void 0&&(G=me.INTERNAL,O="Unknown error status: "+F+" with message "+q.message),E=!0,A.a_(new Ne(G,O)),m.close()}else Ce(Gn,`RPC '${e}' stream ${i} received:`,z),A.u_(z)}})),x(u,Pk.STAT_EVENT,(C=>{C.stat===AE.PROXY?Ce(Gn,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===AE.NOPROXY&&Ce(Gn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function w_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t){return new eG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="PersistentStream";class AL{constructor(e,n,r,i,o,l,u,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xL(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(Qo(n.toString()),Qo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ne(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ce(EP,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ce(EP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XG extends AL{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=rG(this.serializer,e),r=(function(o){if(!("targetChange"in o))return je.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?je.min():l.readTime?uo(l.readTime):je.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=kE(this.serializer),n.addTarget=(function(o,l){let u;const f=l.target;if(u=NE(f)?{documents:aG(o,f)}:{query:sG(o,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=hL(o,l.resumeToken);const d=ME(o,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(je.min())>0){u.readTime=Km(o,l.snapshotVersion.toTimestamp());const d=ME(o,l.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=uG(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=kE(this.serializer),n.removeTarget=e,this.q_(n)}}class QG extends AL{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ht(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ht(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=oG(e.writeResults,e.commitTime),r=uo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=kE(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>iG(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{}class e7 extends ZG{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ne(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,DE(n,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(me.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(e,DE(n,r),i,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ne(me.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class t7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qo(n),this.aa=!1):Ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="RemoteStore";class n7{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Ll(this)&&(Ce(Il,"Restarting streams for network reachability change."),await(async function(f){const d=He(f);d.Ea.add(4),await qd(d),d.Ra.set("Unknown"),d.Ea.delete(4),await uy(d)})(this))}))})),this.Ra=new t7(r,i)}}async function uy(t){if(Ll(t))for(const e of t.da)await e(!0)}async function qd(t){for(const e of t.da)await e(!1)}function wL(t,e){const n=He(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),DS(n)?MS(n):Ec(n).O_()&&RS(n,e))}function NS(t,e){const n=He(t),r=Ec(n);n.Ia.delete(e),r.O_()&&CL(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ll(n)&&n.Ra.set("Unknown"))}function RS(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ec(t).Y_(e)}function CL(t,e){t.Va.Ue(e),Ec(t).Z_(e)}function MS(t){t.Va=new JH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ec(t).start(),t.Ra.ua()}function DS(t){return Ll(t)&&!Ec(t).x_()&&t.Ia.size>0}function Ll(t){return He(t).Ea.size===0}function IL(t){t.Va=void 0}async function r7(t){t.Ra.set("Online")}async function i7(t){t.Ia.forEach(((e,n)=>{RS(t,e)}))}async function o7(t,e){IL(t),DS(t)?(t.Ra.ha(e),MS(t)):t.Ra.set("Unknown")}async function a7(t,e,n){if(t.Ra.set("Online"),e instanceof dL&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){Ce(Il,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wm(t,r)}else if(e instanceof Em?t.Va.Ze(e):e instanceof fL?t.Va.st(e):t.Va.tt(e),!n.isEqual(je.min()))try{const r=await SL(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const h=o.Ia.get(d);h&&o.Ia.set(d,h.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,d)=>{const h=o.Ia.get(f);if(!h)return;o.Ia.set(f,h.withResumeToken(Fn.EMPTY_BYTE_STRING,h.snapshotVersion)),CL(o,f);const m=new is(h.target,f,d,h.sequenceNumber);RS(o,m)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){Ce(Il,"Failed to raise snapshot:",r),await Wm(t,r)}}async function Wm(t,e,n){if(!bc(e))throw e;t.Ea.add(1),await qd(t),t.Ra.set("Offline"),n||(n=()=>SL(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ce(Il,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await uy(t)}))}function PL(t,e){return e().catch((n=>Wm(t,n,e)))}async function cy(t){const e=He(t),n=ys(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yS;for(;s7(e);)try{const i=await jG(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,l7(e,i)}catch(i){await Wm(e,i)}NL(e)&&RL(e)}function s7(t){return Ll(t)&&t.Ta.length<10}function l7(t,e){t.Ta.push(e);const n=ys(t);n.O_()&&n.X_&&n.ea(e.mutations)}function NL(t){return Ll(t)&&!ys(t).x_()&&t.Ta.length>0}function RL(t){ys(t).start()}async function u7(t){ys(t).ra()}async function c7(t){const e=ys(t);for(const n of t.Ta)e.ea(n.mutations)}async function f7(t,e,n){const r=t.Ta.shift(),i=SS.from(r,e,n);await PL(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await cy(t)}async function d7(t,e){e&&ys(t).X_&&await(async function(r,i){if((function(l){return KH(l)&&l!==me.ABORTED})(i.code)){const o=r.Ta.shift();ys(r).B_(),await PL(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await cy(r)}})(t,e),NL(t)&&RL(t)}async function TP(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Ce(Il,"RemoteStore received new credentials");const r=Ll(n);n.Ea.add(3),await qd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await uy(n)}async function h7(t,e){const n=He(t);e?(n.Ea.delete(2),await uy(n)):e||(n.Ea.add(2),await qd(n),n.Ra.set("Unknown"))}function Ec(t){return t.ma||(t.ma=(function(n,r,i){const o=He(n);return o.sa(),new XG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:r7.bind(null,t),t_:i7.bind(null,t),r_:o7.bind(null,t),H_:a7.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),DS(t)?MS(t):t.Ra.set("Unknown")):(await t.ma.stop(),IL(t))}))),t.ma}function ys(t){return t.fa||(t.fa=(function(n,r,i){const o=He(n);return o.sa(),new QG(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:u7.bind(null,t),r_:d7.bind(null,t),ta:c7.bind(null,t),na:f7.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await cy(t)):(await t.fa.stop(),t.Ta.length>0&&(Ce(Il,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,u=new OS(e,n,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kS(t,e){if(Qo("AsyncQueue",`${e}: ${t}`),bc(t))return new Ne(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{static emptySet(e){return new Hu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ue.comparator(n.key,r.key):(n,r)=>Ue.comparator(n.key,r.key),this.keyedMap=Yf(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.ga=new zt(Ue.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ze(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ic{constructor(e,n,r,i,o,l,u,f,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach((u=>{l.push({type:0,doc:u})})),new ic(e,n,Hu.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ny(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class m7{constructor(){this.queries=xP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=He(n),o=i.queries;i.queries=xP(),o.forEach(((l,u)=>{for(const f of u.Sa)f.onError(r)}))})(this,new Ne(me.ABORTED,"Firestore shutting down"))}}function xP(){return new kl((t=>Qk(t)),ny)}async function ML(t,e){const n=He(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new p7,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const u=kS(l,`Initialization of query '${Ou(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&LS(n)}async function DL(t,e){const n=He(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function g7(t,e){const n=He(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const u of l.Sa)u.Fa(i)&&(r=!0);l.wa=i}}r&&LS(n)}function y7(t,e,n){const r=He(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function LS(t){t.Ca.forEach((e=>{e.next()}))}var VE,AP;(AP=VE||(VE={})).Ma="default",AP.Cache="cache";class OL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ic(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==VE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.key=e}}class LL{constructor(e){this.key=e}}class v7{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=nt(),this.mutatedKeys=nt(),this.eu=Zk(e),this.tu=new Hu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new SP,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,m)=>{const v=i.get(h),E=ry(this.query,m)?m:null,A=!!v&&this.mutatedKeys.has(v.key),x=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;v&&E?v.data.isEqual(E.data)?A!==x&&(r.track({type:3,doc:E}),C=!0):this.su(v,E)||(r.track({type:2,doc:E}),C=!0,(f&&this.eu(E,f)>0||d&&this.eu(E,d)<0)&&(u=!0)):!v&&E?(r.track({type:0,doc:E}),C=!0):v&&!E&&(r.track({type:1,doc:v}),C=!0,(f||d)&&(u=!0)),C&&(E?(l=l.add(E),o=x?o.add(h):o.delete(h)):(l=l.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const h=this.query.limitType==="F"?l.last():l.first();l=l.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:l,iu:r,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((h,m)=>(function(E,A){const x=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Rt:C})}};return x(E)-x(A)})(h.type,m.type)||this.eu(h.doc,m.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,d=f!==this.Za;return this.Za=f,l.length!==0||d?{snapshot:new ic(this.query,e.tu,o,l,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new SP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new LL(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new kL(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=nt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ic.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const US="SyncEngine";class _7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class b7{constructor(e){this.key=e,this.hu=!1}}class E7{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new kl((u=>Qk(u)),ny),this.Iu=new Map,this.Eu=new Set,this.du=new zt(Ue.comparator),this.Au=new Map,this.Ru=new wS,this.Vu={},this.mu=new Map,this.fu=rc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function T7(t,e,n=!0){const r=jL(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await UL(r,e,n,!0),i}async function S7(t,e){const n=jL(t);await UL(n,e,!0,!1)}async function UL(t,e,n,r){const i=await FG(t.localStore,lo(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await x7(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&wL(t.remoteStore,i),u}async function x7(t,e,n,r,i){t.pu=(m,v,E)=>(async function(x,C,R,z){let D=C.view.ru(R);D.Cs&&(D=await yP(x.localStore,C.query,!1).then((({documents:O})=>C.view.ru(O,D))));const q=z&&z.targetChanges.get(C.targetId),F=z&&z.targetMismatches.get(C.targetId)!=null,G=C.view.applyChanges(D,x.isPrimaryClient,q,F);return CP(x,C.targetId,G.au),G.snapshot})(t,m,v,E);const o=await yP(t.localStore,e,!0),l=new v7(e,o.Qs),u=l.ru(o.documents),f=Vd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=l.applyChanges(u,t.isPrimaryClient,f);CP(t,n,d.au);const h=new _7(e,n,l);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function A7(t,e,n){const r=He(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((l=>!ny(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await LE(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&NS(r.remoteStore,i.targetId),qE(r,i.targetId)})).catch(_c)):(qE(r,i.targetId),await LE(r.localStore,i.targetId,!0))}async function w7(t,e){const n=He(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),NS(n.remoteStore,r.targetId))}async function C7(t,e,n){const r=O7(t);try{const i=await(function(l,u){const f=He(l),d=Mt.now(),h=u.reduce(((E,A)=>E.add(A.key)),nt());let m,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let A=Zo(),x=nt();return f.Ns.getEntries(E,h).next((C=>{A=C,A.forEach(((R,z)=>{z.isValidDocument()||(x=x.add(R))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,A))).next((C=>{m=C;const R=[];for(const z of u){const D=jH(z,m.get(z.key).overlayedDocument);D!=null&&R.push(new xs(z.key,D,Gk(D.value.mapValue),Er.exists(!0)))}return f.mutationQueue.addMutationBatch(E,d,R,u)})).next((C=>{v=C;const R=C.applyToLocalDocumentSet(m,x);return f.documentOverlayCache.saveOverlays(E,C.batchId,R)}))})).then((()=>({batchId:v.batchId,changes:tL(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,u,f){let d=l.Vu[l.currentUser.toKey()];d||(d=new zt(tt)),d=d.insert(u,f),l.Vu[l.currentUser.toKey()]=d})(r,i.batchId,n),await zd(r,i.changes),await cy(r.remoteStore)}catch(i){const o=kS(i,"Failed to persist write");n.reject(o)}}async function VL(t,e){const n=He(t);try{const r=await zG(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=n.Au.get(o);l&&(ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?ht(l.hu,14607):i.removedDocuments.size>0&&(ht(l.hu,42227),l.hu=!1))})),await zd(n,r,e)}catch(r){await _c(r)}}function wP(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,l)=>{const u=l.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(l,u){const f=He(l);f.onlineState=u;let d=!1;f.queries.forEach(((h,m)=>{for(const v of m.Sa)v.va(u)&&(d=!0)})),d&&LS(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function I7(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let l=new zt(Ue.comparator);l=l.insert(o,Yn.newNoDocument(o,je.min()));const u=nt().add(o),f=new sy(je.min(),new Map,new zt(tt),l,u);await VL(r,f),r.du=r.du.remove(o),r.Au.delete(e),VS(r)}else await LE(r.localStore,e,!1).then((()=>qE(r,e,n))).catch(_c)}async function P7(t,e){const n=He(t),r=e.batch.batchId;try{const i=await qG(n.localStore,e);zL(n,r,null),qL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zd(n,i)}catch(i){await _c(i)}}async function N7(t,e,n){const r=He(t);try{const i=await(function(l,u){const f=He(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return f.mutationQueue.lookupMutationBatch(d,u).next((m=>(ht(m!==null,37113),h=m.keys(),f.mutationQueue.removeMutationBatch(d,m)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,h,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>f.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);zL(r,e,n),qL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zd(r,i)}catch(i){await _c(i)}}function qL(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function zL(t,e,n){const r=He(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function qE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||BL(t,r)}))}function BL(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(NS(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),VS(t))}function CP(t,e,n){for(const r of n)r instanceof kL?(t.Ru.addReference(r.key,e),R7(t,r)):r instanceof LL?(Ce(US,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||BL(t,r.key)):ze(19791,{wu:r})}function R7(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ce(US,"New document in limbo: "+n),t.Eu.add(r),VS(t))}function VS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ue(Rt.fromString(e)),r=t.fu.next();t.Au.set(r,new b7(n)),t.du=t.du.insert(n,r),wL(t.remoteStore,new is(lo(ty(n.path)),r,"TargetPurposeLimboResolution",Xg.ce))}}async function zd(t,e,n){const r=He(t),i=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{l.push(r.pu(f,e,n).then((d=>{var h;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(d){i.push(d);const m=IS.As(f.targetId,d);o.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,d){const h=He(f);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>pe.forEach(d,(v=>pe.forEach(v.Es,(E=>h.persistence.referenceDelegate.addReference(m,v.targetId,E))).next((()=>pe.forEach(v.ds,(E=>h.persistence.referenceDelegate.removeReference(m,v.targetId,E)))))))))}catch(m){if(!bc(m))throw m;Ce(PS,"Failed to update sequence numbers: "+m)}for(const m of d){const v=m.targetId;if(!m.fromCache){const E=h.Ms.get(v),A=E.snapshotVersion,x=E.withLastLimboFreeSnapshotVersion(A);h.Ms=h.Ms.insert(v,x)}}})(r.localStore,o))}async function M7(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Ce(US,"User change. New user:",e.toKey());const r=await TL(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((u=>{u.forEach((f=>{f.reject(new Ne(me.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zd(n,r.Ls)}}function D7(t,e){const n=He(t),r=n.Au.get(e);if(r&&r.hu)return nt().add(r.key);{let i=nt();const o=n.Iu.get(e);if(!o)return i;for(const l of o){const u=n.Tu.get(l);i=i.unionWith(u.view.nu)}return i}}function jL(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I7.bind(null,e),e.Pu.H_=g7.bind(null,e.eventManager),e.Pu.yu=y7.bind(null,e.eventManager),e}function O7(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N7.bind(null,e),e}class Jm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ly(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return VG(this.persistence,new kG,e.initialUser,this.serializer)}Cu(e){return new EL(CS.mi,this.serializer)}Du(e){return new GG}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jm.provider={build:()=>new Jm};class k7 extends Jm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ht(this.persistence.referenceDelegate instanceof Ym,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bG(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yr.withCacheSize(this.cacheSizeBytes):yr.DEFAULT;return new EL((r=>Ym.mi(r,n)),this.serializer)}}class zE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=M7.bind(null,this.syncEngine),await h7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new m7})()}createDatastore(e){const n=ly(e.databaseInfo.databaseId),r=(function(o){return new JG(o)})(e.databaseInfo);return(function(o,l,u,f){return new e7(o,l,u,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,l,u){return new n7(r,i,o,l,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>wP(this.syncEngine,n,0)),(function(){return bP.v()?new bP:new $G})())}createSyncEngine(e,n){return(function(i,o,l,u,f,d,h){const m=new E7(i,o,l,u,f,d);return h&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=He(i);Ce(Il,"RemoteStore shutting down."),o.Ea.add(5),await qd(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}zE.provider={build:()=>new zE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="FirestoreClient";class L7{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Kn.UNAUTHENTICATED,this.clientId=mS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{Ce(vs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Ce(vs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function C_(t,e){t.asyncQueue.verifyOperationInProgress(),Ce(vs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await TL(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function IP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await U7(t);Ce(vs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>TP(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>TP(e.remoteStore,i))),t._onlineComponents=e}async function U7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce(vs,"Using user provided OfflineComponentProvider");try{await C_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Zu("Error using user provided cache. Falling back to memory cache: "+n),await C_(t,new Jm)}}else Ce(vs,"Using default OfflineComponentProvider"),await C_(t,new k7(void 0));return t._offlineComponents}async function HL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce(vs,"Using user provided OnlineComponentProvider"),await IP(t,t._uninitializedComponentsProvider._online)):(Ce(vs,"Using default OnlineComponentProvider"),await IP(t,new zE))),t._onlineComponents}function V7(t){return HL(t).then((e=>e.syncEngine))}async function BE(t){const e=await HL(t),n=e.eventManager;return n.onListen=T7.bind(null,e.syncEngine),n.onUnlisten=A7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=S7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=w7.bind(null,e.syncEngine),n}function q7(t,e,n={}){const r=new cs;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,f,d){const h=new FL({next:v=>{h.Nu(),l.enqueueAndForget((()=>DL(o,m)));const E=v.docs.has(u);!E&&v.fromCache?d.reject(new Ne(me.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&f&&f.source==="server"?d.reject(new Ne(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),m=new OL(ty(u.path),h,{includeMetadataChanges:!0,qa:!0});return ML(o,m)})(await BE(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="firestore.googleapis.com",NP=!0;class RP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$L,this.ssl=NP}else this.host=e.host,this.ssl=e.ssl??NP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vG)throw new Ne(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GL(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new G8;switch(r.type){case"firstParty":return new W8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=PP.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),PP.delete(n),r.terminate())})(this),Promise.resolve()}}function z7(t,e,n,r={}){var d;t=ni(t,fy);const i=mc(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(jO(`https://${u}`),FO("Firestore",!0)),o.host!==$L&&o.host!==u&&Zu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:i,emulatorOptions:r};if(!xl(f,l)&&(t._setSettings(f),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=Kn.MOCK_USER;else{h=mj(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ne(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Kn(v)}t._authCredentials=new $8(new Dk(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dy(this.firestore,e,this._query)}}class Jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}toJSON(){return{type:Jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ld(n,Jt._jsonSchema))return new Jt(e,r||null,new Ue(Rt.fromString(n.referencePath)))}}Jt._jsonSchemaVersion="firestore/documentReference/1.0",Jt._jsonSchema={type:cn("string",Jt._jsonSchemaVersion),referencePath:cn("string")};class fs extends dy{constructor(e,n,r){super(e,n,ty(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new Ue(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function hy(t,e,...n){if(t=vn(t),Ok("collection","path",e),t instanceof fy){const r=Rt.fromString(e,...n);return GI(r),new fs(t,null,r)}{if(!(t instanceof Jt||t instanceof fs))throw new Ne(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return GI(r),new fs(t.firestore,null,r)}}function kt(t,e,...n){if(t=vn(t),arguments.length===1&&(e=mS.newId()),Ok("doc","path",e),t instanceof fy){const r=Rt.fromString(e,...n);return HI(r),new Jt(t,null,new Ue(r))}{if(!(t instanceof Jt||t instanceof fs))throw new Ne(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Rt.fromString(e,...n));return HI(r),new Jt(t.firestore,t instanceof fs?t.converter:null,new Ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="AsyncQueue";class DP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xL(this,"async_queue_retry"),this._c=()=>{const r=w_();r&&Ce(MP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=w_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=w_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new cs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bc(e))throw e;Ce(MP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Qo("INTERNAL UNHANDLED ERROR: ",OP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=OS.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&ze(47125,{Pc:OP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function OP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}class _s extends fy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new DP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new DP(e),this._firestoreClient=void 0,await e}}}function B7(t,e){const n=typeof t=="object"?t:KO(),r=typeof t=="string"?t:Bm,i=rS(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=hj("firestore");o&&z7(i,...o)}return i}function py(t){if(t._terminated)throw new Ne(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||j7(t),t._firestoreClient}function j7(t){var r,i,o;const e=t._freezeSettings(),n=(function(u,f,d,h){return new dH(u,f,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,GL(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new L7(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(Fn.fromBase64String(e))}catch(n){throw new Ne(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ei(Fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ld(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:cn("string",ei._jsonSchemaVersion),bytes:cn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:co._jsonSchemaVersion}}static fromJSON(e){if(Ld(e,co._jsonSchema))return new co(e.latitude,e.longitude)}}co._jsonSchemaVersion="firestore/geoPoint/1.0",co._jsonSchema={type:cn("string",co._jsonSchemaVersion),latitude:cn("number"),longitude:cn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ld(e,fo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new fo(e.vectorValues);throw new Ne(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fo._jsonSchemaVersion="firestore/vectorValue/1.0",fo._jsonSchema={type:cn("string",fo._jsonSchemaVersion),vectorValues:cn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7=/^__.*__$/;class H7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ud(e,this.data,n,this.fieldTransforms)}}class KL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{Ac:t})}}class zS{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new zS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(YL(this.Ac)&&F7.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class G7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ly(e)}Cc(e,n,r,i=!1){return new zS({Ac:e,methodName:n,Dc:r,path:Bn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BS(t){const e=t._freezeSettings(),n=ly(t._databaseId);return new G7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WL(t,e,n,r,i,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);jS("Data must be an object, but it was:",l,r);const u=QL(r,l);let f,d;if(o.merge)f=new Or(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const h=[];for(const m of o.mergeFields){const v=jE(e,m,n);if(!l.contains(v))throw new Ne(me.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);eU(h,v)||h.push(v)}f=new Or(h),d=l.fieldTransforms.filter((m=>f.covers(m.field)))}else f=null,d=l.fieldTransforms;return new H7(new vr(u),f,d)}class my extends qS{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof my}}function JL(t,e,n,r){const i=t.Cc(1,e,n);jS("Data must be an object, but it was:",i,r);const o=[],l=vr.empty();Ss(r,((f,d)=>{const h=FS(e,f,n);d=vn(d);const m=i.yc(h);if(d instanceof my)o.push(h);else{const v=gy(d,m);v!=null&&(o.push(h),l.set(h,v))}}));const u=new Or(o);return new KL(l,u,i.fieldTransforms)}function XL(t,e,n,r,i,o){const l=t.Cc(1,e,n),u=[jE(e,r,n)],f=[i];if(o.length%2!=0)throw new Ne(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(jE(e,o[v])),f.push(o[v+1]);const d=[],h=vr.empty();for(let v=u.length-1;v>=0;--v)if(!eU(d,u[v])){const E=u[v];let A=f[v];A=vn(A);const x=l.yc(E);if(A instanceof my)d.push(E);else{const C=gy(A,x);C!=null&&(d.push(E),h.set(E,C))}}const m=new Or(d);return new KL(h,m,l.fieldTransforms)}function gy(t,e){if(ZL(t=vn(t)))return jS("Unsupported field value:",e,t),QL(t,e);if(t instanceof qS)return(function(r,i){if(!YL(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const u of r){let f=gy(u,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=vn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Mt.fromDate(r);return{timestampValue:Km(i.serializer,o)}}if(r instanceof Mt){const o=new Mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Km(i.serializer,o)}}if(r instanceof co)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ei)return{bytesValue:hL(i.serializer,r._byteString)};if(r instanceof Jt){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:AS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fo)return(function(l,u){return{mapValue:{fields:{[Fk]:{stringValue:Hk},[jm]:{arrayValue:{values:l.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return TS(u.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${gS(r)}`)})(t,e)}function QL(t,e){const n={};return Uk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(t,((r,i)=>{const o=gy(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function ZL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Mt||t instanceof co||t instanceof ei||t instanceof Jt||t instanceof qS||t instanceof fo)}function jS(t,e,n){if(!ZL(n)||!kk(n)){const r=gS(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function jE(t,e,n){if((e=vn(e))instanceof Bd)return e._internalPath;if(typeof e=="string")return FS(t,e);throw Xm("Field path arguments must be of type string or ",t,!1,void 0,n)}const $7=new RegExp("[~\\*/\\[\\]]");function FS(t,e,n){if(e.search($7)>=0)throw Xm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bd(...e.split("."))._internalPath}catch{throw Xm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xm(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Ne(me.INVALID_ARGUMENT,u+t+f)}function eU(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nU("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class K7 extends tU{data(){return super.data()}}function nU(t,e){return typeof e=="string"?FS(t,e):e instanceof Bd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class W7{convertValue(e,n="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ss(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[jm].arrayValue)==null?void 0:i.values)==null?void 0:o.map((l=>Wt(l.doubleValue)));return new fo(n)}convertGeoPoint(e){return new co(Wt(e.latitude),Wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fd(e));default:return null}}convertTimestamp(e){const n=ps(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Rt.fromString(e);ht(_L(r),9688,{name:e});const i=new dd(r.get(1),r.get(3)),o=new Ue(r.popFirst(5));return i.isEqual(n)||Qo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Jf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vl extends tU{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nU("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}vl._jsonSchemaVersion="firestore/documentSnapshot/1.0",vl._jsonSchema={type:cn("string",vl._jsonSchemaVersion),bundleSource:cn("string","DocumentSnapshot"),bundleName:cn("string"),bundle:cn("string")};class Tm extends vl{data(e={}){return super.data(e)}}class Gu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Tm(this._firestore,this._userDataWriter,r.key,r,new Jf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((u=>{const f=new Tm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Jf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const f=new Tm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Jf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return u.type!==0&&(d=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),h=l.indexOf(u.doc.key)),{type:J7(u.type),doc:f,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function J7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(t){t=ni(t,Jt);const e=ni(t.firestore,_s);return q7(py(e),t._key).then((n=>oU(e,t,n)))}Gu._jsonSchemaVersion="firestore/querySnapshot/1.0",Gu._jsonSchema={type:cn("string",Gu._jsonSchemaVersion),bundleSource:cn("string","QuerySnapshot"),bundleName:cn("string"),bundle:cn("string")};class iU extends W7{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function I_(t,e,n){t=ni(t,Jt);const r=ni(t.firestore,_s),i=rU(t.converter,e,n);return yy(r,[WL(BS(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Er.none())])}function P_(t,e,n,...r){t=ni(t,Jt);const i=ni(t.firestore,_s),o=BS(i);let l;return l=typeof(e=vn(e))=="string"||e instanceof Bd?XL(o,"updateDoc",t._key,e,n,r):JL(o,"updateDoc",t._key,e),yy(i,[l.toMutation(t._key,Er.exists(!0))])}function N_(t){return yy(ni(t.firestore,_s),[new ay(t._key,Er.none())])}function Kp(t,...e){var f,d,h;t=vn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||kP(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(kP(e[r])){const m=e[r];e[r]=(f=m.next)==null?void 0:f.bind(m),e[r+1]=(d=m.error)==null?void 0:d.bind(m),e[r+2]=(h=m.complete)==null?void 0:h.bind(m)}let o,l,u;if(t instanceof Jt)l=ni(t.firestore,_s),u=ty(t._key.path),o={next:m=>{e[r]&&e[r](oU(l,t,m))},error:e[r+1],complete:e[r+2]};else{const m=ni(t,dy);l=ni(m.firestore,_s),u=m._query;const v=new iU(l);o={next:E=>{e[r]&&e[r](new Gu(l,v,m,E))},error:e[r+1],complete:e[r+2]},Y7(t._query)}return(function(v,E,A,x){const C=new FL(x),R=new OL(E,C,A);return v.asyncQueue.enqueueAndForget((async()=>ML(await BE(v),R))),()=>{C.Nu(),v.asyncQueue.enqueueAndForget((async()=>DL(await BE(v),R)))}})(py(l),u,i,o)}function yy(t,e){return(function(r,i){const o=new cs;return r.asyncQueue.enqueueAndForget((async()=>C7(await V7(r),i,o))),o.promise})(py(t),e)}function oU(t,e,n){const r=n.docs.get(e._key),i=new iU(t);return new vl(t,i,e._key,r,new Jf(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=BS(e)}set(e,n,r){this._verifyNotCommitted();const i=R_(e,this._firestore),o=rU(i.converter,n,r),l=WL(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Er.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=R_(e,this._firestore);let l;return l=typeof(n=vn(n))=="string"||n instanceof Bd?XL(this._dataReader,"WriteBatch.update",o._key,n,r,i):JL(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(l.toMutation(o._key,Er.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=R_(e,this._firestore);return this._mutations=this._mutations.concat(new ay(n._key,Er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function R_(t,e){if((t=vn(t)).firestore!==e)throw new Ne(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t){return py(t=ni(t,_s)),new Q7(t,(e=>yy(t,e)))}(function(e,n=!0){(function(i){vc=i})(gc),Xu(new Al("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new _s(new K8(r.getProvider("auth-internal")),new J8(l,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ne(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dd(d.options.projectId,h)})(l,i),l);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),ls(zI,BI,e),ls(zI,BI,"esm2020")})();const Z7={projectId:"d-honoratopan",appId:"1:87529831906:web:a0f6bddd588a0ce4354dbb",storageBucket:"d-honoratopan.firebasestorage.app",apiKey:"AIzaSyAt2_B8fTiWRarFfzs_ih9YotNe2uFhOzw",authDomain:"d-honoratopan.firebaseapp.com",messagingSenderId:"87529831906",projectNumber:"87529831906"},aU=$O(Z7),HS=F8(aU),Ei=B7(aU),e$=new Bo,t$=async()=>{try{await Q9(HS,e$)}catch(t){console.error("Error signing in with Google",t),alert("Error al iniciar sesin. Asegrate de haber habilitado 'Google' como mtodo de acceso en la consola de Firebase del NUEVO proyecto.")}},n$=()=>M9(HS),Iu=hy(Ei,"sales"),Pu=hy(Ei,"products"),Xa=hy(Ei,"ingredients"),ol=hy(Ei,"clients");function sU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=sU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function St(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=sU(t))&&(r&&(r+=" "),r+=e);return r}var r$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function GS(t){if(typeof t!="string")return!1;var e=r$;return e.includes(t)}var i$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],o$=new Set(i$);function lU(t){return typeof t!="string"?!1:o$.has(t)}function uU(t){return typeof t=="string"&&t.startsWith("data-")}function Ni(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(lU(n)||uU(n))&&(e[n]=t[n]);return e}function jd(t){if(t==null)return null;if(P.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ni(e)}return typeof t=="object"&&!Array.isArray(t)?Ni(t):null}function or(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(lU(n)||uU(n)||GS(n))&&(e[n]=t[n]);return e}function a$(t){return t==null?null:P.isValidElement(t)?or(t.props):typeof t=="object"&&!Array.isArray(t)?or(t):null}var s$=["children","width","height","viewBox","className","style","title","desc"];function FE(){return FE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FE.apply(null,arguments)}function l$(t,e){if(t==null)return{};var n,r,i=u$(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function u$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cU=P.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:u,title:f,desc:d}=t,h=l$(t,s$),m=o||{width:r,height:i,x:0,y:0},v=St("recharts-surface",l);return P.createElement("svg",FE({},or(h),{className:v,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),P.createElement("title",null,f),P.createElement("desc",null,d),n)}),c$=["children","className"];function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(null,arguments)}function f$(t,e){if(t==null)return{};var n,r,i=d$(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function d$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ii=P.forwardRef((t,e)=>{var{children:n,className:r}=t,i=f$(t,c$),o=St("recharts-layer",r);return P.createElement("g",HE({className:o},or(i),{ref:e}),n)}),fU=PO(),h$=P.createContext(null);function wt(t){return function(){return t}}const dU=Math.cos,Qm=Math.sin,Oi=Math.sqrt,Zm=Math.PI,vy=2*Zm,GE=Math.PI,$E=2*GE,ll=1e-6,p$=$E-ll;function hU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function m$(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return hU;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class g${constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hU:m$(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,f=r-e,d=i-n,h=l-e,m=u-n,v=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>ll)if(!(Math.abs(m*f-d*h)>ll)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let E=r-l,A=i-u,x=f*f+d*d,C=E*E+A*A,R=Math.sqrt(x),z=Math.sqrt(v),D=o*Math.tan((GE-Math.acos((x+v-C)/(2*R*z)))/2),q=D/z,F=D/R;Math.abs(q-1)>ll&&this._append`L${e+q*h},${n+q*m}`,this._append`A${o},${o},0,0,${+(m*E>h*A)},${this._x1=e+F*f},${this._y1=n+F*d}`}}arc(e,n,r,i,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),d=e+u,h=n+f,m=1^l,v=l?i-o:o-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>ll||Math.abs(this._y1-h)>ll)&&this._append`L${d},${h}`,r&&(v<0&&(v=v%$E+$E),v>p$?this._append`A${r},${r},0,1,${m},${e-u},${n-f}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:v>ll&&this._append`A${r},${r},0,${+(v>=GE)},${m},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function $S(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new g$(e)}function KS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function pU(t){this._context=t}pU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _y(t){return new pU(t)}function mU(t){return t[0]}function gU(t){return t[1]}function yU(t,e){var n=wt(!0),r=null,i=_y,o=null,l=$S(u);t=typeof t=="function"?t:t===void 0?mU:wt(t),e=typeof e=="function"?e:e===void 0?gU:wt(e);function u(f){var d,h=(f=KS(f)).length,m,v=!1,E;for(r==null&&(o=i(E=l())),d=0;d<=h;++d)!(d<h&&n(m=f[d],d,f))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+t(m,d,f),+e(m,d,f));if(E)return o=null,E+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:wt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:wt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:wt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),u):r},u}function Yp(t,e,n){var r=null,i=wt(!0),o=null,l=_y,u=null,f=$S(d);t=typeof t=="function"?t:t===void 0?mU:wt(+t),e=typeof e=="function"?e:wt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?gU:wt(+n);function d(m){var v,E,A,x=(m=KS(m)).length,C,R=!1,z,D=new Array(x),q=new Array(x);for(o==null&&(u=l(z=f())),v=0;v<=x;++v){if(!(v<x&&i(C=m[v],v,m))===R)if(R=!R)E=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),A=v-1;A>=E;--A)u.point(D[A],q[A]);u.lineEnd(),u.areaEnd()}R&&(D[v]=+t(C,v,m),q[v]=+e(C,v,m),u.point(r?+r(C,v,m):D[v],n?+n(C,v,m):q[v]))}if(z)return u=null,z+""||null}function h(){return yU().defined(i).curve(l).context(o)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:wt(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:wt(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:wt(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:wt(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:wt(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:wt(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:wt(!!m),d):i},d.curve=function(m){return arguments.length?(l=m,o!=null&&(u=l(o)),d):l},d.context=function(m){return arguments.length?(m==null?o=u=null:u=l(o=m),d):o},d}class vU{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function y$(t){return new vU(t,!0)}function v$(t){return new vU(t,!1)}const YS={draw(t,e){const n=Oi(e/Zm);t.moveTo(n,0),t.arc(0,0,n,0,vy)}},_$={draw(t,e){const n=Oi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},_U=Oi(1/3),b$=_U*2,E$={draw(t,e){const n=Oi(e/b$),r=n*_U;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},T$={draw(t,e){const n=Oi(e),r=-n/2;t.rect(r,r,n,n)}},S$=.8908130915292852,bU=Qm(Zm/10)/Qm(7*Zm/10),x$=Qm(vy/10)*bU,A$=-dU(vy/10)*bU,w$={draw(t,e){const n=Oi(e*S$),r=x$*n,i=A$*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const l=vy*o/5,u=dU(l),f=Qm(l);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*i,f*r+u*i)}t.closePath()}},M_=Oi(3),C$={draw(t,e){const n=-Oi(e/(M_*3));t.moveTo(0,n*2),t.lineTo(-M_*n,-n),t.lineTo(M_*n,-n),t.closePath()}},Xr=-.5,Qr=Oi(3)/2,KE=1/Oi(12),I$=(KE/2+1)*3,P$={draw(t,e){const n=Oi(e/I$),r=n/2,i=n*KE,o=r,l=n*KE+n,u=-o,f=l;t.moveTo(r,i),t.lineTo(o,l),t.lineTo(u,f),t.lineTo(Xr*r-Qr*i,Qr*r+Xr*i),t.lineTo(Xr*o-Qr*l,Qr*o+Xr*l),t.lineTo(Xr*u-Qr*f,Qr*u+Xr*f),t.lineTo(Xr*r+Qr*i,Xr*i-Qr*r),t.lineTo(Xr*o+Qr*l,Xr*l-Qr*o),t.lineTo(Xr*u+Qr*f,Xr*f-Qr*u),t.closePath()}};function N$(t,e){let n=null,r=$S(i);t=typeof t=="function"?t:wt(t||YS),e=typeof e=="function"?e:wt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:wt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:wt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function eg(){}function tg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function EU(t){this._context=t}EU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:tg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:tg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function R$(t){return new EU(t)}function TU(t){this._context=t}TU.prototype={areaStart:eg,areaEnd:eg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:tg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function M$(t){return new TU(t)}function SU(t){this._context=t}SU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:tg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function D$(t){return new SU(t)}function xU(t){this._context=t}xU.prototype={areaStart:eg,areaEnd:eg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function O$(t){return new xU(t)}function LP(t){return t<0?-1:1}function UP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(LP(o)+LP(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function VP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function D_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,l=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,l-u*n,o,l)}function ng(t){this._context=t}ng.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:D_(this,this._t0,VP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,D_(this,VP(this,n=UP(this,t,e)),n);break;default:D_(this,this._t0,n=UP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function AU(t){this._context=new wU(t)}(AU.prototype=Object.create(ng.prototype)).point=function(t,e){ng.prototype.point.call(this,e,t)};function wU(t){this._context=t}wU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function k$(t){return new ng(t)}function L$(t){return new AU(t)}function CU(t){this._context=t}CU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=qP(t),i=qP(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function qP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function U$(t){return new CU(t)}function by(t,e){this._context=t,this._t=e}by.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function V$(t){return new by(t,.5)}function q$(t){return new by(t,0)}function z$(t){return new by(t,1)}function oc(t,e){if((l=t.length)>1)for(var n=1,r,i,o=t[e[0]],l,u=o.length;n<l;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function YE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function B$(t,e){return t[e]}function j$(t){const e=[];return e.key=t,e}function F$(){var t=wt([]),e=YE,n=oc,r=B$;function i(o){var l=Array.from(t.apply(this,arguments),j$),u,f=l.length,d=-1,h;for(const m of o)for(u=0,++d;u<f;++u)(l[u][d]=[0,+r(m,l[u].key,d,o)]).data=m;for(u=0,h=KS(e(l));u<f;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:wt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:wt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?YE:typeof o=="function"?o:wt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??oc,i):n},i}function H$(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}oc(t,e)}}function G$(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=t[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}oc(t,e)}}function $$(t,e){if(!(!((l=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,f=0,d=0;u<l;++u){for(var h=t[e[u]],m=h[r][1]||0,v=h[r-1][1]||0,E=(m-v)/2,A=0;A<u;++A){var x=t[e[A]],C=x[r][1]||0,R=x[r-1][1]||0;E+=C-R}f+=m,d+=E*m}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,oc(t,e)}}var O_={},k_={},zP;function K$(){return zP||(zP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(k_)),k_}var L_={},BP;function IU(){return BP||(BP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(L_)),L_}var U_={},jP;function WS(){return jP||(jP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(U_)),U_}var V_={},q_={},FP;function Y$(){return FP||(FP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(q_)),q_}var HP;function JS(){return HP||(HP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Y$(),n=WS();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],l=i.length;if(l===0)return o;let u=0,f="",d="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<l;){const m=i[u];d?m==="\\"&&u+1<l?(u++,f+=i[u]):m===d?d="":f+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,o.push(f),f=""):f+=m:m==="["?(h=!0,f&&(o.push(f),f="")):m==="."?f&&(o.push(f),f=""):f+=m,u++}return f&&o.push(f),o}t.toPath=r})(V_)),V_}var GP;function XS(){return GP||(GP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K$(),n=IU(),r=WS(),i=JS();function o(u,f,d){if(u==null)return d;switch(typeof f){case"string":{if(e.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?n.isDeepKey(f)?o(u,i.toPath(f),d):d:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=u[f];return h===void 0?d:h}default:{if(Array.isArray(f))return l(u,f,d);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),e.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?d:h}}}function l(u,f,d){if(f.length===0)return d;let h=u;for(let m=0;m<f.length;m++){if(h==null||e.isUnsafeProperty(f[m]))return d;h=h[f[m]]}return h===void 0?d:h}t.get=o})(O_)),O_}var z_,$P;function W$(){return $P||($P=1,z_=XS().get),z_}var J$=W$();const ac=bo(J$);var _r=t=>t===0?0:t>0?1:-1,Ri=t=>typeof t=="number"&&t!=+t,ea=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,De=t=>(typeof t=="number"||t instanceof Number)&&!Ri(t),yo=t=>De(t)||typeof t=="string",X$=0,gd=t=>{var e=++X$;return"".concat(t||"").concat(e)},Mi=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!De(e)&&typeof e!="string")return r;var o;if(ea(e)){if(n==null)return r;var l=e.indexOf("%");o=n*parseFloat(e.slice(0,l))/100}else o=+e;return Ri(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},PU=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Ft(t,e,n){return De(t)&&De(e)?t+n*(e-t):e}function NU(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):ac(r,e))===n)}var Vt=t=>t===null||typeof t>"u",Fd=t=>Vt(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Q$(t){return t!=null}function Hd(){}var Z$=["type","size","sizeType"];function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WE.apply(null,arguments)}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){eK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eK(t,e,n){return(e=tK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tK(t){var e=nK(t,"string");return typeof e=="symbol"?e:e+""}function nK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rK(t,e){if(t==null)return{};var n,r,i=iK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var RU={symbolCircle:YS,symbolCross:_$,symbolDiamond:E$,symbolSquare:T$,symbolStar:w$,symbolTriangle:C$,symbolWye:P$},oK=Math.PI/180,aK=t=>{var e="symbol".concat(Fd(t));return RU[e]||YS},sK=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*oK;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},lK=(t,e)=>{RU["symbol".concat(Fd(t))]=e},MU=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=rK(t,Z$),o=YP(YP({},i),{},{type:e,size:n,sizeType:r}),l="circle";typeof e=="string"&&(l=e);var u=()=>{var v=aK(l),E=N$().type(v).size(sK(n,r,l)),A=E();if(A!==null)return A},{className:f,cx:d,cy:h}=o,m=or(o);return De(d)&&De(h)&&De(n)?P.createElement("path",WE({},m,{className:St("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};MU.registerSymbol=lK;var DU=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,QS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(P.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{GS(i)&&(r[i]=(o=>n[i](n,o)))}),r},uK=(t,e,n)=>r=>(t(e,n,r),null),ZS=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];GS(i)&&typeof o=="function"&&(r||(r={}),r[i]=uK(o,e,n))}),r};function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){fK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fK(t,e,n){return(e=dK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dK(t){var e=hK(t,"string");return typeof e=="symbol"?e:e+""}function hK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sr(t,e){var n=cK({},t),r=e,i=Object.keys(e),o=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return o}var B_={},j_={},JP;function pK(){return JP||(JP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}t.uniqBy=e})(j_)),j_}var F_={},XP;function OU(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(F_)),F_}var H_={},G_={},$_={},QP;function mK(){return QP||(QP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})($_)),$_}var ZP;function ex(){return ZP||(ZP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mK();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(G_)),G_}var K_={},eN;function gK(){return eN||(eN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(K_)),K_}var tN;function yK(){return tN||(tN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ex(),n=gK();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(H_)),H_}var Y_={},W_={},nN;function vK(){return nN||(nN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XS();function n(r){return function(i){return e.get(i,r)}}t.property=n})(W_)),W_}var J_={},X_={},Q_={},Z_={},rN;function kU(){return rN||(rN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Z_)),Z_}var eb={},iN;function LU(){return iN||(iN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(eb)),eb}var tb={},oN;function UU(){return oN||(oN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(tb)),tb}var aN;function _K(){return aN||(aN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kU(),n=LU(),r=UU();function i(h,m,v){return typeof v!="function"?i(h,m,()=>{}):o(h,m,function E(A,x,C,R,z,D){const q=v(A,x,C,R,z,D);return q!==void 0?!!q:o(A,x,E,D)},new Map)}function o(h,m,v,E){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,v,E);case"function":return Object.keys(m).length>0?o(h,{...m},v,E):r.eq(h,m);default:return e.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function l(h,m,v,E){if(m==null)return!0;if(Array.isArray(m))return f(h,m,v,E);if(m instanceof Map)return u(h,m,v,E);if(m instanceof Set)return d(h,m,v,E);const A=Object.keys(m);if(h==null)return A.length===0;if(A.length===0)return!0;if(E!=null&&E.has(m))return E.get(m)===h;E==null||E.set(m,h);try{for(let x=0;x<A.length;x++){const C=A[x];if(!n.isPrimitive(h)&&!(C in h)||m[C]===void 0&&h[C]!==void 0||m[C]===null&&h[C]!==null||!v(h[C],m[C],C,h,m,E))return!1}return!0}finally{E==null||E.delete(m)}}function u(h,m,v,E){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[A,x]of m.entries()){const C=h.get(A);if(v(C,x,A,h,m,E)===!1)return!1}return!0}function f(h,m,v,E){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const A=new Set;for(let x=0;x<m.length;x++){const C=m[x];let R=!1;for(let z=0;z<h.length;z++){if(A.has(z))continue;const D=h[z];let q=!1;if(v(D,C,x,h,m,E)&&(q=!0),q){A.add(z),R=!0;break}}if(!R)return!1}return!0}function d(h,m,v,E){return m.size===0?!0:h instanceof Set?f([...h],[...m],v,E):!1}t.isMatchWith=i,t.isSetMatch=d})(Q_)),Q_}var sN;function VU(){return sN||(sN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_K();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(X_)),X_}var nb={},rb={},ib={},lN;function bK(){return lN||(lN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(ib)),ib}var ob={},uN;function qU(){return uN||(uN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(ob)),ob}var ab={},cN;function zU(){return cN||(cN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",v="[object ArrayBuffer]",E="[object Object]",A="[object Error]",x="[object DataView]",C="[object Uint8Array]",R="[object Uint8ClampedArray]",z="[object Uint16Array]",D="[object Uint32Array]",q="[object BigUint64Array]",F="[object Int8Array]",G="[object Int16Array]",O="[object Int32Array]",k="[object BigInt64Array]",M="[object Float32Array]",V="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=v,t.arrayTag=h,t.bigInt64ArrayTag=k,t.bigUint64ArrayTag=q,t.booleanTag=i,t.dataViewTag=x,t.dateTag=u,t.errorTag=A,t.float32ArrayTag=M,t.float64ArrayTag=V,t.functionTag=m,t.int16ArrayTag=G,t.int32ArrayTag=O,t.int8ArrayTag=F,t.mapTag=f,t.numberTag=r,t.objectTag=E,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=l,t.uint16ArrayTag=z,t.uint32ArrayTag=D,t.uint8ArrayTag=C,t.uint8ClampedArrayTag=R})(ab)),ab}var sb={},fN;function EK(){return fN||(fN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(sb)),sb}var dN;function BU(){return dN||(dN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bK(),n=qU(),r=zU(),i=LU(),o=EK();function l(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,v,E=new Map,A=void 0){const x=A==null?void 0:A(h,m,v,E);if(x!==void 0)return x;if(i.isPrimitive(h))return h;if(E.has(h))return E.get(h);if(Array.isArray(h)){const C=new Array(h.length);E.set(h,C);for(let R=0;R<h.length;R++)C[R]=u(h[R],R,v,E,A);return Object.hasOwn(h,"index")&&(C.index=h.index),Object.hasOwn(h,"input")&&(C.input=h.input),C}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const C=new RegExp(h.source,h.flags);return C.lastIndex=h.lastIndex,C}if(h instanceof Map){const C=new Map;E.set(h,C);for(const[R,z]of h)C.set(R,u(z,R,v,E,A));return C}if(h instanceof Set){const C=new Set;E.set(h,C);for(const R of h)C.add(u(R,void 0,v,E,A));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const C=new(Object.getPrototypeOf(h)).constructor(h.length);E.set(h,C);for(let R=0;R<h.length;R++)C[R]=u(h[R],R,v,E,A);return C}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const C=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return E.set(h,C),f(C,h,v,E,A),C}if(typeof File<"u"&&h instanceof File){const C=new File([h],h.name,{type:h.type});return E.set(h,C),f(C,h,v,E,A),C}if(typeof Blob<"u"&&h instanceof Blob){const C=new Blob([h],{type:h.type});return E.set(h,C),f(C,h,v,E,A),C}if(h instanceof Error){const C=new h.constructor;return E.set(h,C),C.message=h.message,C.name=h.name,C.stack=h.stack,C.cause=h.cause,f(C,h,v,E,A),C}if(h instanceof Boolean){const C=new Boolean(h.valueOf());return E.set(h,C),f(C,h,v,E,A),C}if(h instanceof Number){const C=new Number(h.valueOf());return E.set(h,C),f(C,h,v,E,A),C}if(h instanceof String){const C=new String(h.valueOf());return E.set(h,C),f(C,h,v,E,A),C}if(typeof h=="object"&&d(h)){const C=Object.create(Object.getPrototypeOf(h));return E.set(h,C),f(C,h,v,E,A),C}return h}function f(h,m,v=h,E,A){const x=[...Object.keys(m),...e.getSymbols(m)];for(let C=0;C<x.length;C++){const R=x[C],z=Object.getOwnPropertyDescriptor(h,R);(z==null||z.writable)&&(h[R]=u(m[R],R,v,E,A))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=u,t.copyProperties=f})(rb)),rb}var hN;function TK(){return hN||(hN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BU();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(nb)),nb}var pN;function SK(){return pN||(pN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VU(),n=TK();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(J_)),J_}var lb={},ub={},cb={},mN;function xK(){return mN||(mN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BU(),n=zU();function r(i,o){return e.cloneDeepWith(i,(l,u,f,d)=>{const h=o==null?void 0:o(l,u,f,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(m,i),m}case n.argumentsTag:{const m={};return e.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=r})(cb)),cb}var gN;function AK(){return gN||(gN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xK();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(ub)),ub}var fb={},db={},yN;function jU(){return yN||(yN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(db)),db}var hb={},vN;function wK(){return vN||(vN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qU();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(hb)),hb}var _N;function CK(){return _N||(_N=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IU(),n=jU(),r=wK(),i=JS();function o(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&e.isDeepKey(u)&&(l==null?void 0:l[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let d=l;for(let h=0;h<f.length;h++){const m=f[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}t.has=o})(fb)),fb}var bN;function IK(){return bN||(bN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VU(),n=WS(),r=AK(),i=XS(),o=CK();function l(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(d){const h=i.get(d,u);return h===void 0?o.has(d,u):f===void 0?h===void 0:e.isMatch(h,f)}}t.matchesProperty=l})(lb)),lb}var EN;function PK(){return EN||(EN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OU(),n=vK(),r=SK(),i=IK();function o(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}t.iteratee=o})(Y_)),Y_}var TN;function NK(){return TN||(TN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pK(),n=OU(),r=yK(),i=PK();function o(l,u=n.identity){return r.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(u)):[]}t.uniqBy=o})(B_)),B_}var pb,SN;function RK(){return SN||(SN=1,pb=NK().uniqBy),pb}var MK=RK();const xN=bo(MK);function DK(t,e,n){return e===!0?xN(t,n):typeof e=="function"?xN(t,e):t}var mb={exports:{}},gb={},yb={exports:{}},vb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AN;function OK(){if(AN)return vb;AN=1;var t=pc();function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function u(m,v){var E=v(),A=r({inst:{value:E,getSnapshot:v}}),x=A[0].inst,C=A[1];return o(function(){x.value=E,x.getSnapshot=v,f(x)&&C({inst:x})},[m,E,v]),i(function(){return f(x)&&C({inst:x}),m(function(){f(x)&&C({inst:x})})},[m]),l(E),E}function f(m){var v=m.getSnapshot;m=m.value;try{var E=v();return!n(m,E)}catch{return!0}}function d(m,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return vb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,vb}var wN;function kK(){return wN||(wN=1,yb.exports=OK()),yb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CN;function LK(){if(CN)return gb;CN=1;var t=pc(),e=kK();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,u=t.useMemo,f=t.useDebugValue;return gb.useSyncExternalStoreWithSelector=function(d,h,m,v,E){var A=o(null);if(A.current===null){var x={hasValue:!1,value:null};A.current=x}else x=A.current;A=u(function(){function R(G){if(!z){if(z=!0,D=G,G=v(G),E!==void 0&&x.hasValue){var O=x.value;if(E(O,G))return q=O}return q=G}if(O=q,r(D,G))return O;var k=v(G);return E!==void 0&&E(O,k)?(D=G,O):(D=G,q=k)}var z=!1,D,q,F=m===void 0?null:m;return[function(){return R(h())},F===null?void 0:function(){return R(F())}]},[h,m,v,E]);var C=i(d,A[0],A[1]);return l(function(){x.hasValue=!0,x.value=C},[C]),f(C),C},gb}var IN;function UK(){return IN||(IN=1,mb.exports=LK()),mb.exports}var VK=UK(),tx=P.createContext(null),qK=t=>t,Qt=()=>{var t=P.useContext(tx);return t?t.store.dispatch:qK},Sm=()=>{},zK=()=>Sm,BK=(t,e)=>t===e;function Oe(t){var e=P.useContext(tx);return VK.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:zK,e?e.store.getState:Sm,e?e.store.getState:Sm,e?t:Sm,BK)}function jK(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function FK(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function HK(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var PN=t=>Array.isArray(t)?t:[t];function GK(t){const e=Array.isArray(t[0])?t[0]:t;return HK(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function $K(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var KK=class{constructor(t){this.value=t}deref(){return this.value}},YK=typeof WeakRef<"u"?WeakRef:KK,WK=0,NN=1;function Wp(){return{s:WK,v:void 0,o:null,p:null}}function FU(t,e={}){let n=Wp();const{resultEqualityCheck:r}=e;let i,o=0;function l(){var m;let u=n;const{length:f}=arguments;for(let v=0,E=f;v<E;v++){const A=arguments[v];if(typeof A=="function"||typeof A=="object"&&A!==null){let x=u.o;x===null&&(u.o=x=new WeakMap);const C=x.get(A);C===void 0?(u=Wp(),x.set(A,u)):u=C}else{let x=u.p;x===null&&(u.p=x=new Map);const C=x.get(A);C===void 0?(u=Wp(),x.set(A,u)):u=C}}const d=u;let h;if(u.s===NN)h=u.v;else if(h=t.apply(null,arguments),o++,r){const v=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;v!=null&&r(v,h)&&(h=v,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new YK(h):h}return d.s=NN,d.v=h,h}return l.clearCache=()=>{n=Wp(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function JK(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,l=0,u,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),jK(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...f},{memoize:m,memoizeOptions:v=[],argsMemoize:E=FU,argsMemoizeOptions:A=[]}=h,x=PN(v),C=PN(A),R=GK(i),z=m(function(){return o++,d.apply(null,arguments)},...x),D=E(function(){l++;const F=$K(R,arguments);return u=z.apply(null,F),u},...C);return Object.assign(D,{resultFunc:d,memoizedResultFunc:z,dependencies:R,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:E})};return Object.assign(r,{withTypes:()=>r}),r}var oe=JK(FU),XK=Object.assign((t,e=oe)=>{FK(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((l,u,f)=>(l[n[f]]=u,l),{}))},{withTypes:()=>XK}),_b={},bb={},Eb={},RN;function QK(){return RN||(RN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=e(r),u=e(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};t.compareValues=n})(Eb)),Eb}var Tb={},Sb={},MN;function HU(){return MN||(MN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Sb)),Sb}var DN;function ZK(){return DN||(DN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HU(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}t.isKey=i})(Tb)),Tb}var ON;function eY(){return ON||(ON=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QK(),n=ZK(),r=JS();function i(o,l,u,f){if(o==null)return[];u=f?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(E=>String(E));const d=(E,A)=>{let x=E;for(let C=0;C<A.length&&x!=null;++C)x=x[A[C]];return x},h=(E,A)=>A==null||E==null?A:typeof E=="object"&&"key"in E?Object.hasOwn(A,E.key)?A[E.key]:d(A,E.path):typeof E=="function"?E(A):Array.isArray(E)?d(A,E):typeof A=="object"?A[E]:A,m=l.map(E=>(Array.isArray(E)&&E.length===1&&(E=E[0]),E==null||typeof E=="function"||Array.isArray(E)||n.isKey(E)?E:{key:E,path:r.toPath(E)}));return o.map(E=>({original:E,criteria:m.map(A=>h(A,E))})).slice().sort((E,A)=>{for(let x=0;x<m.length;x++){const C=e.compareValues(E.criteria[x],A.criteria[x],u[x]);if(C!==0)return C}return 0}).map(E=>E.original)}t.orderBy=i})(bb)),bb}var xb={},kN;function tY(){return kN||(kN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),l=(u,f)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&f<o?l(h,f+1):i.push(h)}};return l(n,0),i}t.flatten=e})(xb)),xb}var Ab={},LN;function GU(){return LN||(LN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jU(),n=ex(),r=kU(),i=UU();function o(l,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&e.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],l):!1}t.isIterateeCall=o})(Ab)),Ab}var UN;function nY(){return UN||(UN=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eY(),n=tY(),r=GU();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(o,n.flatten(l),["asc"])}t.sortBy=i})(_b)),_b}var wb,VN;function rY(){return VN||(VN=1,wb=nY().sortBy),wb}var iY=rY();const Ey=bo(iY);var $U=t=>t.legend.settings,oY=t=>t.legend.size,aY=t=>t.legend.payload;oe([aY,$U],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Ey(r,n):r});var Jp=1;function sY(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=P.useState({height:0,left:0,top:0,width:0}),r=P.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-e.height)>Jp||Math.abs(l.left-e.left)>Jp||Math.abs(l.top-e.top)>Jp||Math.abs(l.width-e.width)>Jp)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function qn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var lY=typeof Symbol=="function"&&Symbol.observable||"@@observable",qN=lY,Cb=()=>Math.random().toString(36).substring(7).split("").join("."),uY={INIT:`@@redux/INIT${Cb()}`,REPLACE:`@@redux/REPLACE${Cb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Cb()}`},rg=uY;function nx(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function KU(t,e,n){if(typeof t!="function")throw new Error(qn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(qn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(qn(1));return n(KU)(t,e)}let r=t,i=e,o=new Map,l=o,u=0,f=!1;function d(){l===o&&(l=new Map,o.forEach((C,R)=>{l.set(R,C)}))}function h(){if(f)throw new Error(qn(3));return i}function m(C){if(typeof C!="function")throw new Error(qn(4));if(f)throw new Error(qn(5));let R=!0;d();const z=u++;return l.set(z,C),function(){if(R){if(f)throw new Error(qn(6));R=!1,d(),l.delete(z),o=null}}}function v(C){if(!nx(C))throw new Error(qn(7));if(typeof C.type>"u")throw new Error(qn(8));if(typeof C.type!="string")throw new Error(qn(17));if(f)throw new Error(qn(9));try{f=!0,i=r(i,C)}finally{f=!1}return(o=l).forEach(z=>{z()}),C}function E(C){if(typeof C!="function")throw new Error(qn(10));r=C,v({type:rg.REPLACE})}function A(){const C=m;return{subscribe(R){if(typeof R!="object"||R===null)throw new Error(qn(11));function z(){const q=R;q.next&&q.next(h())}return z(),{unsubscribe:C(z)}},[qN](){return this}}}return v({type:rg.INIT}),{dispatch:v,subscribe:m,getState:h,replaceReducer:E,[qN]:A}}function cY(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:rg.INIT})>"u")throw new Error(qn(12));if(typeof n(void 0,{type:rg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qn(13))})}function YU(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const l=e[o];typeof t[l]=="function"&&(n[l]=t[l])}const r=Object.keys(n);let i;try{cY(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let f=!1;const d={};for(let h=0;h<r.length;h++){const m=r[h],v=n[m],E=l[m],A=v(E,u);if(typeof A>"u")throw u&&u.type,new Error(qn(14));d[m]=A,f=f||A!==E}return f=f||r.length!==Object.keys(l).length,f?d:l}}function ig(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function fY(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(qn(15))};const l={getState:i.getState,dispatch:(f,...d)=>o(f,...d)},u=t.map(f=>f(l));return o=ig(...u)(i.dispatch),{...i,dispatch:o}}}function WU(t){return nx(t)&&"type"in t&&typeof t.type=="string"}var JU=Symbol.for("immer-nothing"),zN=Symbol.for("immer-draftable"),ar=Symbol.for("immer-state");function Si(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var kr=Object,sc=kr.getPrototypeOf,og="constructor",Ty="prototype",JE="configurable",ag="enumerable",xm="writable",yd="value",ta=t=>!!t&&!!t[ar];function Di(t){var e;return t?XU(t)||Sy(t)||!!t[zN]||!!((e=t[og])!=null&&e[zN])||xy(t)||Ay(t):!1}var dY=kr[Ty][og].toString(),BN=new WeakMap;function XU(t){if(!t||!rx(t))return!1;const e=sc(t);if(e===null||e===kr[Ty])return!0;const n=kr.hasOwnProperty.call(e,og)&&e[og];if(n===Object)return!0;if(!Uu(n))return!1;let r=BN.get(n);return r===void 0&&(r=Function.toString.call(n),BN.set(n,r)),r===dY}function Gd(t,e,n=!0){$d(t)===0?(n?Reflect.ownKeys(t):kr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function $d(t){const e=t[ar];return e?e.type_:Sy(t)?1:xy(t)?2:Ay(t)?3:0}var jN=(t,e,n=$d(t))=>n===2?t.has(e):kr[Ty].hasOwnProperty.call(t,e),XE=(t,e,n=$d(t))=>n===2?t.get(e):t[e],sg=(t,e,n,r=$d(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function hY(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Sy=Array.isArray,xy=t=>t instanceof Map,Ay=t=>t instanceof Set,rx=t=>typeof t=="object",Uu=t=>typeof t=="function",Ib=t=>typeof t=="boolean",zo=t=>t.copy_||t.base_,ix=t=>t.modified_?t.copy_:t.base_;function QE(t,e){if(xy(t))return new Map(t);if(Ay(t))return new Set(t);if(Sy(t))return Array[Ty].slice.call(t);const n=XU(t);if(e===!0||e==="class_only"&&!n){const r=kr.getOwnPropertyDescriptors(t);delete r[ar];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u[xm]===!1&&(u[xm]=!0,u[JE]=!0),(u.get||u.set)&&(r[l]={[JE]:!0,[xm]:!0,[ag]:u[ag],[yd]:t[l]})}return kr.create(sc(t),r)}else{const r=sc(t);if(r!==null&&n)return{...t};const i=kr.create(r);return kr.assign(i,t)}}function ox(t,e=!1){return wy(t)||ta(t)||!Di(t)||($d(t)>1&&kr.defineProperties(t,{set:Xp,add:Xp,clear:Xp,delete:Xp}),kr.freeze(t),e&&Gd(t,(n,r)=>{ox(r,!0)},!1)),t}function pY(){Si(2)}var Xp={[yd]:pY};function wy(t){return t===null||!rx(t)?!0:kr.isFrozen(t)}var lg="MapSet",ZE="Patches",QU={};function lc(t){const e=QU[t];return e||Si(0,t),e}var mY=t=>!!QU[t],vd,ZU=()=>vd,gY=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:mY(lg)?lc(lg):void 0});function FN(t,e){e&&(t.patchPlugin_=lc(ZE),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function eT(t){tT(t),t.drafts_.forEach(yY),t.drafts_=null}function tT(t){t===vd&&(vd=t.parent_)}var HN=t=>vd=gY(vd,t);function yY(t){const e=t[ar];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function GN(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[ar].modified_&&(eT(e),Si(4)),Di(t)&&(t=$N(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[ar].base_,t,e)}else t=$N(e,n);return vY(e,t,!0),eT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==JU?t:void 0}function $N(t,e){if(wy(e))return e;const n=e[ar];if(!n)return ax(e,t.handledSet_,t);if(!Cy(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);nV(n,t)}return n.copy_}function vY(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ox(e,n)}function eV(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Cy=(t,e)=>t.scope_===e,_Y=[];function tV(t,e,n,r){const i=zo(t),o=t.type_;if(r!==void 0&&XE(i,r,o)===e){sg(i,r,n,o);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;Gd(i,(f,d)=>{if(ta(d)){const h=u.get(d)||[];h.push(f),u.set(d,h)}})}const l=t.draftLocations_.get(e)??_Y;for(const u of l)sg(i,u,n,o)}function bY(t,e,n){t.callbacks_.push(function(i){var u;const o=e;if(!o||!Cy(o,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(o);const l=ix(o);tV(t,o.draft_??o,l,n),nV(o,i)})}function nV(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const o=i.getPath(t);o&&i.generatePatches_(t,o,e)}eV(t)}}function EY(t,e,n){const{scope_:r}=t;if(ta(n)){const i=n[ar];Cy(i,r)&&i.callbacks_.push(function(){Am(t);const l=ix(i);tV(t,n,l,e)})}else Di(n)&&t.callbacks_.push(function(){const o=zo(t);XE(o,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&ax(XE(t.copy_,e,t.type_),r.handledSet_,r)})}function ax(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ta(t)||e.has(t)||!Di(t)||wy(t)||(e.add(t),Gd(t,(r,i)=>{if(ta(i)){const o=i[ar];if(Cy(o,n)){const l=ix(o);sg(t,r,l,t.type_),eV(o)}}else Di(i)&&ax(i,e,n)})),t}function TY(t,e){const n=Sy(t),r={type_:n?1:0,scope_:e?e.scope_:ZU(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=sx;n&&(i=[r],o=_d);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,[u,r]}var sx={get(t,e){if(e===ar)return t;const n=zo(t);if(!jN(n,e,t.type_))return SY(t,n,e);const r=n[e];if(t.finalized_||!Di(r))return r;if(r===Pb(t.base_,e)){Am(t);const i=t.type_===1?+e:e,o=rT(t.scope_,r,t,i);return t.copy_[i]=o}return r},has(t,e){return e in zo(t)},ownKeys(t){return Reflect.ownKeys(zo(t))},set(t,e,n){const r=rV(zo(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Pb(zo(t),e),o=i==null?void 0:i[ar];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(hY(n,i)&&(n!==void 0||jN(t.base_,e,t.type_)))return!0;Am(t),nT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),EY(t,e,n)),!0},deleteProperty(t,e){return Am(t),Pb(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),nT(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=zo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[xm]:!0,[JE]:t.type_!==1||e!=="length",[ag]:r[ag],[yd]:n[e]}},defineProperty(){Si(11)},getPrototypeOf(t){return sc(t.base_)},setPrototypeOf(){Si(12)}},_d={};Gd(sx,(t,e)=>{_d[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});_d.deleteProperty=function(t,e){return _d.set.call(this,t,e,void 0)};_d.set=function(t,e,n){return sx.set.call(this,t[0],e,n,t[0])};function Pb(t,e){const n=t[ar];return(n?zo(n):t)[e]}function SY(t,e,n){var i;const r=rV(e,n);return r?yd in r?r[yd]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function rV(t,e){if(!(e in t))return;let n=sc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=sc(n)}}function nT(t){t.modified_||(t.modified_=!0,t.parent_&&nT(t.parent_))}function Am(t){t.copy_||(t.assigned_=new Map,t.copy_=QE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var xY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Uu(n)&&!Uu(r)){const l=r;r=n;const u=this;return function(d=l,...h){return u.produce(d,m=>r.call(this,m,...h))}}Uu(r)||Si(6),i!==void 0&&!Uu(i)&&Si(7);let o;if(Di(n)){const l=HN(this),u=rT(l,n,void 0);let f=!0;try{o=r(u),f=!1}finally{f?eT(l):tT(l)}return FN(l,i),GN(o,l)}else if(!n||!rx(n)){if(o=r(n),o===void 0&&(o=n),o===JU&&(o=void 0),this.autoFreeze_&&ox(o,!0),i){const l=[],u=[];lc(ZE).generateReplacementPatches_(n,o,{patches_:l,inversePatches_:u}),i(l,u)}return o}else Si(1,n)},this.produceWithPatches=(n,r)=>{if(Uu(n))return(u,...f)=>this.produceWithPatches(u,d=>n(d,...f));let i,o;return[this.produce(n,r,(u,f)=>{i=u,o=f}),i,o]},Ib(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Ib(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Ib(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Di(e)||Si(8),ta(e)&&(e=Ii(e));const n=HN(this),r=rT(n,e,void 0);return r[ar].isManual_=!0,tT(n),r}finishDraft(e,n){const r=e&&e[ar];(!r||!r.isManual_)&&Si(9);const{scope_:i}=r;return FN(i,n),GN(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(n=n.slice(r+1));const i=lc(ZE).applyPatches_;return ta(e)?i(e,n):this.produce(e,o=>i(o,n))}};function rT(t,e,n,r){const[i,o]=xy(e)?lc(lg).proxyMap_(e,n):Ay(e)?lc(lg).proxySet_(e,n):TY(e,n);return((n==null?void 0:n.scope_)??ZU()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?bY(n,o,r):o.callbacks_.push(function(f){var h;(h=f.mapSetPlugin_)==null||h.fixSetContents(o);const{patchPlugin_:d}=f;o.modified_&&d&&d.generatePatches_(o,[],f)}),i}function Ii(t){return ta(t)||Si(10,t),iV(t)}function iV(t){if(!Di(t)||wy(t))return t;const e=t[ar];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=QE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=QE(t,!0);return Gd(n,(i,o)=>{sg(n,i,iV(o))},r),e&&(e.finalized_=!1),n}var AY=new xY,oV=AY.produce;function aV(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var wY=aV(),CY=aV,IY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ig:ig.apply(null,arguments)};function oi(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Lr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>WU(r)&&r.type===t,n}var sV=class Xf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Xf.prototype)}static get[Symbol.species](){return Xf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Xf(...e[0].concat(this)):new Xf(...e.concat(this))}};function KN(t){return Di(t)?oV(t,()=>{}):t}function Qp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function PY(t){return typeof t=="boolean"}var NY=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let l=new sV;return n&&(PY(n)?l.push(wY):l.push(CY(n.extraArgument))),l},lV="RTK_autoBatch",Lt=()=>t=>({payload:t,meta:{[lV]:!0}}),YN=t=>e=>{setTimeout(e,t)},uV=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,l=!1;const u=new Set,f=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:YN(10):t.type==="callback"?t.queueNotification:YN(t.timeout),d=()=>{l=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),v=r.subscribe(m);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[lV]),o=!i,o&&(l||(l=!0,f(d))),r.dispatch(h)}finally{i=!0}}})},RY=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new sV(t);return r&&i.push(uV(typeof r=="object"?r:void 0)),i};function MY(t){const e=NY(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(nx(n))u=YU(n);else throw new Error(Lr(1));let f;typeof r=="function"?f=r(e):f=e();let d=ig;i&&(d=IY({trace:!1,...typeof i=="object"&&i}));const h=fY(...f),m=RY(h);let v=typeof l=="function"?l(m):m();const E=d(...v);return KU(u,o,E)}function cV(t){const e={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Lr(28));if(u in e)throw new Error(Lr(29));return e[u]=l,i},addAsyncThunk(o,l){return l.pending&&(e[o.pending.type]=l.pending),l.rejected&&(e[o.rejected.type]=l.rejected),l.fulfilled&&(e[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function DY(t){return typeof t=="function"}function OY(t,e){let[n,r,i]=cV(e),o;if(DY(t))o=()=>KN(t());else{const u=KN(t);o=()=>u}function l(u=o(),f){let d=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,m)=>{if(m)if(ta(h)){const E=m(h,f);return E===void 0?h:E}else{if(Di(h))return oV(h,v=>m(v,f));{const v=m(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return l.getInitialState=o,l}var kY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",LY=(t=21)=>{let e="",n=t;for(;n--;)e+=kY[Math.random()*64|0];return e},UY=Symbol.for("rtk-slice-createasyncthunk");function VY(t,e){return`${t}/${e}`}function qY({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[UY];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(Lr(11));const u=(typeof i.reducers=="function"?i.reducers(BY()):i.reducers)||{},f=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(q,F){const G=typeof q=="string"?q:q.type;if(!G)throw new Error(Lr(12));if(G in d.sliceCaseReducersByType)throw new Error(Lr(13));return d.sliceCaseReducersByType[G]=F,h},addMatcher(q,F){return d.sliceMatchers.push({matcher:q,reducer:F}),h},exposeAction(q,F){return d.actionCreators[q]=F,h},exposeCaseReducer(q,F){return d.sliceCaseReducersByName[q]=F,h}};f.forEach(q=>{const F=u[q],G={reducerName:q,type:VY(o,q),createNotation:typeof i.reducers=="function"};FY(F)?GY(G,F,h,e):jY(G,F,h)});function m(){const[q={},F=[],G=void 0]=typeof i.extraReducers=="function"?cV(i.extraReducers):[i.extraReducers],O={...q,...d.sliceCaseReducersByType};return OY(i.initialState,k=>{for(let M in O)k.addCase(M,O[M]);for(let M of d.sliceMatchers)k.addMatcher(M.matcher,M.reducer);for(let M of F)k.addMatcher(M.matcher,M.reducer);G&&k.addDefaultCase(G)})}const v=q=>q,E=new Map,A=new WeakMap;let x;function C(q,F){return x||(x=m()),x(q,F)}function R(){return x||(x=m()),x.getInitialState()}function z(q,F=!1){function G(k){let M=k[q];return typeof M>"u"&&F&&(M=Qp(A,G,R)),M}function O(k=v){const M=Qp(E,F,()=>new WeakMap);return Qp(M,k,()=>{const V={};for(const[U,B]of Object.entries(i.selectors??{}))V[U]=zY(B,k,()=>Qp(A,k,R),F);return V})}return{reducerPath:q,getSelectors:O,get selectors(){return O(G)},selectSlice:G}}const D={name:o,reducer:C,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:R,...z(l),injectInto(q,{reducerPath:F,...G}={}){const O=F??l;return q.inject({reducerPath:O,reducer:C},G),{...D,...z(O,!0)}}};return D}}function zY(t,e,n,r){function i(o,...l){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...l)}return i.unwrapped=t,i}var Tr=qY();function BY(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function jY({type:t,reducerName:e,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!HY(r))throw new Error(Lr(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,l?oi(t,l):oi(t))}function FY(t){return t._reducerDefinitionType==="asyncThunk"}function HY(t){return t._reducerDefinitionType==="reducerWithPrepare"}function GY({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Lr(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:f,settled:d,options:h}=n,m=i(t,o,h);r.exposeAction(e,m),l&&r.addCase(m.fulfilled,l),u&&r.addCase(m.pending,u),f&&r.addCase(m.rejected,f),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:l||Zp,pending:u||Zp,rejected:f||Zp,settled:d||Zp})}function Zp(){}var $Y="task",fV="listener",dV="completed",lx="cancelled",KY=`task-${lx}`,YY=`task-${dV}`,iT=`${fV}-${lx}`,WY=`${fV}-${dV}`,Iy=class{constructor(t){u_(this,"name","TaskAbortError");u_(this,"message");this.code=t,this.message=`${$Y} ${lx} (reason: ${t})`}},ux=(t,e)=>{if(typeof t!="function")throw new TypeError(Lr(32))},ug=()=>{},hV=(t,e=ug)=>(t.catch(e),t),pV=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),_l=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},bl=t=>{if(t.aborted){const{reason:e}=t;throw new Iy(e)}};function mV(t,e){let n=ug;return new Promise((r,i)=>{const o=()=>i(new Iy(t.reason));if(t.aborted){o();return}n=pV(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=ug})}var JY=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Iy?"cancelled":"rejected",error:n}}finally{e==null||e()}},cg=t=>e=>hV(mV(t,e).then(n=>(bl(t),n))),gV=t=>{const e=cg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:$u}=Object,WN={},Py="listenerMiddleware",XY=(t,e)=>{const n=r=>pV(t,()=>_l(r,t.reason));return(r,i)=>{ux(r);const o=new AbortController;n(o);const l=JY(async()=>{bl(t),bl(o.signal);const u=await r({pause:cg(o.signal),delay:gV(o.signal),signal:o.signal});return bl(o.signal),u},()=>_l(o,YY));return i!=null&&i.autoJoin&&e.push(l.catch(ug)),{result:cg(t)(l),cancel(){_l(o,KY)}}}},QY=(t,e)=>{const n=async(r,i)=>{bl(e);let o=()=>{};const u=[new Promise((f,d)=>{let h=t({predicate:r,effect:(m,v)=>{v.unsubscribe(),f([m,v.getState(),v.getOriginalState()])}});o=()=>{h(),d()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await mV(e,Promise.race(u));return bl(e),f}finally{o()}};return(r,i)=>hV(n(r,i))},yV=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=oi(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Lr(21));return ux(o),{predicate:i,type:e,effect:o}},vV=$u(t=>{const{type:e,predicate:n,effect:r}=yV(t);return{id:LY(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Lr(22))}}},{withTypes:()=>vV}),JN=(t,e)=>{const{type:n,effect:r,predicate:i}=yV(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},oT=t=>{t.pending.forEach(e=>{_l(e,iT)})},ZY=(t,e)=>()=>{for(const n of e.keys())oT(n);t.clear()},XN=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},_V=$u(oi(`${Py}/add`),{withTypes:()=>_V}),eW=oi(`${Py}/removeAll`),bV=$u(oi(`${Py}/remove`),{withTypes:()=>bV}),tW=(...t)=>{console.error(`${Py}/error`,...t)},Kd=(t={})=>{const e=new Map,n=new Map,r=E=>{const A=n.get(E)??0;n.set(E,A+1)},i=E=>{const A=n.get(E)??1;A===1?n.delete(E):n.set(E,A-1)},{extra:o,onError:l=tW}=t;ux(l);const u=E=>(E.unsubscribe=()=>e.delete(E.id),e.set(E.id,E),A=>{E.unsubscribe(),A!=null&&A.cancelActive&&oT(E)}),f=E=>{const A=JN(e,E)??vV(E);return u(A)};$u(f,{withTypes:()=>f});const d=E=>{const A=JN(e,E);return A&&(A.unsubscribe(),E.cancelActive&&oT(A)),!!A};$u(d,{withTypes:()=>d});const h=async(E,A,x,C)=>{const R=new AbortController,z=QY(f,R.signal),D=[];try{E.pending.add(R),r(E),await Promise.resolve(E.effect(A,$u({},x,{getOriginalState:C,condition:(q,F)=>z(q,F).then(Boolean),take:z,delay:gV(R.signal),pause:cg(R.signal),extra:o,signal:R.signal,fork:XY(R.signal,D),unsubscribe:E.unsubscribe,subscribe:()=>{e.set(E.id,E)},cancelActiveListeners:()=>{E.pending.forEach((q,F,G)=>{q!==R&&(_l(q,iT),G.delete(q))})},cancel:()=>{_l(R,iT),E.pending.delete(R)},throwIfCancelled:()=>{bl(R.signal)}})))}catch(q){q instanceof Iy||XN(l,q,{raisedBy:"effect"})}finally{await Promise.all(D),_l(R,WY),i(E),E.pending.delete(R)}},m=ZY(e,n);return{middleware:E=>A=>x=>{if(!WU(x))return A(x);if(_V.match(x))return f(x.payload);if(eW.match(x)){m();return}if(bV.match(x))return d(x.payload);let C=E.getState();const R=()=>{if(C===WN)throw new Error(Lr(23));return C};let z;try{if(z=A(x),e.size>0){const D=E.getState(),q=Array.from(e.values());for(const F of q){let G=!1;try{G=F.predicate(x,D,C)}catch(O){G=!1,XN(l,O,{raisedBy:"predicate"})}G&&h(F,x,E,R)}}}finally{C=WN}return z},startListening:f,stopListening:d,clearListeners:m}};function Lr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var nW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},EV=Tr({name:"chartLayout",initialState:nW,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:rW,setLayout:iW,setChartSize:oW,setScale:aW}=EV.actions,sW=EV.reducer;function TV(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function QN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QN(Object(n),!0).forEach(function(r){lW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lW(t,e,n){return(e=uW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uW(t){var e=cW(t,"string");return typeof e=="symbol"?e:e+""}function cW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yn(t,e,n){return Vt(t)||Vt(e)?n:yo(e)?ac(t,e,n):typeof e=="function"?e(t):n}var fW=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:u}=e;if((u==="vertical"||u==="horizontal"&&l==="middle")&&o!=="center"&&De(t[o]))return Vu(Vu({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&l!=="middle"&&De(t[l]))return Vu(Vu({},t),{},{[l]:t[l]+(i||0)})}return t},As=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",SV=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var i,o,l=t.map(u=>(u.coordinate===e&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||l.push(e),o||l.push(n),l},xV=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:v,axisType:E}=t;if(!l)return null;var A=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,x=i==="category"&&l.bandwidth?l.bandwidth()/A:0;if(x=E==="angleAxis"&&o&&o.length>=2?_r(o[0]-o[1])*2*x:x,m||v){var C=(m||v||[]).map((R,z)=>{var D=r?r.indexOf(R):R;return{coordinate:l(D)+x,value:R,offset:x,index:z}});return C.filter(R=>!Ri(R.coordinate))}return f&&d?d.map((R,z)=>({coordinate:l(R)+x,value:R,index:z,offset:x})):l.ticks&&h!=null?l.ticks(h).map((R,z)=>({coordinate:l(R)+x,value:R,offset:x,index:z})):l.domain().map((R,z)=>({coordinate:l(R)+x,value:r?r[R]:R,index:z,offset:x}))},ZN=1e-4,dW=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-ZN,o=Math.max(r[0],r[1])+ZN,l=t(e[0]),u=t(e[n-1]);(l<i||l>o||u<i||u>o)&&t.domain([e[0],e[n-1]])}},hW=(t,e)=>{if(!e||e.length!==2||!De(e[0])||!De(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!De(t[0])||t[0]<n)&&(i[0]=n),(!De(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},pW=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,l=0;l<e;++l){var u=Ri(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=i,t[l][n][1]=i+u,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+u,o=t[l][n][1])}},mW=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var l=Ri(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},gW={sign:pW,expand:H$,none:oc,silhouette:G$,wiggle:$$,positive:mW},yW=(t,e,n)=>{var r=gW[n],i=F$().keys(e).value((o,l)=>Number(yn(o,l,0))).order(YE).offset(r);return i(t)};function vW(t){return t==null?void 0:String(t)}function eR(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:o,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Vt(i[e.dataKey])){var u=NU(n,"value",i[e.dataKey]);if(u)return u.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var f=yn(i,Vt(l)?e.dataKey:l);return Vt(f)?null:e.scale(f)}var tR=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:o,index:l}=t;if(e.type==="category")return n[l]?n[l].coordinate+r:null;var u=yn(o,e.dataKey,e.scale.domain()[l]);return Vt(u)?null:e.scale(u)-i/2+r},_W=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},bW=t=>{var e=t.flat(2).filter(De);return[Math.min(...e),Math.max(...e)]},EW=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],TW=(t,e,n)=>{if(t!=null)return EW(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:l}=o,u=l.reduce((f,d)=>{var h=TV(d,e,n),m=bW(h);return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},nR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uc=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Ey(e,h=>h.coordinate),o=1/0,l=1,u=i.length;l<u;l++){var f=i[l],d=i[l-1];o=Math.min((f.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function iR(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Vu(Vu({},e),{},{dataKey:n,payload:r,value:i,name:o})}function Ny(t,e){if(t)return String(t);if(typeof e=="string")return e}var SW=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},xW=(t,e)=>e==="centric"?t.angle:t.radius,ua=t=>t.layout.width,ca=t=>t.layout.height,AW=t=>t.layout.scale,AV=t=>t.layout.margin,Ry=oe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),My=oe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),wW="data-recharts-item-index",CW="data-recharts-item-data-key",Yd=60;function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){IW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IW(t,e,n){return(e=PW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PW(t){var e=NW(t,"string");return typeof e=="symbol"?e:e+""}function NW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RW=t=>t.brush.height;function MW(t){var e=My(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Yd;return n+i}return n},0)}function DW(t){var e=My(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Yd;return n+i}return n},0)}function OW(t){var e=Ry(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function kW(t){var e=Ry(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Rn=oe([ua,ca,AV,RW,MW,DW,OW,kW,$U,oY],(t,e,n,r,i,o,l,u,f,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},m={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=em(em({},m),h),E=v.bottom;v.bottom+=r,v=fW(v,f,d);var A=t-v.left-v.right,x=e-v.top-v.bottom;return em(em({brushBottom:E},v),{},{width:Math.max(A,0),height:Math.max(x,0)})}),LW=oe(Rn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),cx=oe(ua,ca,(t,e)=>({x:0,y:0,width:t,height:e})),UW=P.createContext(null),Qn=()=>P.useContext(UW)!=null,Dy=t=>t.brush,Oy=oe([Dy,Rn,AV],(t,e,n)=>({height:t.height,x:De(t.x)?t.x:e.left,y:De(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:De(t.width)?t.width:e.width})),Nb={},Rb={},Mb={},aR;function VW(){return aR||(aR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let l,u=null;const f=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},m=()=>{d&&h(),x()};let v=null;const E=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,m()},r)},A=()=>{v!==null&&(clearTimeout(v),v=null)},x=()=>{A(),l=void 0,u=null},C=()=>{h()},R=function(...z){if(i!=null&&i.aborted)return;l=this,u=z;const D=v==null;E(),f&&D&&h()};return R.schedule=E,R.cancel=x,R.flush=C,i==null||i.addEventListener("abort",x,{once:!0}),R}t.debounce=e})(Mb)),Mb}var sR;function qW(){return sR||(sR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VW();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:f}=o,d=Array(2);l&&(d[0]="leading"),u&&(d[1]="trailing");let h,m=null;const v=e.debounce(function(...x){h=r.apply(this,x),m=null},i,{edges:d}),E=function(...x){return f!=null&&(m===null&&(m=Date.now()),Date.now()-m>=f)?(h=r.apply(this,x),m=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,x),h)},A=()=>(v.flush(),h);return E.cancel=v.cancel,E.flush=A,E}t.debounce=n})(Rb)),Rb}var lR;function zW(){return lR||(lR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qW();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:l,maxWait:i,trailing:u})}t.throttle=n})(Nb)),Nb}var Db,uR;function BW(){return uR||(uR=1,Db=zW().throttle),Db}var jW=BW();const FW=bo(jW);var fg=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},wV=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:l}=n,u=ea(r)?t:Number(r),f=ea(i)?e:Number(i);return o&&o>0&&(u?f=u/o:f&&(u=f*o),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:u,calculatedHeight:f}},HW={width:0,height:0,overflow:"visible"},GW={width:0,overflowX:"visible"},$W={height:0,overflowY:"visible"},KW={},YW=t=>{var{width:e,height:n}=t,r=ea(e),i=ea(n);return r&&i?HW:r?GW:i?$W:KW};function WW(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function Xt(t){return Number.isFinite(t)}function vo(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function aT(){return aT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aT.apply(null,arguments)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){JW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JW(t,e,n){return(e=XW(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XW(t){var e=QW(t,"string");return typeof e=="symbol"?e:e+""}function QW(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CV=P.createContext({width:-1,height:-1});function ZW(t){return vo(t.width)&&vo(t.height)}function IV(t){var{children:e,width:n,height:r}=t,i=P.useMemo(()=>({width:n,height:r}),[n,r]);return ZW(i)?P.createElement(CV.Provider,{value:i},e):null}var fx=()=>P.useContext(CV),eJ=P.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:l=0,minHeight:u,maxHeight:f,children:d,debounce:h=0,id:m,className:v,onResize:E,style:A={}}=t,x=P.useRef(null),C=P.useRef();C.current=E,P.useImperativeHandle(e,()=>x.current);var[R,z]=P.useState({containerWidth:r.width,containerHeight:r.height}),D=P.useCallback((k,M)=>{z(V=>{var U=Math.round(k),B=Math.round(M);return V.containerWidth===U&&V.containerHeight===B?V:{containerWidth:U,containerHeight:B}})},[]);P.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return Hd;var k=B=>{var H,{width:Se,height:we}=B[0].contentRect;D(Se,we),(H=C.current)===null||H===void 0||H.call(C,Se,we)};h>0&&(k=FW(k,h,{trailing:!0,leading:!1}));var M=new ResizeObserver(k),{width:V,height:U}=x.current.getBoundingClientRect();return D(V,U),M.observe(x.current),()=>{M.disconnect()}},[D,h]);var{containerWidth:q,containerHeight:F}=R;fg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:G,calculatedHeight:O}=wV(q,F,{width:i,height:o,aspect:n,maxHeight:f});return fg(G!=null&&G>0||O!=null&&O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,O,i,o,l,u,n),P.createElement("div",{id:m?"".concat(m):void 0,className:St("recharts-responsive-container",v),style:fR(fR({},A),{},{width:i,height:o,minWidth:l,minHeight:u,maxHeight:f}),ref:x},P.createElement("div",{style:YW({width:i,height:o})},P.createElement(IV,{width:G,height:O},d)))}),dR=P.forwardRef((t,e)=>{var n=fx();if(vo(n.width)&&vo(n.height))return t.children;var{width:r,height:i}=WW({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:l}=wV(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return De(o)&&De(l)?P.createElement(IV,{width:o,height:l},t.children):P.createElement(eJ,aT({},t,{width:r,height:i,ref:e}))});function PV(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var ky=()=>{var t,e=Qn(),n=Oe(LW),r=Oe(Oy),i=(t=Oe(Dy))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},tJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},NV=()=>{var t;return(t=Oe(Rn))!==null&&t!==void 0?t:tJ},RV=()=>Oe(ua),MV=()=>Oe(ca),dt=t=>t.layout.layoutType,Wd=()=>Oe(dt),nJ=()=>{var t=Wd();return t!==void 0},Ly=t=>{var e=Qt(),n=Qn(),{width:r,height:i}=t,o=fx(),l=r,u=i;return o&&(l=o.width>0?o.width:r,u=o.height>0?o.height:i),P.useEffect(()=>{!n&&vo(l)&&vo(u)&&e(oW({width:l,height:u}))},[e,n,l,u]),null},DV=Symbol.for("immer-nothing"),hR=Symbol.for("immer-draftable"),Ur=Symbol.for("immer-state");function xi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var bd=Object.getPrototypeOf;function cc(t){return!!t&&!!t[Ur]}function Pl(t){var e;return t?OV(t)||Array.isArray(t)||!!t[hR]||!!((e=t.constructor)!=null&&e[hR])||Jd(t)||Vy(t):!1}var rJ=Object.prototype.constructor.toString(),pR=new WeakMap;function OV(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=pR.get(n);return r===void 0&&(r=Function.toString.call(n),pR.set(n,r)),r===rJ}function dg(t,e,n=!0){Uy(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Uy(t){const e=t[Ur];return e?e.type_:Array.isArray(t)?1:Jd(t)?2:Vy(t)?3:0}function sT(t,e){return Uy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function kV(t,e,n){const r=Uy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function iJ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Jd(t){return t instanceof Map}function Vy(t){return t instanceof Set}function ul(t){return t.copy_||t.base_}function lT(t,e){if(Jd(t))return new Map(t);if(Vy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=OV(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ur];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[l]})}return Object.create(bd(t),r)}else{const r=bd(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function dx(t,e=!1){return qy(t)||cc(t)||!Pl(t)||(Uy(t)>1&&Object.defineProperties(t,{set:tm,add:tm,clear:tm,delete:tm}),Object.freeze(t),e&&Object.values(t).forEach(n=>dx(n,!0))),t}function oJ(){xi(2)}var tm={value:oJ};function qy(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var aJ={};function Nl(t){const e=aJ[t];return e||xi(0,t),e}var Ed;function LV(){return Ed}function sJ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function mR(t,e){e&&(Nl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function uT(t){cT(t),t.drafts_.forEach(lJ),t.drafts_=null}function cT(t){t===Ed&&(Ed=t.parent_)}function gR(t){return Ed=sJ(Ed,t)}function lJ(t){const e=t[Ur];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function yR(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ur].modified_&&(uT(e),xi(4)),Pl(t)&&(t=hg(e,t),e.parent_||pg(e,t)),e.patches_&&Nl("Patches").generateReplacementPatches_(n[Ur].base_,t,e.patches_,e.inversePatches_)):t=hg(e,n,[]),uT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==DV?t:void 0}function hg(t,e,n){if(qy(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Ur];if(!i)return dg(e,(o,l)=>vR(t,i,e,o,l,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return pg(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,u=!1;i.type_===3&&(l=new Set(o),o.clear(),u=!0),dg(l,(f,d)=>vR(t,i,o,f,d,n,u),r),pg(t,o,!1),n&&t.patches_&&Nl("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function vR(t,e,n,r,i,o,l){if(i==null||typeof i!="object"&&!l)return;const u=qy(i);if(!(u&&!l)){if(cc(i)){const f=o&&e&&e.type_!==3&&!sT(e.assigned_,r)?o.concat(r):void 0,d=hg(t,i,f);if(kV(n,r,d),cc(d))t.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Pl(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;hg(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Jd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&pg(t,i)}}}function pg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&dx(e,n)}function uJ(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:LV(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=hx;n&&(i=[r],o=Td);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,u}var hx={get(t,e){if(e===Ur)return t;const n=ul(t);if(!sT(n,e))return cJ(t,n,e);const r=n[e];return t.finalized_||!Pl(r)?r:r===Ob(t.base_,e)?(kb(t),t.copy_[e]=dT(r,t)):r},has(t,e){return e in ul(t)},ownKeys(t){return Reflect.ownKeys(ul(t))},set(t,e,n){const r=UV(ul(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Ob(ul(t),e),o=i==null?void 0:i[Ur];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(iJ(n,i)&&(n!==void 0||sT(t.base_,e)))return!0;kb(t),fT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Ob(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,kb(t),fT(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ul(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){xi(11)},getPrototypeOf(t){return bd(t.base_)},setPrototypeOf(){xi(12)}},Td={};dg(hx,(t,e)=>{Td[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Td.deleteProperty=function(t,e){return Td.set.call(this,t,e,void 0)};Td.set=function(t,e,n){return hx.set.call(this,t[0],e,n,t[0])};function Ob(t,e){const n=t[Ur];return(n?ul(n):t)[e]}function cJ(t,e,n){var i;const r=UV(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function UV(t,e){if(!(e in t))return;let n=bd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=bd(n)}}function fT(t){t.modified_||(t.modified_=!0,t.parent_&&fT(t.parent_))}function kb(t){t.copy_||(t.copy_=lT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var fJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const l=this;return function(f=o,...d){return l.produce(f,h=>n.call(this,h,...d))}}typeof n!="function"&&xi(6),r!==void 0&&typeof r!="function"&&xi(7);let i;if(Pl(e)){const o=gR(this),l=dT(e,void 0);let u=!0;try{i=n(l),u=!1}finally{u?uT(o):cT(o)}return mR(o,r),yR(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===DV&&(i=void 0),this.autoFreeze_&&dx(i,!0),r){const o=[],l=[];Nl("Patches").generateReplacementPatches_(e,i,o,l),r(o,l)}return i}else xi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(l,...u)=>this.produceWithPatches(l,f=>e(f,...u));let r,i;return[this.produce(e,n,(l,u)=>{r=l,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Pl(t)||xi(8),cc(t)&&(t=dJ(t));const e=gR(this),n=dT(t,void 0);return n[Ur].isManual_=!0,cT(e),n}finishDraft(t,e){const n=t&&t[Ur];(!n||!n.isManual_)&&xi(9);const{scope_:r}=n;return mR(r,e),yR(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Nl("Patches").applyPatches_;return cc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function dT(t,e){const n=Jd(t)?Nl("MapSet").proxyMap_(t,e):Vy(t)?Nl("MapSet").proxySet_(t,e):uJ(t,e);return(e?e.scope_:LV()).drafts_.push(n),n}function dJ(t){return cc(t)||xi(10,t),VV(t)}function VV(t){if(!Pl(t)||qy(t))return t;const e=t[Ur];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=lT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=lT(t,!0);return dg(n,(i,o)=>{kV(n,i,VV(o))},r),e&&(e.finalized_=!1),n}var hJ=new fJ;hJ.produce;var pJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},qV=Tr({name:"legend",initialState:pJ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Lt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ii(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Lt()},removeLegendPayload:{reducer(t,e){var n=Ii(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Lt()}}}),{setLegendSize:Kge,setLegendSettings:Yge,addLegendPayload:mJ,replaceLegendPayload:gJ,removeLegendPayload:yJ}=qV.actions,vJ=qV.reducer;function hT(){return hT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hT.apply(null,arguments)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){_J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _J(t,e,n){return(e=bJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bJ(t){var e=EJ(t,"string");return typeof e=="symbol"?e:e+""}function EJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TJ(t){return Array.isArray(t)&&yo(t[0])&&yo(t[1])?t.join(" ~ "):t}var SJ=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:v=!1}=t,E=()=>{if(o&&o.length){var F={padding:0,margin:0},G=(u?Ey(o,u):o).map((O,k)=>{if(O.type==="none")return null;var M=O.formatter||l||TJ,{value:V,name:U}=O,B=V,H=U;if(M){var Se=M(V,U,O,k,o);if(Array.isArray(Se))[B,H]=Se;else if(Se!=null)B=Se;else return null}var we=Lb({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},r);return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:we},yo(H)?P.createElement("span",{className:"recharts-tooltip-item-name"},H):null,yo(H)?P.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,P.createElement("span",{className:"recharts-tooltip-item-value"},B),P.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:F},G)}return null},A=Lb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),x=Lb({margin:0},i),C=!Vt(h),R=C?h:"",z=St("recharts-default-tooltip",f),D=St("recharts-tooltip-label",d);C&&m&&o!==void 0&&o!==null&&(R=m(h,o));var q=v?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",hT({className:z,style:A},q),P.createElement("p",{className:D,style:x},P.isValidElement(R)?R:"".concat(R)),E())},Uf="recharts-tooltip-wrapper",xJ={visibility:"hidden"};function AJ(t){var{coordinate:e,translateX:n,translateY:r}=t;return St(Uf,{["".concat(Uf,"-right")]:De(n)&&e&&De(e.x)&&n>=e.x,["".concat(Uf,"-left")]:De(n)&&e&&De(e.x)&&n<e.x,["".concat(Uf,"-bottom")]:De(r)&&e&&De(e.y)&&r>=e.y,["".concat(Uf,"-top")]:De(r)&&e&&De(e.y)&&r<e.y})}function bR(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:d}=t;if(o&&De(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(e[r])return l[r]?h:m;var v=f[r];if(v==null)return 0;if(l[r]){var E=h,A=v;return E<A?Math.max(m,v):Math.max(h,v)}if(d==null)return 0;var x=m+u,C=v+d;return x>C?Math.max(h,v):Math.max(m,v)}function wJ(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function CJ(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:u,viewBox:f}=t,d,h,m;return l.height>0&&l.width>0&&n?(h=bR({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),m=bR({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),d=wJ({translateX:h,translateY:m,useTranslate3d:u})):d=xJ,{cssProperties:d,cssClasses:AJ({translateX:h,translateY:m,coordinate:n})}}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){pT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pT(t,e,n){return(e=IJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IJ(t){var e=PJ(t,"string");return typeof e=="symbol"?e:e+""}function PJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class NJ extends P.PureComponent{constructor(){super(...arguments),pT(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),pT(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:u,isAnimationActive:f,offset:d,position:h,reverseDirection:m,useTranslate3d:v,viewBox:E,wrapperStyle:A,lastBoundingBox:x,innerRef:C,hasPortalFromProps:R}=this.props,{cssClasses:z,cssProperties:D}=CJ({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:x.height,width:x.width},useTranslate3d:v,viewBox:E}),q=R?{}:nm(nm({transition:f&&e?"transform ".concat(r,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),F=nm(nm({},q),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},A);return P.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:z,style:F,ref:C},o)}}var zV=()=>{var t;return(t=Oe(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function mT(){return mT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mT.apply(null,arguments)}function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){RJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RJ(t,e,n){return(e=MJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MJ(t){var e=DJ(t,"string");return typeof e=="symbol"?e:e+""}function DJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xR={curveBasisClosed:M$,curveBasisOpen:D$,curveBasis:R$,curveBumpX:y$,curveBumpY:v$,curveLinearClosed:O$,curveLinear:_y,curveMonotoneX:k$,curveMonotoneY:L$,curveNatural:U$,curveStep:V$,curveStepAfter:z$,curveStepBefore:q$},mg=t=>Xt(t.x)&&Xt(t.y),AR=t=>t.base!=null&&mg(t.base)&&mg(t),Vf=t=>t.x,qf=t=>t.y,OJ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Fd(t));return(n==="curveMonotone"||n==="curveBump")&&e?xR["".concat(n).concat(e==="vertical"?"Y":"X")]:xR[n]||_y},kJ=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,l=OJ(e,i),u=o?n.filter(mg):n,f;if(Array.isArray(r)){var d=n.map((E,A)=>SR(SR({},E),{},{base:r[A]}));i==="vertical"?f=Yp().y(qf).x1(Vf).x0(E=>E.base.x):f=Yp().x(Vf).y1(qf).y0(E=>E.base.y);var h=f.defined(AR).curve(l),m=o?d.filter(AR):d;return h(m)}i==="vertical"&&De(r)?f=Yp().y(qf).x1(Vf).x0(r):De(r)?f=Yp().x(Vf).y1(qf).y0(r):f=yU().x(Vf).y(qf);var v=f.defined(mg).curve(l);return v(u)},BV=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?kJ(t):r;return P.createElement("path",mT({},Ni(t),QS(t),{className:St("recharts-curve",e),d:o===null?void 0:o,ref:i}))},LJ=["x","y","top","left","width","height","className"];function gT(){return gT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gT.apply(null,arguments)}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){VJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VJ(t,e,n){return(e=qJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qJ(t){var e=zJ(t,"string");return typeof e=="symbol"?e:e+""}function zJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BJ(t,e){if(t==null)return{};var n,r,i=jJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var FJ=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),HJ=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:u}=t,f=BJ(t,LJ),d=UJ({x:e,y:n,top:r,left:i,width:o,height:l},f);return!De(e)||!De(n)||!De(o)||!De(l)||!De(r)||!De(i)?null:P.createElement("path",gT({},or(d),{className:St("recharts-cross",u),d:FJ(e,n,o,l,r,i)}))};function GJ(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){$J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $J(t,e,n){return(e=KJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KJ(t){var e=YJ(t,"string");return typeof e=="symbol"?e:e+""}function YJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WJ=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),jV=(t,e,n)=>t.map(r=>"".concat(WJ(r)," ").concat(e,"ms ").concat(n)).join(","),JJ=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Sd=(t,e)=>Object.keys(e).reduce((n,r)=>IR(IR({},n),{},{[r]:t(r,e[r])}),{});function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){XJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XJ(t,e,n){return(e=QJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QJ(t){var e=ZJ(t,"string");return typeof e=="symbol"?e:e+""}function ZJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gg=(t,e,n)=>t+(e-t)*n,yT=t=>{var{from:e,to:n}=t;return e!==n},FV=(t,e,n)=>{var r=Sd((i,o)=>{if(yT(o)){var[l,u]=t(o.from,o.to,o.velocity);return pn(pn({},o),{},{from:l,velocity:u})}return o},e);return n<1?Sd((i,o)=>yT(o)?pn(pn({},o),{},{velocity:gg(o.velocity,r[i].velocity,n),from:gg(o.from,r[i].from,n)}):o,e):FV(t,r,n-1)};function eX(t,e,n,r,i,o){var l,u=r.reduce((v,E)=>pn(pn({},v),{},{[E]:{from:t[E],velocity:0,to:e[E]}}),{}),f=()=>Sd((v,E)=>E.from,u),d=()=>!Object.values(u).filter(yT).length,h=null,m=v=>{l||(l=v);var E=v-l,A=E/n.dt;u=FV(n,u,A),i(pn(pn(pn({},t),e),f())),l=v,d()||(h=o.setTimeout(m))};return()=>(h=o.setTimeout(m),()=>{var v;(v=h)===null||v===void 0||v()})}function tX(t,e,n,r,i,o,l){var u=null,f=i.reduce((m,v)=>pn(pn({},m),{},{[v]:[t[v],e[v]]}),{}),d,h=m=>{d||(d=m);var v=(m-d)/r,E=Sd((x,C)=>gg(...C,n(v)),f);if(o(pn(pn(pn({},t),e),E)),v<1)u=l.setTimeout(h);else{var A=Sd((x,C)=>gg(...C,n(1)),f);o(pn(pn(pn({},t),e),A))}};return()=>(u=l.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const nX=(t,e,n,r,i,o)=>{var l=JJ(t,e);return n==null?()=>(i(pn(pn({},t),e)),()=>{}):n.isStepper===!0?eX(t,e,n,l,i,o):tX(t,e,n,r,l,i,o)};var yg=1e-4,HV=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],GV=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),NR=(t,e)=>n=>{var r=HV(t,e);return GV(r,n)},rX=(t,e)=>n=>{var r=HV(t,e),i=[...r.map((o,l)=>o*l).slice(1),0];return GV(i,n)},iX=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,o=n[0].split("(");if(o[0]==="cubic-bezier"&&((i=o[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var l=o[1].split(")")[0].split(",").map(u=>parseFloat(u));return[l[0],l[1],l[2],l[3]]}}}return n.length===4?n:[0,0,1,1]},oX=(t,e,n,r)=>{var i=NR(t,n),o=NR(e,r),l=rX(t,n),u=d=>d>1?1:d<0?0:d,f=d=>{for(var h=d>1?1:d,m=h,v=0;v<8;++v){var E=i(m)-h,A=l(m);if(Math.abs(E-h)<yg||A<yg)return o(m);m=u(m-E/A)}return o(m)};return f.isStepper=!1,f},RR=function(){return oX(...iX(...arguments))},aX=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(l,u,f)=>{var d=-(l-u)*n,h=f*r,m=f+(d-h)*i/1e3,v=f*i/1e3+l;return Math.abs(v-u)<yg&&Math.abs(m)<yg?[u,0]:[v,m]};return o.isStepper=!0,o.dt=i,o},sX=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return RR(t);case"spring":return aX();default:if(t.split("(")[0]==="cubic-bezier")return RR(t)}return typeof t=="function"?t:null};function lX(t){var e,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...d]=u;if(typeof f=="number"){i=t.setTimeout(o.bind(null,d),f);return}o(f),i=t.setTimeout(o.bind(null,d));return}typeof l=="string"&&(e=l,n(e)),typeof l=="object"&&(e=l,n(e)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>t}}class uX{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function cX(){return lX(new uX)}var fX=P.createContext(cX);function dX(t,e){var n=P.useContext(fX);return P.useMemo(()=>e??n(t),[t,e,n])}var hX=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Xd={devToolsEnabled:!1,isSsr:hX()},pX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},MR={t:0},Ub={t:1};function zy(t){var e=sr(t,pX),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:u,onAnimationStart:f,children:d}=e,h=n==="auto"?!Xd.isSsr:n,m=dX(e.animationId,e.animationManager),[v,E]=P.useState(h?MR:Ub),A=P.useRef(null);return P.useEffect(()=>{h||E(Ub)},[h]),P.useEffect(()=>{if(!h||!r)return Hd;var x=nX(MR,Ub,sX(o),i,E,m.getTimeoutController()),C=()=>{A.current=x()};return m.start([f,l,C,i,u]),()=>{m.stop(),A.current&&A.current(),u()}},[h,r,i,o,l,f,u,m]),d(v.t)}function By(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=P.useRef(gd(e)),r=P.useRef(t);return r.current!==t&&(n.current=gd(e),r.current=t),n.current}var mX=["radius"],gX=["radius"];function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){yX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yX(t,e,n){return(e=vX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vX(t){var e=_X(t,"string");return typeof e=="symbol"?e:e+""}function _X(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(null,arguments)}function kR(t,e){if(t==null)return{};var n,r,i=bX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var LR=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,v=4;m<v;m++)h[m]=i[m]>o?o:i[m];d="M".concat(t,",").concat(e+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(t+u*h[0],",").concat(e)),d+="L ".concat(t+n-u*h[1],",").concat(e),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(e+l*h[1])),d+="L ".concat(t+n,",").concat(e+r-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(t+n-u*h[2],",").concat(e+r)),d+="L ".concat(t+u*h[3],",").concat(e+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(e+r-l*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var E=Math.min(o,i);d="M ".concat(t,",").concat(e+l*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(t+u*E,",").concat(e,`
            L `).concat(t+n-u*E,",").concat(e,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(t+n,",").concat(e+l*E,`
            L `).concat(t+n,",").concat(e+r-l*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(t+n-u*E,",").concat(e+r,`
            L `).concat(t+u*E,",").concat(e+r,`
            A `).concat(E,",").concat(E,",0,0,").concat(f,",").concat(t,",").concat(e+r-l*E," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},UR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$V=t=>{var e=sr(t,UR),n=P.useRef(null),[r,i]=P.useState(-1);P.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ue=n.current.getTotalLength();ue&&i(ue)}catch{}},[]);var{x:o,y:l,width:u,height:f,radius:d,className:h}=e,{animationEasing:m,animationDuration:v,animationBegin:E,isAnimationActive:A,isUpdateAnimationActive:x}=e,C=P.useRef(u),R=P.useRef(f),z=P.useRef(o),D=P.useRef(l),q=P.useMemo(()=>({x:o,y:l,width:u,height:f,radius:d}),[o,l,u,f,d]),F=By(q,"rectangle-");if(o!==+o||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var G=St("recharts-rectangle",h);if(!x){var O=or(e),{radius:k}=O,M=kR(O,mX);return P.createElement("path",vg({},M,{radius:typeof d=="number"?d:void 0,className:G,d:LR(o,l,u,f,d)}))}var V=C.current,U=R.current,B=z.current,H=D.current,Se="0px ".concat(r===-1?1:r,"px"),we="".concat(r,"px 0px"),X=jV(["strokeDasharray"],v,typeof m=="string"?m:UR.animationEasing);return P.createElement(zy,{animationId:F,key:F,canBegin:r>0,duration:v,easing:m,isActive:x,begin:E},ue=>{var ye=Ft(V,u,ue),ve=Ft(U,f,ue),Ve=Ft(B,o,ue),K=Ft(H,l,ue);n.current&&(C.current=ye,R.current=ve,z.current=Ve,D.current=K);var le;A?ue>0?le={transition:X,strokeDasharray:we}:le={strokeDasharray:Se}:le={strokeDasharray:we};var Ee=or(e),{radius:se}=Ee,he=kR(Ee,gX);return P.createElement("path",vg({},he,{radius:typeof d=="number"?d:void 0,className:G,d:LR(Ve,K,ye,ve,d),ref:n,style:OR(OR({},le),e.style)}))})};function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){EX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EX(t,e,n){return(e=TX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TX(t){var e=SX(t,"string");return typeof e=="symbol"?e:e+""}function SX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _g=Math.PI/180,xX=t=>t*180/Math.PI,jn=(t,e,n,r)=>({x:t+Math.cos(-_g*r)*n,y:e+Math.sin(-_g*r)*n}),AX=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},wX=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},CX=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,l=wX({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,f=Math.acos(u);return r>o&&(f=2*Math.PI-f),{radius:l,angle:xX(f),angleInRadian:f}},IX=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},PX=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return t+l*360},NX=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=CX({x:n,y:r},e),{innerRadius:l,outerRadius:u}=e;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:d}=IX(e),h=o,m;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}return m?qR(qR({},e),{},{radius:i,angle:PX(h,e)}):null};function KV(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,l=jn(e,n,r,i),u=jn(e,n,r,o);return{points:[l,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function vT(){return vT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vT.apply(null,arguments)}var RX=(t,e)=>{var n=_r(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},rm=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:u,cornerIsExternal:f}=t,d=u*(l?1:-1)+r,h=Math.asin(u/d)/_g,m=f?i:i+o*h,v=jn(e,n,d,m),E=jn(e,n,r,m),A=f?i-o*h:i,x=jn(e,n,d*Math.cos(h*_g),A);return{center:v,circleTangency:E,lineTangency:x,theta:h}},YV=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=t,u=RX(o,l),f=o+u,d=jn(e,n,i,o),h=jn(e,n,i,f),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var v=jn(e,n,r,o),E=jn(e,n,r,f);m+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else m+="L ".concat(e,",").concat(n," Z");return m},MX=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}=t,h=_r(d-f),{circleTangency:m,lineTangency:v,theta:E}=rm({cx:e,cy:n,radius:i,angle:f,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:A,lineTangency:x,theta:C}=rm({cx:e,cy:n,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:u}),R=u?Math.abs(f-d):Math.abs(f-d)-E-C;if(R<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):YV({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var z="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
  `);if(r>0){var{circleTangency:D,lineTangency:q,theta:F}=rm({cx:e,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:G,lineTangency:O,theta:k}=rm({cx:e,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),M=u?Math.abs(f-d):Math.abs(f-d)-F-k;if(M<0&&o===0)return"".concat(z,"L").concat(e,",").concat(n,"Z");z+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(G.x,",").concat(G.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(M>180),",").concat(+(h>0),",").concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(q.x,",").concat(q.y,"Z")}else z+="L".concat(e,",").concat(n,"Z");return z},DX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WV=t=>{var e=sr(t,DX),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h,className:m}=e;if(o<i||d===h)return null;var v=St("recharts-sector",m),E=o-i,A=Mi(l,E,0,!0),x;return A>0&&Math.abs(d-h)<360?x=MX({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(A,E/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h}):x=YV({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),P.createElement("path",vT({},or(e),{className:v,d:x}))};function OX(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(DU(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:l,angle:u}=e,f=jn(r,i,o,u),d=jn(r,i,l,u);return[{x:f.x,y:f.y},{x:d.x,y:d.y}]}return KV(e)}}var Vb={},qb={},zb={},zR;function kX(){return zR||(zR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HU();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(zb)),zb}var BR;function LX(){return BR||(BR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kX();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(qb)),qb}var jR;function UX(){return jR||(jR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GU(),n=LX();function r(i,o,l){l&&typeof l!="number"&&e.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),f=new Array(u);for(let d=0;d<u;d++)f[d]=i,i+=l;return f}t.range=r})(Vb)),Vb}var Bb,FR;function VX(){return FR||(FR=1,Bb=UX().range),Bb}var qX=VX();const JV=bo(qX);function ds(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function zX(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function px(t){let e,n,r;t.length!==2?(e=ds,n=(u,f)=>ds(t(u),f),r=(u,f)=>t(u)-f):(e=t===ds||t===zX?t:BX,n=t,r=t);function i(u,f,d=0,h=u.length){if(d<h){if(e(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<0?d=m+1:h=m}while(d<h)}return d}function o(u,f,d=0,h=u.length){if(d<h){if(e(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<=0?d=m+1:h=m}while(d<h)}return d}function l(u,f,d=0,h=u.length){const m=i(u,f,d,h-1);return m>d&&r(u[m-1],f)>-r(u[m],f)?m-1:m}return{left:i,center:l,right:o}}function BX(){return 0}function XV(t){return t===null?NaN:+t}function*jX(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const FX=px(ds),Qd=FX.right;px(XV).center;class HR extends Map{constructor(e,n=$X){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(GR(this,e))}has(e){return super.has(GR(this,e))}set(e,n){return super.set(HX(this,e),n)}delete(e){return super.delete(GX(this,e))}}function GR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function HX({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function GX({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function $X(t){return t!==null&&typeof t=="object"?t.valueOf():t}function KX(t=ds){if(t===ds)return QV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function QV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const YX=Math.sqrt(50),WX=Math.sqrt(10),JX=Math.sqrt(2);function bg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=YX?10:o>=WX?5:o>=JX?2:1;let u,f,d;return i<0?(d=Math.pow(10,-i)/l,u=Math.round(t*d),f=Math.round(e*d),u/d<t&&++u,f/d>e&&--f,d=-d):(d=Math.pow(10,i)*l,u=Math.round(t/d),f=Math.round(e/d),u*d<t&&++u,f*d>e&&--f),f<u&&.5<=n&&n<2?bg(t,e,n*2):[u,f,d]}function _T(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,l]=r?bg(e,t,n):bg(t,e,n);if(!(o>=i))return[];const u=o-i+1,f=new Array(u);if(r)if(l<0)for(let d=0;d<u;++d)f[d]=(o-d)/-l;else for(let d=0;d<u;++d)f[d]=(o-d)*l;else if(l<0)for(let d=0;d<u;++d)f[d]=(i+d)/-l;else for(let d=0;d<u;++d)f[d]=(i+d)*l;return f}function bT(t,e,n){return e=+e,t=+t,n=+n,bg(t,e,n)[2]}function ET(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?bT(e,t,n):bT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function $R(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function KR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ZV(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?QV:KX(i);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,h=Math.log(f),m=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*m*(f-m)/f)*(d-f/2<0?-1:1),E=Math.max(n,Math.floor(e-d*m/f+v)),A=Math.min(r,Math.floor(e+(f-d)*m/f+v));ZV(t,e,E,A,i)}const o=t[e];let l=n,u=r;for(zf(t,n,e),i(t[r],o)>0&&zf(t,n,r);l<u;){for(zf(t,l,u),++l,--u;i(t[l],o)<0;)++l;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?zf(t,n,u):(++u,zf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function zf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function XX(t,e,n){if(t=Float64Array.from(jX(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return KR(t);if(e>=1)return $R(t);var r,i=(r-1)*e,o=Math.floor(i),l=$R(ZV(t,o).subarray(0,o+1)),u=KR(t.subarray(o+1));return l+(u-l)*(i-o)}}function QX(t,e,n=XV){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),l=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return l+(u-l)*(i-o)}}function ZX(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function si(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const TT=Symbol("implicit");function mx(){var t=new HR,e=[],n=[],r=TT;function i(o){let l=t.get(o);if(l===void 0){if(r!==TT)return r;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new HR;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return mx(e,n).unknown(r)},si.apply(i,arguments),i}function gx(){var t=mx().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,l,u=!1,f=0,d=0,h=.5;delete t.unknown;function m(){var v=e().length,E=i<r,A=E?i:r,x=E?r:i;o=(x-A)/Math.max(1,v-f+d*2),u&&(o=Math.floor(o)),A+=(x-A-o*(v-f))*h,l=o*(1-f),u&&(A=Math.round(A),l=Math.round(l));var C=ZX(v).map(function(R){return A+o*R});return n(E?C.reverse():C)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,m()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(v){return arguments.length?(u=!!v,m()):u},t.padding=function(v){return arguments.length?(f=Math.min(1,d=+v),m()):f},t.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),m()):f},t.paddingOuter=function(v){return arguments.length?(d=+v,m()):d},t.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),m()):h},t.copy=function(){return gx(e(),[r,i]).round(u).paddingInner(f).paddingOuter(d).align(h)},si.apply(m(),arguments)}function e4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e4(e())},t}function eQ(){return e4(gx.apply(null,arguments).paddingInner(1))}function yx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function t4(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Zd(){}var xd=.7,Eg=1/xd,Ku="\\s*([+-]?\\d+)\\s*",Ad="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tQ=/^#([0-9a-f]{3,8})$/,nQ=new RegExp(`^rgb\\(${Ku},${Ku},${Ku}\\)$`),rQ=new RegExp(`^rgb\\(${ho},${ho},${ho}\\)$`),iQ=new RegExp(`^rgba\\(${Ku},${Ku},${Ku},${Ad}\\)$`),oQ=new RegExp(`^rgba\\(${ho},${ho},${ho},${Ad}\\)$`),aQ=new RegExp(`^hsl\\(${Ad},${ho},${ho}\\)$`),sQ=new RegExp(`^hsla\\(${Ad},${ho},${ho},${Ad}\\)$`),YR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yx(Zd,wd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:WR,formatHex:WR,formatHex8:lQ,formatHsl:uQ,formatRgb:JR,toString:JR});function WR(){return this.rgb().formatHex()}function lQ(){return this.rgb().formatHex8()}function uQ(){return n4(this).formatHsl()}function JR(){return this.rgb().formatRgb()}function wd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=tQ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?XR(e):n===3?new br(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?im(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?im(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nQ.exec(t))?new br(e[1],e[2],e[3],1):(e=rQ.exec(t))?new br(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=iQ.exec(t))?im(e[1],e[2],e[3],e[4]):(e=oQ.exec(t))?im(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=aQ.exec(t))?eM(e[1],e[2]/100,e[3]/100,1):(e=sQ.exec(t))?eM(e[1],e[2]/100,e[3]/100,e[4]):YR.hasOwnProperty(t)?XR(YR[t]):t==="transparent"?new br(NaN,NaN,NaN,0):null}function XR(t){return new br(t>>16&255,t>>8&255,t&255,1)}function im(t,e,n,r){return r<=0&&(t=e=n=NaN),new br(t,e,n,r)}function cQ(t){return t instanceof Zd||(t=wd(t)),t?(t=t.rgb(),new br(t.r,t.g,t.b,t.opacity)):new br}function ST(t,e,n,r){return arguments.length===1?cQ(t):new br(t,e,n,r??1)}function br(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}yx(br,ST,t4(Zd,{brighter(t){return t=t==null?Eg:Math.pow(Eg,t),new br(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?xd:Math.pow(xd,t),new br(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new br(El(this.r),El(this.g),El(this.b),Tg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QR,formatHex:QR,formatHex8:fQ,formatRgb:ZR,toString:ZR}));function QR(){return`#${hl(this.r)}${hl(this.g)}${hl(this.b)}`}function fQ(){return`#${hl(this.r)}${hl(this.g)}${hl(this.b)}${hl((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZR(){const t=Tg(this.opacity);return`${t===1?"rgb(":"rgba("}${El(this.r)}, ${El(this.g)}, ${El(this.b)}${t===1?")":`, ${t})`}`}function Tg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function El(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hl(t){return t=El(t),(t<16?"0":"")+t.toString(16)}function eM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ai(t,e,n,r)}function n4(t){if(t instanceof Ai)return new Ai(t.h,t.s,t.l,t.opacity);if(t instanceof Zd||(t=wd(t)),!t)return new Ai;if(t instanceof Ai)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,u=o-i,f=(o+i)/2;return u?(e===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-e)/u+2:l=(e-n)/u+4,u/=f<.5?o+i:2-o-i,l*=60):u=f>0&&f<1?0:l,new Ai(l,u,f,t.opacity)}function dQ(t,e,n,r){return arguments.length===1?n4(t):new Ai(t,e,n,r??1)}function Ai(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}yx(Ai,dQ,t4(Zd,{brighter(t){return t=t==null?Eg:Math.pow(Eg,t),new Ai(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?xd:Math.pow(xd,t),new Ai(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new br(jb(t>=240?t-240:t+120,i,r),jb(t,i,r),jb(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ai(tM(this.h),om(this.s),om(this.l),Tg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Tg(this.opacity);return`${t===1?"hsl(":"hsla("}${tM(this.h)}, ${om(this.s)*100}%, ${om(this.l)*100}%${t===1?")":`, ${t})`}`}}));function tM(t){return t=(t||0)%360,t<0?t+360:t}function om(t){return Math.max(0,Math.min(1,t||0))}function jb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const vx=t=>()=>t;function hQ(t,e){return function(n){return t+n*e}}function pQ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function mQ(t){return(t=+t)==1?r4:function(e,n){return n-e?pQ(e,n,t):vx(isNaN(e)?n:e)}}function r4(t,e){var n=e-t;return n?hQ(t,n):vx(isNaN(t)?e:t)}const nM=(function t(e){var n=mQ(e);function r(i,o){var l=n((i=ST(i)).r,(o=ST(o)).r),u=n(i.g,o.g),f=n(i.b,o.b),d=r4(i.opacity,o.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=f(h),i.opacity=d(h),i+""}}return r.gamma=t,r})(1);function gQ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function yQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vQ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=Tc(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function _Q(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Sg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function bQ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Tc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var xT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fb=new RegExp(xT.source,"g");function EQ(t){return function(){return t}}function TQ(t){return function(e){return t(e)+""}}function SQ(t,e){var n=xT.lastIndex=Fb.lastIndex=0,r,i,o,l=-1,u=[],f=[];for(t=t+"",e=e+"";(r=xT.exec(t))&&(i=Fb.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:Sg(r,i)})),n=Fb.lastIndex;return n<e.length&&(o=e.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?f[0]?TQ(f[0].x):EQ(e):(e=f.length,function(d){for(var h=0,m;h<e;++h)u[(m=f[h]).i]=m.x(d);return u.join("")})}function Tc(t,e){var n=typeof e,r;return e==null||n==="boolean"?vx(e):(n==="number"?Sg:n==="string"?(r=wd(e))?(e=r,nM):SQ:e instanceof wd?nM:e instanceof Date?_Q:yQ(e)?gQ:Array.isArray(e)?vQ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?bQ:Sg)(t,e)}function _x(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function xQ(t,e){e===void 0&&(e=t,t=Tc);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function AQ(t){return function(){return t}}function xg(t){return+t}var rM=[0,1];function ir(t){return t}function AT(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:AQ(isNaN(e)?NaN:.5)}function wQ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function CQ(t,e,n){var r=t[0],i=t[1],o=e[0],l=e[1];return i<r?(r=AT(i,r),o=n(l,o)):(r=AT(r,i),o=n(o,l)),function(u){return o(r(u))}}function IQ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=AT(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(u){var f=Qd(t,u,1,r)-1;return o[f](i[f](u))}}function eh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jy(){var t=rM,e=rM,n=Tc,r,i,o,l=ir,u,f,d;function h(){var v=Math.min(t.length,e.length);return l!==ir&&(l=wQ(t[0],t[v-1])),u=v>2?IQ:CQ,f=d=null,m}function m(v){return v==null||isNaN(v=+v)?o:(f||(f=u(t.map(r),e,n)))(r(l(v)))}return m.invert=function(v){return l(i((d||(d=u(e,t.map(r),Sg)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,xg),h()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),h()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),n=_x,h()},m.clamp=function(v){return arguments.length?(l=v?!0:ir,h()):l!==ir},m.interpolate=function(v){return arguments.length?(n=v,h()):n},m.unknown=function(v){return arguments.length?(o=v,m):o},function(v,E){return r=v,i=E,h()}}function bx(){return jy()(ir,ir)}function PQ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ag(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function fc(t){return t=Ag(Math.abs(t)),t?t[1]:NaN}function NQ(t,e){return function(n,r){for(var i=n.length,o=[],l=0,u=t[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=t[l=(l+1)%t.length];return o.reverse().join(e)}}function RQ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var MQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cd(t){if(!(e=MQ.exec(t)))throw new Error("invalid format: "+t);var e;return new Ex({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Cd.prototype=Ex.prototype;function Ex(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ex.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function DQ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var i4;function OQ(t,e){var n=Ag(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(i4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ag(t,Math.max(0,e+o-1))[0]}function iM(t,e){var n=Ag(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const oM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:PQ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>iM(t*100,e),r:iM,s:OQ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function aM(t){return t}var sM=Array.prototype.map,lM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kQ(t){var e=t.grouping===void 0||t.thousands===void 0?aM:NQ(sM.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?aM:RQ(sM.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(m){m=Cd(m);var v=m.fill,E=m.align,A=m.sign,x=m.symbol,C=m.zero,R=m.width,z=m.comma,D=m.precision,q=m.trim,F=m.type;F==="n"?(z=!0,F="g"):oM[F]||(D===void 0&&(D=12),q=!0,F="g"),(C||v==="0"&&E==="=")&&(C=!0,v="0",E="=");var G=x==="$"?n:x==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",O=x==="$"?r:/[%p]/.test(F)?l:"",k=oM[F],M=/[defgprs%]/.test(F);D=D===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function V(U){var B=G,H=O,Se,we,X;if(F==="c")H=k(U)+H,U="";else{U=+U;var ue=U<0||1/U<0;if(U=isNaN(U)?f:k(Math.abs(U),D),q&&(U=DQ(U)),ue&&+U==0&&A!=="+"&&(ue=!1),B=(ue?A==="("?A:u:A==="-"||A==="("?"":A)+B,H=(F==="s"?lM[8+i4/3]:"")+H+(ue&&A==="("?")":""),M){for(Se=-1,we=U.length;++Se<we;)if(X=U.charCodeAt(Se),48>X||X>57){H=(X===46?i+U.slice(Se+1):U.slice(Se))+H,U=U.slice(0,Se);break}}}z&&!C&&(U=e(U,1/0));var ye=B.length+U.length+H.length,ve=ye<R?new Array(R-ye+1).join(v):"";switch(z&&C&&(U=e(ve+U,ve.length?R-H.length:1/0),ve=""),E){case"<":U=B+U+H+ve;break;case"=":U=B+ve+U+H;break;case"^":U=ve.slice(0,ye=ve.length>>1)+B+U+H+ve.slice(ye);break;default:U=ve+B+U+H;break}return o(U)}return V.toString=function(){return m+""},V}function h(m,v){var E=d((m=Cd(m),m.type="f",m)),A=Math.max(-8,Math.min(8,Math.floor(fc(v)/3)))*3,x=Math.pow(10,-A),C=lM[8+A/3];return function(R){return E(x*R)+C}}return{format:d,formatPrefix:h}}var am,Tx,o4;LQ({thousands:",",grouping:[3],currency:["$",""]});function LQ(t){return am=kQ(t),Tx=am.format,o4=am.formatPrefix,am}function UQ(t){return Math.max(0,-fc(Math.abs(t)))}function VQ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fc(e)/3)))*3-fc(Math.abs(t)))}function qQ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,fc(e)-fc(t))+1}function a4(t,e,n,r){var i=ET(t,e,n),o;switch(r=Cd(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=VQ(i,l))&&(r.precision=o),o4(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=qQ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=UQ(i))&&(r.precision=o-(r.type==="%")*2);break}}return Tx(r)}function ws(t){var e=t.domain;return t.ticks=function(n){var r=e();return _T(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return a4(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,l=r[i],u=r[o],f,d,h=10;for(u<l&&(d=l,l=u,u=d,d=i,i=o,o=d);h-- >0;){if(d=bT(l,u,n),d===f)return r[i]=l,r[o]=u,e(r);if(d>0)l=Math.floor(l/d)*d,u=Math.ceil(u/d)*d;else if(d<0)l=Math.ceil(l*d)/d,u=Math.floor(u*d)/d;else break;f=d}return t},t}function s4(){var t=bx();return t.copy=function(){return eh(t,s4())},si.apply(t,arguments),ws(t)}function l4(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,xg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return l4(t).unknown(e)},t=arguments.length?Array.from(t,xg):[0,1],ws(n)}function u4(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),t[n]=e.floor(i),t[r]=e.ceil(o),t}function uM(t){return Math.log(t)}function cM(t){return Math.exp(t)}function zQ(t){return-Math.log(-t)}function BQ(t){return-Math.exp(-t)}function jQ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function FQ(t){return t===10?jQ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function HQ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function fM(t){return(e,n)=>-t(-e,n)}function Sx(t){const e=t(uM,cM),n=e.domain;let r=10,i,o;function l(){return i=HQ(r),o=FQ(r),n()[0]<0?(i=fM(i),o=fM(o),t(zQ,BQ)):t(uM,cM),e}return e.base=function(u){return arguments.length?(r=+u,l()):r},e.domain=function(u){return arguments.length?(n(u),l()):n()},e.ticks=u=>{const f=n();let d=f[0],h=f[f.length-1];const m=h<d;m&&([d,h]=[h,d]);let v=i(d),E=i(h),A,x;const C=u==null?10:+u;let R=[];if(!(r%1)&&E-v<C){if(v=Math.floor(v),E=Math.ceil(E),d>0){for(;v<=E;++v)for(A=1;A<r;++A)if(x=v<0?A/o(-v):A*o(v),!(x<d)){if(x>h)break;R.push(x)}}else for(;v<=E;++v)for(A=r-1;A>=1;--A)if(x=v>0?A/o(-v):A*o(v),!(x<d)){if(x>h)break;R.push(x)}R.length*2<C&&(R=_T(d,h,C))}else R=_T(v,E,Math.min(E-v,C)).map(o);return m?R.reverse():R},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Cd(f)).precision==null&&(f.trim=!0),f=Tx(f)),u===1/0)return f;const d=Math.max(1,r*u/e.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?f(h):""}},e.nice=()=>n(u4(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function c4(){const t=Sx(jy()).domain([1,10]);return t.copy=()=>eh(t,c4()).base(t.base()),si.apply(t,arguments),t}function dM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function hM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function xx(t){var e=1,n=t(dM(e),hM(e));return n.constant=function(r){return arguments.length?t(dM(e=+r),hM(e)):e},ws(n)}function f4(){var t=xx(jy());return t.copy=function(){return eh(t,f4()).constant(t.constant())},si.apply(t,arguments)}function pM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function GQ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function $Q(t){return t<0?-t*t:t*t}function Ax(t){var e=t(ir,ir),n=1;function r(){return n===1?t(ir,ir):n===.5?t(GQ,$Q):t(pM(n),pM(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ws(e)}function wx(){var t=Ax(jy());return t.copy=function(){return eh(t,wx()).exponent(t.exponent())},si.apply(t,arguments),t}function KQ(){return wx.apply(null,arguments).exponent(.5)}function mM(t){return Math.sign(t)*t*t}function YQ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function d4(){var t=bx(),e=[0,1],n=!1,r;function i(o){var l=YQ(t(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return t.invert(mM(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,xg)).map(mM)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return d4(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},si.apply(i,arguments),ws(i)}function h4(){var t=[],e=[],n=[],r;function i(){var l=0,u=Math.max(1,e.length);for(n=new Array(u-1);++l<u;)n[l-1]=QX(t,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:e[Qd(n,l)]}return o.invertExtent=function(l){var u=e.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let u of l)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(ds),i()},o.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return h4().domain(t).range(e).unknown(r)},si.apply(o,arguments)}function p4(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function l(f){return f!=null&&f<=f?i[Qd(r,f,0,n)]:o}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},l.unknown=function(f){return arguments.length&&(o=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return p4().domain([t,e]).range(i).unknown(o)},si.apply(ws(l),arguments)}function m4(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Qd(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return m4().domain(t).range(e).unknown(n)},si.apply(i,arguments)}const Hb=new Date,Gb=new Date;function _n(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const f=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return f;let d;do f.push(d=new Date(+o)),e(o,u),t(o);while(d<o&&o<l);return f},i.filter=o=>_n(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;e(l,-1),!o(l););else for(;--u>=0;)for(;e(l,1),!o(l););}),n&&(i.count=(o,l)=>(Hb.setTime(+o),Gb.setTime(+l),t(Hb),t(Gb),Math.floor(n(Hb,Gb))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const wg=_n(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_n(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):wg);wg.range;const $o=1e3,ti=$o*60,Ko=ti*60,na=Ko*24,Cx=na*7,gM=na*30,$b=na*365,pl=_n(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*$o)},(t,e)=>(e-t)/$o,t=>t.getUTCSeconds());pl.range;const Ix=_n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$o)},(t,e)=>{t.setTime(+t+e*ti)},(t,e)=>(e-t)/ti,t=>t.getMinutes());Ix.range;const Px=_n(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ti)},(t,e)=>(e-t)/ti,t=>t.getUTCMinutes());Px.range;const Nx=_n(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$o-t.getMinutes()*ti)},(t,e)=>{t.setTime(+t+e*Ko)},(t,e)=>(e-t)/Ko,t=>t.getHours());Nx.range;const Rx=_n(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ko)},(t,e)=>(e-t)/Ko,t=>t.getUTCHours());Rx.range;const th=_n(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ti)/na,t=>t.getDate()-1);th.range;const Fy=_n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/na,t=>t.getUTCDate()-1);Fy.range;const g4=_n(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/na,t=>Math.floor(t/na));g4.range;function Ul(t){return _n(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ti)/Cx)}const Hy=Ul(0),Cg=Ul(1),WQ=Ul(2),JQ=Ul(3),dc=Ul(4),XQ=Ul(5),QQ=Ul(6);Hy.range;Cg.range;WQ.range;JQ.range;dc.range;XQ.range;QQ.range;function Vl(t){return _n(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Cx)}const Gy=Vl(0),Ig=Vl(1),ZQ=Vl(2),eZ=Vl(3),hc=Vl(4),tZ=Vl(5),nZ=Vl(6);Gy.range;Ig.range;ZQ.range;eZ.range;hc.range;tZ.range;nZ.range;const Mx=_n(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Mx.range;const Dx=_n(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Dx.range;const ra=_n(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ra.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_n(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ra.range;const ia=_n(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ia.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_n(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ia.range;function y4(t,e,n,r,i,o){const l=[[pl,1,$o],[pl,5,5*$o],[pl,15,15*$o],[pl,30,30*$o],[o,1,ti],[o,5,5*ti],[o,15,15*ti],[o,30,30*ti],[i,1,Ko],[i,3,3*Ko],[i,6,6*Ko],[i,12,12*Ko],[r,1,na],[r,2,2*na],[n,1,Cx],[e,1,gM],[e,3,3*gM],[t,1,$b]];function u(d,h,m){const v=h<d;v&&([d,h]=[h,d]);const E=m&&typeof m.range=="function"?m:f(d,h,m),A=E?E.range(d,+h+1):[];return v?A.reverse():A}function f(d,h,m){const v=Math.abs(h-d)/m,E=px(([,,C])=>C).right(l,v);if(E===l.length)return t.every(ET(d/$b,h/$b,m));if(E===0)return wg.every(Math.max(ET(d,h,m),1));const[A,x]=l[v/l[E-1][2]<l[E][2]/v?E-1:E];return A.every(x)}return[u,f]}const[rZ,iZ]=y4(ia,Dx,Gy,g4,Rx,Px),[oZ,aZ]=y4(ra,Mx,Hy,th,Nx,Ix);function Kb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Yb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function sZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,l=t.shortDays,u=t.months,f=t.shortMonths,d=jf(i),h=Ff(i),m=jf(o),v=Ff(o),E=jf(l),A=Ff(l),x=jf(u),C=Ff(u),R=jf(f),z=Ff(f),D={a:ue,A:ye,b:ve,B:Ve,c:null,d:TM,e:TM,f:NZ,g:zZ,G:jZ,H:CZ,I:IZ,j:PZ,L:v4,m:RZ,M:MZ,p:K,q:le,Q:AM,s:wM,S:DZ,u:OZ,U:kZ,V:LZ,w:UZ,W:VZ,x:null,X:null,y:qZ,Y:BZ,Z:FZ,"%":xM},q={a:Ee,A:se,b:he,B:be,c:null,d:SM,e:SM,f:KZ,g:ree,G:oee,H:HZ,I:GZ,j:$Z,L:b4,m:YZ,M:WZ,p:Te,q:te,Q:AM,s:wM,S:JZ,u:XZ,U:QZ,V:ZZ,w:eee,W:tee,x:null,X:null,y:nee,Y:iee,Z:aee,"%":xM},F={a:V,A:U,b:B,B:H,c:Se,d:bM,e:bM,f:SZ,g:_M,G:vM,H:EM,I:EM,j:_Z,L:TZ,m:vZ,M:bZ,p:M,q:yZ,Q:AZ,s:wZ,S:EZ,u:dZ,U:hZ,V:pZ,w:fZ,W:mZ,x:we,X,y:_M,Y:vM,Z:gZ,"%":xZ};D.x=G(n,D),D.X=G(r,D),D.c=G(e,D),q.x=G(n,q),q.X=G(r,q),q.c=G(e,q);function G(W,_e){return function(ge){var re=[],Me=-1,Le=0,it=W.length,We,Zn,Li;for(ge instanceof Date||(ge=new Date(+ge));++Me<it;)W.charCodeAt(Me)===37&&(re.push(W.slice(Le,Me)),(Zn=yM[We=W.charAt(++Me)])!=null?We=W.charAt(++Me):Zn=We==="e"?" ":"0",(Li=_e[We])&&(We=Li(ge,Zn)),re.push(We),Le=Me+1);return re.push(W.slice(Le,Me)),re.join("")}}function O(W,_e){return function(ge){var re=Bf(1900,void 0,1),Me=k(re,W,ge+="",0),Le,it;if(Me!=ge.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(_e&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Le=Yb(Bf(re.y,0,1)),it=Le.getUTCDay(),Le=it>4||it===0?Ig.ceil(Le):Ig(Le),Le=Fy.offset(Le,(re.V-1)*7),re.y=Le.getUTCFullYear(),re.m=Le.getUTCMonth(),re.d=Le.getUTCDate()+(re.w+6)%7):(Le=Kb(Bf(re.y,0,1)),it=Le.getDay(),Le=it>4||it===0?Cg.ceil(Le):Cg(Le),Le=th.offset(Le,(re.V-1)*7),re.y=Le.getFullYear(),re.m=Le.getMonth(),re.d=Le.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),it="Z"in re?Yb(Bf(re.y,0,1)).getUTCDay():Kb(Bf(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(it+5)%7:re.w+re.U*7-(it+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,Yb(re)):Kb(re)}}function k(W,_e,ge,re){for(var Me=0,Le=_e.length,it=ge.length,We,Zn;Me<Le;){if(re>=it)return-1;if(We=_e.charCodeAt(Me++),We===37){if(We=_e.charAt(Me++),Zn=F[We in yM?_e.charAt(Me++):We],!Zn||(re=Zn(W,ge,re))<0)return-1}else if(We!=ge.charCodeAt(re++))return-1}return re}function M(W,_e,ge){var re=d.exec(_e.slice(ge));return re?(W.p=h.get(re[0].toLowerCase()),ge+re[0].length):-1}function V(W,_e,ge){var re=E.exec(_e.slice(ge));return re?(W.w=A.get(re[0].toLowerCase()),ge+re[0].length):-1}function U(W,_e,ge){var re=m.exec(_e.slice(ge));return re?(W.w=v.get(re[0].toLowerCase()),ge+re[0].length):-1}function B(W,_e,ge){var re=R.exec(_e.slice(ge));return re?(W.m=z.get(re[0].toLowerCase()),ge+re[0].length):-1}function H(W,_e,ge){var re=x.exec(_e.slice(ge));return re?(W.m=C.get(re[0].toLowerCase()),ge+re[0].length):-1}function Se(W,_e,ge){return k(W,e,_e,ge)}function we(W,_e,ge){return k(W,n,_e,ge)}function X(W,_e,ge){return k(W,r,_e,ge)}function ue(W){return l[W.getDay()]}function ye(W){return o[W.getDay()]}function ve(W){return f[W.getMonth()]}function Ve(W){return u[W.getMonth()]}function K(W){return i[+(W.getHours()>=12)]}function le(W){return 1+~~(W.getMonth()/3)}function Ee(W){return l[W.getUTCDay()]}function se(W){return o[W.getUTCDay()]}function he(W){return f[W.getUTCMonth()]}function be(W){return u[W.getUTCMonth()]}function Te(W){return i[+(W.getUTCHours()>=12)]}function te(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var _e=G(W+="",D);return _e.toString=function(){return W},_e},parse:function(W){var _e=O(W+="",!1);return _e.toString=function(){return W},_e},utcFormat:function(W){var _e=G(W+="",q);return _e.toString=function(){return W},_e},utcParse:function(W){var _e=O(W+="",!0);return _e.toString=function(){return W},_e}}}var yM={"-":"",_:" ",0:"0"},Mn=/^\s*\d+/,lZ=/^%/,uZ=/[\\^$*+?|[\]().{}]/g;function lt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function cZ(t){return t.replace(uZ,"\\$&")}function jf(t){return new RegExp("^(?:"+t.map(cZ).join("|")+")","i")}function Ff(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function fZ(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function dZ(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function hZ(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function pZ(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function mZ(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function vM(t,e,n){var r=Mn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function _M(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function gZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yZ(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function vZ(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function bM(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _Z(t,e,n){var r=Mn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function EM(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function bZ(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function EZ(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function TZ(t,e,n){var r=Mn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function SZ(t,e,n){var r=Mn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xZ(t,e,n){var r=lZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function AZ(t,e,n){var r=Mn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function wZ(t,e,n){var r=Mn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function TM(t,e){return lt(t.getDate(),e,2)}function CZ(t,e){return lt(t.getHours(),e,2)}function IZ(t,e){return lt(t.getHours()%12||12,e,2)}function PZ(t,e){return lt(1+th.count(ra(t),t),e,3)}function v4(t,e){return lt(t.getMilliseconds(),e,3)}function NZ(t,e){return v4(t,e)+"000"}function RZ(t,e){return lt(t.getMonth()+1,e,2)}function MZ(t,e){return lt(t.getMinutes(),e,2)}function DZ(t,e){return lt(t.getSeconds(),e,2)}function OZ(t){var e=t.getDay();return e===0?7:e}function kZ(t,e){return lt(Hy.count(ra(t)-1,t),e,2)}function _4(t){var e=t.getDay();return e>=4||e===0?dc(t):dc.ceil(t)}function LZ(t,e){return t=_4(t),lt(dc.count(ra(t),t)+(ra(t).getDay()===4),e,2)}function UZ(t){return t.getDay()}function VZ(t,e){return lt(Cg.count(ra(t)-1,t),e,2)}function qZ(t,e){return lt(t.getFullYear()%100,e,2)}function zZ(t,e){return t=_4(t),lt(t.getFullYear()%100,e,2)}function BZ(t,e){return lt(t.getFullYear()%1e4,e,4)}function jZ(t,e){var n=t.getDay();return t=n>=4||n===0?dc(t):dc.ceil(t),lt(t.getFullYear()%1e4,e,4)}function FZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+lt(e/60|0,"0",2)+lt(e%60,"0",2)}function SM(t,e){return lt(t.getUTCDate(),e,2)}function HZ(t,e){return lt(t.getUTCHours(),e,2)}function GZ(t,e){return lt(t.getUTCHours()%12||12,e,2)}function $Z(t,e){return lt(1+Fy.count(ia(t),t),e,3)}function b4(t,e){return lt(t.getUTCMilliseconds(),e,3)}function KZ(t,e){return b4(t,e)+"000"}function YZ(t,e){return lt(t.getUTCMonth()+1,e,2)}function WZ(t,e){return lt(t.getUTCMinutes(),e,2)}function JZ(t,e){return lt(t.getUTCSeconds(),e,2)}function XZ(t){var e=t.getUTCDay();return e===0?7:e}function QZ(t,e){return lt(Gy.count(ia(t)-1,t),e,2)}function E4(t){var e=t.getUTCDay();return e>=4||e===0?hc(t):hc.ceil(t)}function ZZ(t,e){return t=E4(t),lt(hc.count(ia(t),t)+(ia(t).getUTCDay()===4),e,2)}function eee(t){return t.getUTCDay()}function tee(t,e){return lt(Ig.count(ia(t)-1,t),e,2)}function nee(t,e){return lt(t.getUTCFullYear()%100,e,2)}function ree(t,e){return t=E4(t),lt(t.getUTCFullYear()%100,e,2)}function iee(t,e){return lt(t.getUTCFullYear()%1e4,e,4)}function oee(t,e){var n=t.getUTCDay();return t=n>=4||n===0?hc(t):hc.ceil(t),lt(t.getUTCFullYear()%1e4,e,4)}function aee(){return"+0000"}function xM(){return"%"}function AM(t){return+t}function wM(t){return Math.floor(+t/1e3)}var Nu,T4,S4;see({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function see(t){return Nu=sZ(t),T4=Nu.format,Nu.parse,S4=Nu.utcFormat,Nu.utcParse,Nu}function lee(t){return new Date(t)}function uee(t){return t instanceof Date?+t:+new Date(+t)}function Ox(t,e,n,r,i,o,l,u,f,d){var h=bx(),m=h.invert,v=h.domain,E=d(".%L"),A=d(":%S"),x=d("%I:%M"),C=d("%I %p"),R=d("%a %d"),z=d("%b %d"),D=d("%B"),q=d("%Y");function F(G){return(f(G)<G?E:u(G)<G?A:l(G)<G?x:o(G)<G?C:r(G)<G?i(G)<G?R:z:n(G)<G?D:q)(G)}return h.invert=function(G){return new Date(m(G))},h.domain=function(G){return arguments.length?v(Array.from(G,uee)):v().map(lee)},h.ticks=function(G){var O=v();return t(O[0],O[O.length-1],G??10)},h.tickFormat=function(G,O){return O==null?F:d(O)},h.nice=function(G){var O=v();return(!G||typeof G.range!="function")&&(G=e(O[0],O[O.length-1],G??10)),G?v(u4(O,G)):h},h.copy=function(){return eh(h,Ox(t,e,n,r,i,o,l,u,f,d))},h}function cee(){return si.apply(Ox(oZ,aZ,ra,Mx,Hy,th,Nx,Ix,pl,T4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fee(){return si.apply(Ox(rZ,iZ,ia,Dx,Gy,Fy,Rx,Px,pl,S4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $y(){var t=0,e=1,n,r,i,o,l=ir,u=!1,f;function d(m){return m==null||isNaN(m=+m)?f:l(i===0?.5:(m=(o(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(l=m,d):l};function h(m){return function(v){var E,A;return arguments.length?([E,A]=v,l=m(E,A),d):[l(0),l(1)]}}return d.range=h(Tc),d.rangeRound=h(_x),d.unknown=function(m){return arguments.length?(f=m,d):f},function(m){return o=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function Cs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function x4(){var t=ws($y()(ir));return t.copy=function(){return Cs(t,x4())},fa.apply(t,arguments)}function A4(){var t=Sx($y()).domain([1,10]);return t.copy=function(){return Cs(t,A4()).base(t.base())},fa.apply(t,arguments)}function w4(){var t=xx($y());return t.copy=function(){return Cs(t,w4()).constant(t.constant())},fa.apply(t,arguments)}function kx(){var t=Ax($y());return t.copy=function(){return Cs(t,kx()).exponent(t.exponent())},fa.apply(t,arguments)}function dee(){return kx.apply(null,arguments).exponent(.5)}function C4(){var t=[],e=ir;function n(r){if(r!=null&&!isNaN(r=+r))return e((Qd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ds),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>XX(t,o/r))},n.copy=function(){return C4(e).domain(t)},fa.apply(n,arguments)}function Ky(){var t=0,e=.5,n=1,r=1,i,o,l,u,f,d=ir,h,m=!1,v;function E(x){return isNaN(x=+x)?v:(x=.5+((x=+h(x))-o)*(r*x<r*o?u:f),d(m?Math.max(0,Math.min(1,x)):x))}E.domain=function(x){return arguments.length?([t,e,n]=x,i=h(t=+t),o=h(e=+e),l=h(n=+n),u=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,E):[t,e,n]},E.clamp=function(x){return arguments.length?(m=!!x,E):m},E.interpolator=function(x){return arguments.length?(d=x,E):d};function A(x){return function(C){var R,z,D;return arguments.length?([R,z,D]=C,d=xQ(x,[R,z,D]),E):[d(0),d(.5),d(1)]}}return E.range=A(Tc),E.rangeRound=A(_x),E.unknown=function(x){return arguments.length?(v=x,E):v},function(x){return h=x,i=x(t),o=x(e),l=x(n),u=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,E}}function I4(){var t=ws(Ky()(ir));return t.copy=function(){return Cs(t,I4())},fa.apply(t,arguments)}function P4(){var t=Sx(Ky()).domain([.1,1,10]);return t.copy=function(){return Cs(t,P4()).base(t.base())},fa.apply(t,arguments)}function N4(){var t=xx(Ky());return t.copy=function(){return Cs(t,N4()).constant(t.constant())},fa.apply(t,arguments)}function Lx(){var t=Ax(Ky());return t.copy=function(){return Cs(t,Lx()).exponent(t.exponent())},fa.apply(t,arguments)}function hee(){return Lx.apply(null,arguments).exponent(.5)}const Qf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:gx,scaleDiverging:I4,scaleDivergingLog:P4,scaleDivergingPow:Lx,scaleDivergingSqrt:hee,scaleDivergingSymlog:N4,scaleIdentity:l4,scaleImplicit:TT,scaleLinear:s4,scaleLog:c4,scaleOrdinal:mx,scalePoint:eQ,scalePow:wx,scaleQuantile:h4,scaleQuantize:p4,scaleRadial:d4,scaleSequential:x4,scaleSequentialLog:A4,scaleSequentialPow:kx,scaleSequentialQuantile:C4,scaleSequentialSqrt:dee,scaleSequentialSymlog:w4,scaleSqrt:KQ,scaleSymlog:f4,scaleThreshold:m4,scaleTime:cee,scaleUtc:fee,tickFormat:a4},Symbol.toStringTag,{value:"Module"}));var Is=t=>t.chartData,pee=oe([Is],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Yy=(t,e,n,r)=>r?pee(t):Is(t);function bs(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Xt(e)&&Xt(n))return!0}return!1}function CM(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function R4(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Xt(n))i=n;else if(typeof n=="function")return;if(Xt(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(bs(l))return l}}function mee(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(bs(r))return CM(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,l,u;if(i==="auto")e!=null&&(l=Math.min(...e));else if(De(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&nR.test(i)){var f=nR.exec(i);if(f==null||e==null)l=void 0;else{var d=+f[1];l=e[0]-d}}else l=e==null?void 0:e[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(De(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&rR.test(o)){var h=rR.exec(o);if(h==null||e==null)u=void 0;else{var m=+h[1];u=e[1]+m}}else u=e==null?void 0:e[1];var v=[l,u];if(bs(v))return e==null?v:CM(v,e,n)}}}var Sc=1e9,gee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Vx,Ut=!0,ai="[DecimalError] ",Tl=ai+"Invalid argument: ",Ux=ai+"Exponent out of range: ",xc=Math.floor,cl=Math.pow,yee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Dr,Pn=1e7,Nt=7,M4=9007199254740991,Pg=xc(M4/Nt),Ie={};Ie.absoluteValue=Ie.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ie.comparedTo=Ie.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Nt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ie.dividedBy=Ie.div=function(t){return Yo(this,new this.constructor(t))};Ie.dividedToIntegerBy=Ie.idiv=function(t){var e=this,n=e.constructor;return At(Yo(e,new n(t),0,1),n.precision)};Ie.equals=Ie.eq=function(t){return!this.cmp(t)};Ie.exponent=function(){return fn(this)};Ie.greaterThan=Ie.gt=function(t){return this.cmp(t)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(t){return this.cmp(t)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(t){return this.cmp(t)<0};Ie.lessThanOrEqualTo=Ie.lte=function(t){return this.cmp(t)<1};Ie.logarithm=Ie.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Dr))throw Error(ai+"NaN");if(n.s<1)throw Error(ai+(n.s?"NaN":"-Infinity"));return n.eq(Dr)?new r(0):(Ut=!1,e=Yo(Id(n,o),Id(t,o),o),Ut=!0,At(e,i))};Ie.minus=Ie.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?k4(e,t):D4(e,(t.s=-t.s,t))};Ie.modulo=Ie.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ai+"NaN");return n.s?(Ut=!1,e=Yo(n,t,0,1).times(t),Ut=!0,n.minus(e)):At(new r(n),i)};Ie.naturalExponential=Ie.exp=function(){return O4(this)};Ie.naturalLogarithm=Ie.ln=function(){return Id(this)};Ie.negated=Ie.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ie.plus=Ie.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?D4(e,t):k4(e,(t.s=-t.s,t))};Ie.precision=Ie.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Tl+t);if(e=fn(i)+1,r=i.d.length-1,n=r*Nt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ie.squareRoot=Ie.sqrt=function(){var t,e,n,r,i,o,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(ai+"NaN")}for(t=fn(u),Ut=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=ao(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=xc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(o=r,r=o.plus(Yo(u,o,l+2)).times(.5),ao(o.d).slice(0,l)===(e=ao(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(At(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;l+=4}return Ut=!0,At(r,n)};Ie.times=Ie.mul=function(t){var e,n,r,i,o,l,u,f,d,h=this,m=h.constructor,v=h.d,E=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,f=v.length,d=E.length,f<d&&(o=v,v=E,E=o,l=f,f=d,d=l),o=[],l=f+d,r=l;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,i=f+r;i>r;)u=o[i]+E[r]*v[i-r-1]+e,o[i--]=u%Pn|0,e=u/Pn|0;o[i]=(o[i]+e)%Pn|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ut?At(t,m.precision):t};Ie.toDecimalPlaces=Ie.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(_o(t,0,Sc),e===void 0?e=r.rounding:_o(e,0,8),At(n,t+fn(n)+1,e))};Ie.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Rl(r,!0):(_o(t,0,Sc),e===void 0?e=i.rounding:_o(e,0,8),r=At(new i(r),t+1,e),n=Rl(r,!0,t+1)),n};Ie.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Rl(i):(_o(t,0,Sc),e===void 0?e=o.rounding:_o(e,0,8),r=At(new o(i),t+fn(i)+1,e),n=Rl(r.abs(),!1,t+fn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ie.toInteger=Ie.toint=function(){var t=this,e=t.constructor;return At(new e(t),fn(t)+1,e.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(t){var e,n,r,i,o,l,u=this,f=u.constructor,d=12,h=+(t=new f(t));if(!t.s)return new f(Dr);if(u=new f(u),!u.s){if(t.s<1)throw Error(ai+"Infinity");return u}if(u.eq(Dr))return u;if(r=f.precision,t.eq(Dr))return At(u,r);if(e=t.e,n=t.d.length-1,l=e>=n,o=u.s,l){if((n=h<0?-h:h)<=M4){for(i=new f(Dr),e=Math.ceil(r/Nt+4),Ut=!1;n%2&&(i=i.times(u),PM(i.d,e)),n=xc(n/2),n!==0;)u=u.times(u),PM(u.d,e);return Ut=!0,t.s<0?new f(Dr).div(i):At(i,r)}}else if(o<0)throw Error(ai+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Ut=!1,i=t.times(Id(u,r+d)),Ut=!0,i=O4(i),i.s=o,i};Ie.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=fn(i),r=Rl(i,n<=o.toExpNeg||n>=o.toExpPos)):(_o(t,1,Sc),e===void 0?e=o.rounding:_o(e,0,8),i=At(new o(i),t,e),n=fn(i),r=Rl(i,t<=n||n<=o.toExpNeg,t)),r};Ie.toSignificantDigits=Ie.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(_o(t,1,Sc),e===void 0?e=r.rounding:_o(e,0,8)),At(new r(n),t,e)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=fn(t),n=t.constructor;return Rl(t,e<=n.toExpNeg||e>=n.toExpPos)};function D4(t,e){var n,r,i,o,l,u,f,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Ut?At(e,m):e;if(f=t.d,d=e.d,l=t.e,i=e.e,f=f.slice(),o=l-i,o){for(o<0?(r=f,o=-o,u=d.length):(r=d,i=l,u=f.length),l=Math.ceil(m/Nt),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=f.length,o=d.length,u-o<0&&(o=u,r=d,d=f,f=r),n=0;o;)n=(f[--o]=f[o]+d[o]+n)/Pn|0,f[o]%=Pn;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=i,Ut?At(e,m):e}function _o(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Tl+t)}function ao(t){var e,n,r,i=t.length-1,o="",l=t[0];if(i>0){for(o+=l,e=1;e<i;e++)r=t[e]+"",n=Nt-r.length,n&&(o+=Qa(n)),o+=r;l=t[e],r=l+"",n=Nt-r.length,n&&(o+=Qa(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var Yo=(function(){function t(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%Pn|0,l=o/Pn|0;return l&&r.unshift(l),r}function e(r,i,o,l){var u,f;if(o!=l)f=o>l?1:-1;else for(u=f=0;u<o;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*Pn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,f,d,h,m,v,E,A,x,C,R,z,D,q,F,G,O,k,M=r.constructor,V=r.s==i.s?1:-1,U=r.d,B=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(ai+"Division by zero");for(f=r.e-i.e,O=B.length,F=U.length,E=new M(V),A=E.d=[],d=0;B[d]==(U[d]||0);)++d;if(B[d]>(U[d]||0)&&--f,o==null?z=o=M.precision:l?z=o+(fn(r)-fn(i))+1:z=o,z<0)return new M(0);if(z=z/Nt+2|0,d=0,O==1)for(h=0,B=B[0],z++;(d<F||h)&&z--;d++)D=h*Pn+(U[d]||0),A[d]=D/B|0,h=D%B|0;else{for(h=Pn/(B[0]+1)|0,h>1&&(B=t(B,h),U=t(U,h),O=B.length,F=U.length),q=O,x=U.slice(0,O),C=x.length;C<O;)x[C++]=0;k=B.slice(),k.unshift(0),G=B[0],B[1]>=Pn/2&&++G;do h=0,u=e(B,x,O,C),u<0?(R=x[0],O!=C&&(R=R*Pn+(x[1]||0)),h=R/G|0,h>1?(h>=Pn&&(h=Pn-1),m=t(B,h),v=m.length,C=x.length,u=e(m,x,v,C),u==1&&(h--,n(m,O<v?k:B,v))):(h==0&&(u=h=1),m=B.slice()),v=m.length,v<C&&m.unshift(0),n(x,m,C),u==-1&&(C=x.length,u=e(B,x,O,C),u<1&&(h++,n(x,O<C?k:B,C))),C=x.length):u===0&&(h++,x=[0]),A[d++]=h,u&&x[0]?x[C++]=U[q]||0:(x=[U[q]],C=1);while((q++<F||x[0]!==void 0)&&z--)}return A[0]||A.shift(),E.e=f,At(E,l?o+fn(E)+1:o)}})();function O4(t,e){var n,r,i,o,l,u,f=0,d=0,h=t.constructor,m=h.precision;if(fn(t)>16)throw Error(Ux+fn(t));if(!t.s)return new h(Dr);for(Ut=!1,u=m,l=new h(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(r=Math.log(cl(2,d))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Dr),h.precision=u;;){if(i=At(i.times(t),u),n=n.times(++f),l=o.plus(Yo(i,n,u)),ao(l.d).slice(0,u)===ao(o.d).slice(0,u)){for(;d--;)o=At(o.times(o),u);return h.precision=m,e==null?(Ut=!0,At(o,m)):o}o=l}}function fn(t){for(var e=t.e*Nt,n=t.d[0];n>=10;n/=10)e++;return e}function Wb(t,e,n){if(e>t.LN10.sd())throw Ut=!0,n&&(t.precision=n),Error(ai+"LN10 precision limit exceeded");return At(new t(t.LN10),e)}function Qa(t){for(var e="";t--;)e+="0";return e}function Id(t,e){var n,r,i,o,l,u,f,d,h,m=1,v=10,E=t,A=E.d,x=E.constructor,C=x.precision;if(E.s<1)throw Error(ai+(E.s?"NaN":"-Infinity"));if(E.eq(Dr))return new x(0);if(e==null?(Ut=!1,d=C):d=e,E.eq(10))return e==null&&(Ut=!0),Wb(x,d);if(d+=v,x.precision=d,n=ao(A),r=n.charAt(0),o=fn(E),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)E=E.times(t),n=ao(E.d),r=n.charAt(0),m++;o=fn(E),r>1?(E=new x("0."+n),o++):E=new x(r+"."+n.slice(1))}else return f=Wb(x,d+2,C).times(o+""),E=Id(new x(r+"."+n.slice(1)),d-v).plus(f),x.precision=C,e==null?(Ut=!0,At(E,C)):E;for(u=l=E=Yo(E.minus(Dr),E.plus(Dr),d),h=At(E.times(E),d),i=3;;){if(l=At(l.times(h),d),f=u.plus(Yo(l,new x(i),d)),ao(f.d).slice(0,d)===ao(u.d).slice(0,d))return u=u.times(2),o!==0&&(u=u.plus(Wb(x,d+2,C).times(o+""))),u=Yo(u,new x(m),d),x.precision=C,e==null?(Ut=!0,At(u,C)):u;u=f,i+=2}}function IM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=xc(n/Nt),t.d=[],r=(n+1)%Nt,n<0&&(r+=Nt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Nt;r<i;)t.d.push(+e.slice(r,r+=Nt));e=e.slice(r),r=Nt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ut&&(t.e>Pg||t.e<-Pg))throw Error(Ux+n)}else t.s=0,t.e=0,t.d=[0];return t}function At(t,e,n){var r,i,o,l,u,f,d,h,m=t.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(r=e-l,r<0)r+=Nt,i=e,d=m[h=0];else{if(h=Math.ceil((r+1)/Nt),o=m.length,h>=o)return t;for(d=o=m[h],l=1;o>=10;o/=10)l++;r%=Nt,i=r-Nt+l}if(n!==void 0&&(o=cl(10,l-i-1),u=d/o%10|0,f=e<0||m[h+1]!==void 0||d%o,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?d/cl(10,l-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return f?(o=fn(t),m.length=1,e=e-o-1,m[0]=cl(10,(Nt-e%Nt)%Nt),t.e=xc(-e/Nt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,o=1,h--):(m.length=h+1,o=cl(10,Nt-r),m[h]=i>0?(d/cl(10,l-i)%cl(10,i)|0)*o:0),f)for(;;)if(h==0){(m[0]+=o)==Pn&&(m[0]=1,++t.e);break}else{if(m[h]+=o,m[h]!=Pn)break;m[h--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(Ut&&(t.e>Pg||t.e<-Pg))throw Error(Ux+fn(t));return t}function k4(t,e){var n,r,i,o,l,u,f,d,h,m,v=t.constructor,E=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),Ut?At(e,E):e;if(f=t.d,m=e.d,r=e.e,d=t.e,f=f.slice(),l=d-r,l){for(h=l<0,h?(n=f,l=-l,u=m.length):(n=m,r=d,u=f.length),i=Math.max(Math.ceil(E/Nt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=m[i]){h=f[i]<m[i];break}l=0}for(h&&(n=f,f=m,m=n,e.s=-e.s),u=f.length,i=m.length-u;i>0;--i)f[u++]=0;for(i=m.length;i>l;){if(f[--i]<m[i]){for(o=i;o&&f[--o]===0;)f[o]=Pn-1;--f[o],f[i]+=Pn}f[i]-=m[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Ut?At(e,E):e):new v(0)}function Rl(t,e,n){var r,i=fn(t),o=ao(t.d),l=o.length;return e?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Qa(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Qa(-i-1)+o,n&&(r=n-l)>0&&(o+=Qa(r))):i>=l?(o+=Qa(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+Qa(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=Qa(r))),t.s<0?"-"+o:o}function PM(t,e){if(t.length>e)return t.length=e,!0}function L4(t){var e,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Tl+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return IM(l,o.toString())}else if(typeof o!="string")throw Error(Tl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,yee.test(o))IM(l,o);else throw Error(Tl+o)}if(i.prototype=Ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=L4,i.config=i.set=vee,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function vee(t){if(!t||typeof t!="object")throw Error(ai+"Object expected");var e,n,r,i=["precision",1,Sc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(xc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Tl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Tl+n+": "+r);return this}var Vx=L4(gee);Dr=new Vx(1);const yt=Vx;var _ee=t=>t,U4={},V4=t=>t===U4,NM=t=>function e(){return arguments.length===0||arguments.length===1&&V4(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},q4=(t,e)=>t===1?e:NM(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==U4).length;return o>=t?e(...r):q4(t-o,NM(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var d=r.map(h=>V4(h)?u.shift():h);return e(...d,...u)}))}),bee=t=>q4(t.length,t),wT=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Eee=bee((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Tee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return _ee;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((u,f)=>f(u),o(...arguments))}},CT=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function z4(t){var e;return t===0?e=1:e=Math.floor(new yt(t).abs().log(10).toNumber())+1,e}function B4(t,e,n){for(var r=new yt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var j4=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},F4=(t,e,n)=>{if(t.lte(0))return new yt(0);var r=z4(t.toNumber()),i=new yt(10).pow(r),o=t.div(i),l=r!==1?.05:.1,u=new yt(Math.ceil(o.div(l).toNumber())).add(n).mul(l),f=u.mul(i);return e?new yt(f.toNumber()):new yt(Math.ceil(f.toNumber()))},See=(t,e,n)=>{var r=new yt(1),i=new yt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new yt(10).pow(z4(t)-1),i=new yt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new yt(Math.floor(t)))}else t===0?i=new yt(Math.floor((e-1)/2)):n||(i=new yt(Math.floor(t)));var l=Math.floor((e-1)/2),u=Tee(Eee(f=>i.add(new yt(f-l).mul(r)).toNumber()),wT);return u(0,e)},H4=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new yt(0),tickMin:new yt(0),tickMax:new yt(0)};var l=F4(new yt(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new yt(0):(u=new yt(e).add(n).div(2),u=u.sub(new yt(u).mod(l)));var f=Math.ceil(u.sub(e).div(l).toNumber()),d=Math.ceil(new yt(n).sub(u).div(l).toNumber()),h=f+d+1;return h>r?H4(e,n,r,i,o+1):(h<r&&(d=n>0?d+(r-h):d,f=n>0?f:f+(r-h)),{step:l,tickMin:u.sub(new yt(f).mul(l)),tickMax:u.add(new yt(d).mul(l))})},xee=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,f]=j4([n,r]);if(u===-1/0||f===1/0){var d=f===1/0?[u,...wT(0,i-1).map(()=>1/0)]:[...wT(0,i-1).map(()=>-1/0),f];return n>r?CT(d):d}if(u===f)return See(u,i,o);var{step:h,tickMin:m,tickMax:v}=H4(u,f,l,o,0),E=B4(m,v.add(new yt(.1).mul(h)),h);return n>r?CT(E):E},Aee=function(e,n){var[r,i]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=j4([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(n,2),d=F4(new yt(u).sub(l).div(f-1),o,0),h=[...B4(new yt(l),new yt(u),d),u];return o===!1&&(h=h.map(m=>Math.round(m))),r>i?CT(h):h},G4=t=>t.rootProps.maxBarSize,wee=t=>t.rootProps.barGap,$4=t=>t.rootProps.barCategoryGap,Cee=t=>t.rootProps.barSize,Wy=t=>t.rootProps.stackOffset,K4=t=>t.rootProps.reverseStackOrder,qx=t=>t.options.chartName,zx=t=>t.rootProps.syncId,Y4=t=>t.rootProps.syncMethod,Bx=t=>t.options.eventEmitter,Nn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},jo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Mr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Jy=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Iee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:jo.angleAxisId,includeHidden:!1,name:void 0,reversed:jo.reversed,scale:jo.scale,tick:jo.tick,tickCount:void 0,ticks:void 0,type:jo.type,unit:void 0},Pee={allowDataOverflow:Mr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mr.scale,tick:Mr.tick,tickCount:Mr.tickCount,ticks:void 0,type:Mr.type,unit:void 0},Nee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:jo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jo.scale,tick:jo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Ree={allowDataOverflow:Mr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Mr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mr.scale,tick:Mr.tick,tickCount:Mr.tickCount,ticks:void 0,type:"category",unit:void 0},jx=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Nee:Iee,Fx=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Ree:Pee,Xy=t=>t.polarOptions,Hx=oe([ua,ca,Rn],AX),W4=oe([Xy,Hx],(t,e)=>{if(t!=null)return Mi(t.innerRadius,e,0)}),J4=oe([Xy,Hx],(t,e)=>{if(t!=null)return Mi(t.outerRadius,e,e*.8)}),Mee=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},X4=oe([Xy],Mee);oe([jx,X4],Jy);var Q4=oe([Hx,W4,J4],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});oe([Fx,Q4],Jy);var Z4=oe([dt,Xy,W4,J4,ua,ca],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:l,cy:u,startAngle:f,endAngle:d}=e;return{cx:Mi(l,i,i/2),cy:Mi(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),bn=(t,e)=>e,Qy=(t,e,n)=>n;function Gx(t){return t==null?void 0:t.id}function e6(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return t.forEach(u=>{var f,d=(f=u.data)!==null&&f!==void 0?f:r;if(!(d==null||d.length===0)){var h=Gx(u);d.forEach((m,v)=>{var E=o==null||i?v:String(yn(m,o,null)),A=yn(m,u.dataKey,0),x;l.has(E)?x=l.get(E):x={},Object.assign(x,{[h]:A}),l.set(E,x)})}}),Array.from(l.values())}function Zy(t){return t.stackId!=null&&t.dataKey!=null}var ev=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function tv(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Dee(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var En=t=>{var e=dt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Ac=t=>t.tooltip.settings.axisId;function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ng(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){Oee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oee(t,e,n){return(e=kee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kee(t){var e=Lee(t,"string");return typeof e=="symbol"?e:e+""}function Lee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IT=[0,"auto"],wn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},t6=(t,e)=>t.cartesianAxis.xAxis[e],da=(t,e)=>{var n=t6(t,e);return n??wn},Cn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:IT,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Yd},n6=(t,e)=>t.cartesianAxis.yAxis[e],ha=(t,e)=>{var n=n6(t,e);return n??Cn},Uee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},$x=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Uee},lr=(t,e,n)=>{switch(e){case"xAxis":return da(t,n);case"yAxis":return ha(t,n);case"zAxis":return $x(t,n);case"angleAxis":return jx(t,n);case"radiusAxis":return Fx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Vee=(t,e,n)=>{switch(e){case"xAxis":return da(t,n);case"yAxis":return ha(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},nh=(t,e,n)=>{switch(e){case"xAxis":return da(t,n);case"yAxis":return ha(t,n);case"angleAxis":return jx(t,n);case"radiusAxis":return Fx(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},r6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function i6(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var nv=t=>t.graphicalItems.cartesianItems,qee=oe([bn,Qy],i6),o6=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),rh=oe([nv,lr,qee],o6,{memoizeOptions:{resultEqualityCheck:tv}}),a6=oe([rh],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Zy)),s6=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),zee=oe([rh],s6),l6=t=>t.map(e=>e.data).filter(Boolean).flat(1),Bee=oe([rh],l6,{memoizeOptions:{resultEqualityCheck:tv}}),u6=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},Kx=oe([Bee,Yy],u6),c6=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:yn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:yn(i,r)}))):t.map(r=>({value:r})),rv=oe([Kx,lr,rh],c6);function f6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function wm(t){if(yo(t)||t instanceof Date){var e=Number(t);if(Xt(e))return e}}function MM(t){if(Array.isArray(t)){var e=[wm(t[0]),wm(t[1])];return bs(e)?e:void 0}var n=wm(t);if(n!=null)return[n,n]}function oa(t){return t.map(wm).filter(Q$)}function jee(t,e,n){return!n||typeof e!="number"||Ri(e)?[]:n.length?oa(n.flatMap(r=>{var i=yn(t,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!Xt(o)||!Xt(l)))return[e-o,e+l]})):[]}var Tn=t=>{var e=En(t),n=Ac(t);return nh(t,e,n)},ih=oe([Tn],t=>t==null?void 0:t.dataKey),Fee=oe([a6,Yy,Tn],e6),d6=(t,e,n,r)=>{var i={},o=e.reduce((l,u)=>(u.stackId==null||(l[u.stackId]==null&&(l[u.stackId]=[]),l[u.stackId].push(u)),l),i);return Object.fromEntries(Object.entries(o).map(l=>{var[u,f]=l,d=r?[...f].reverse():f,h=d.map(Gx);return[u,{stackedData:yW(t,h,n),graphicalItems:d}]}))},PT=oe([Fee,a6,Wy,K4],d6),h6=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var l=TW(t,i,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Hee=oe([lr],t=>t.allowDataOverflow),Yx=t=>{var e;if(t==null||!("domain"in t))return IT;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=oa(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:IT},p6=oe([lr],Yx),m6=oe([p6,Hee],R4),Gee=oe([PT,Is,bn,m6],h6,{memoizeOptions:{resultEqualityCheck:ev}}),Wx=t=>t.errorBars,$ee=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>f6(n,r)),Rg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),u=Math.max(...o);return[l,u]}},g6=(t,e,n,r,i)=>{var o,l;if(n.length>0&&t.forEach(u=>{n.forEach(f=>{var d,h,m=(d=r[f.id])===null||d===void 0?void 0:d.filter(R=>f6(i,R)),v=yn(u,(h=e.dataKey)!==null&&h!==void 0?h:f.dataKey),E=jee(u,v,m);if(E.length>=2){var A=Math.min(...E),x=Math.max(...E);(o==null||A<o)&&(o=A),(l==null||x>l)&&(l=x)}var C=MM(v);C!=null&&(o=o==null?C[0]:Math.min(o,C[0]),l=l==null?C[1]:Math.max(l,C[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var f=MM(yn(u,e.dataKey));f!=null&&(o=o==null?f[0]:Math.min(o,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),Xt(o)&&Xt(l))return[o,l]},Kee=oe([Kx,lr,zee,Wx,bn],g6,{memoizeOptions:{resultEqualityCheck:ev}});function Yee(t){var{value:e}=t;if(yo(e)||e instanceof Date)return e}var Wee=(t,e,n)=>{var r=t.map(Yee).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&PU(r))?JV(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},y6=t=>t.referenceElements.dots,wc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Jee=oe([y6,bn,Qy],wc),v6=t=>t.referenceElements.areas,Xee=oe([v6,bn,Qy],wc),_6=t=>t.referenceElements.lines,Qee=oe([_6,bn,Qy],wc),b6=(t,e)=>{var n=oa(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Zee=oe(Jee,bn,b6),E6=(t,e)=>{var n=oa(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},ete=oe([Xee,bn],E6);function tte(t){var e;if(t.x!=null)return oa([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:oa(n)}function nte(t){var e;if(t.y!=null)return oa([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:oa(n)}var T6=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?tte(r):nte(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},rte=oe([Qee,bn],T6),ite=oe(Zee,rte,ete,(t,e,n)=>Rg(t,n,e)),S6=(t,e,n,r,i,o,l,u)=>{if(n!=null)return n;var f=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",d=f?Rg(r,o,i):Rg(o,i);return mee(e,d,t.allowDataOverflow)},ote=oe([lr,p6,m6,Gee,Kee,ite,dt,bn],S6,{memoizeOptions:{resultEqualityCheck:ev}}),ate=[0,1],x6=(t,e,n,r,i,o,l)=>{if(!((t==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:f}=t,d=As(e,o);if(d&&u==null){var h;return JV(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return f==="category"?Wee(r,t,d):i==="expand"?ate:l}},Jx=oe([lr,dt,Kx,rv,Wy,bn,ote],x6),A6=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:l}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(Fd(o));return u in Qf?u:"point"}}},oh=oe([lr,dt,r6,qx,bn],A6);function ste(t){if(t!=null){if(t in Qf)return Qf[t]();var e="scale".concat(Fd(t));if(e in Qf)return Qf[e]()}}function Xx(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=ste(e);if(i!=null){var o=i.domain(n).range(r);return dW(o),o}}}var w6=(t,e,n)=>{var r=Yx(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&bs(t))return xee(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&bs(t))return Aee(t,e.tickCount,e.allowDecimals)}},Qx=oe([Jx,nh,oh],w6),C6=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&bs(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],l=e[1],u=n[n.length-1];return[Math.min(i,o),Math.max(l,u)]}return e},lte=oe([lr,Jx,Qx,bn],C6),ute=oe(rv,lr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(oa(t.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/i}}),I6=oe(ute,dt,$4,Rn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Xt(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var l=Mi(n,t*o),u=t*o/2;return u-l-(u-l)/o*l}return 0}),cte=(t,e)=>{var n=da(t,e);return n==null||typeof n.padding!="string"?0:I6(t,"xAxis",e,n.padding)},fte=(t,e)=>{var n=ha(t,e);return n==null||typeof n.padding!="string"?0:I6(t,"yAxis",e,n.padding)},dte=oe(da,cte,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),hte=oe(ha,fte,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),pte=oe([Rn,dte,Oy,Dy,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),mte=oe([Rn,dt,hte,Oy,Dy,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),ah=(t,e,n,r)=>{var i;switch(e){case"xAxis":return pte(t,n,r);case"yAxis":return mte(t,n,r);case"zAxis":return(i=$x(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return X4(t);case"radiusAxis":return Q4(t,n);default:return}},P6=oe([lr,ah],Jy),Cc=oe([lr,oh,lte,P6],Xx);oe([rh,Wx,bn],$ee);function N6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var iv=(t,e)=>e,ov=(t,e,n)=>n,gte=oe(Ry,iv,ov,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(N6)),yte=oe(My,iv,ov,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(N6)),R6=(t,e)=>({width:t.width,height:e.height}),vte=(t,e)=>{var n=typeof e.width=="number"?e.width:Yd;return{width:n,height:t.height}},M6=oe(Rn,da,R6),_te=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},bte=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Ete=oe(ca,Rn,gte,iv,ov,(t,e,n,r,i)=>{var o={},l;return n.forEach(u=>{var f=R6(e,u);l==null&&(l=_te(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;o[u.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),o}),Tte=oe(ua,Rn,yte,iv,ov,(t,e,n,r,i)=>{var o={},l;return n.forEach(u=>{var f=vte(e,u);l==null&&(l=bte(e,r,t));var d=r==="left"&&!i||r==="right"&&i;o[u.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),o}),Ste=(t,e)=>{var n=da(t,e);if(n!=null)return Ete(t,n.orientation,n.mirror)},xte=oe([Rn,da,Ste,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Ate=(t,e)=>{var n=ha(t,e);if(n!=null)return Tte(t,n.orientation,n.mirror)},wte=oe([Rn,ha,Ate,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),D6=oe(Rn,ha,(t,e)=>{var n=typeof e.width=="number"?e.width:Yd;return{width:n,height:t.height}}),DM=(t,e,n)=>{switch(e){case"xAxis":return M6(t,n).width;case"yAxis":return D6(t,n).height;default:return}},O6=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,u=As(t,r),f=e.map(d=>d.value);if(l&&u&&o==="category"&&i&&PU(f))return f}},Zx=oe([dt,rv,lr,bn],O6),k6=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=As(t,r);if(l&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},eA=oe([dt,rv,nh,bn],k6),OM=oe([dt,Vee,oh,Cc,Zx,eA,ah,Qx,bn],(t,e,n,r,i,o,l,u,f)=>{if(e!=null){var d=As(t,f);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:f,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:u,range:l,realScaleType:n,scale:r}}}),Cte=(t,e,n,r,i,o,l,u,f)=>{if(!(e==null||r==null)){var d=As(t,f),{type:h,ticks:m,tickCount:v}=e,E=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,A=h==="category"&&r.bandwidth?r.bandwidth()/E:0;A=f==="angleAxis"&&o!=null&&o.length>=2?_r(o[0]-o[1])*2*A:A;var x=m||i;if(x){var C=x.map((R,z)=>{var D=l?l.indexOf(R):R;return{index:z,coordinate:r(D)+A,value:R,offset:A}});return C.filter(R=>Xt(R.coordinate))}return d&&u?u.map((R,z)=>({coordinate:r(R)+A,value:R,index:z,offset:A})).filter(R=>Xt(R.coordinate)):r.ticks?r.ticks(v).map(R=>({coordinate:r(R)+A,value:R,offset:A})):r.domain().map((R,z)=>({coordinate:r(R)+A,value:l?l[R]:R,index:z,offset:A}))}},L6=oe([dt,nh,oh,Cc,Qx,ah,Zx,eA,bn],Cte),Ite=(t,e,n,r,i,o,l)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=As(t,l),{tickCount:f}=e,d=0;return d=l==="angleAxis"&&(r==null?void 0:r.length)>=2?_r(r[0]-r[1])*2*d:d,u&&o?o.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:i?i[h]:h,index:m,offset:d}))}},Es=oe([dt,nh,Cc,ah,Zx,eA,bn],Ite),Ts=oe(lr,Cc,(t,e)=>{if(!(t==null||e==null))return Ng(Ng({},t),{},{scale:e})}),Pte=oe([lr,oh,Jx,P6],Xx);oe((t,e,n)=>$x(t,n),Pte,(t,e)=>{if(!(t==null||e==null))return Ng(Ng({},t),{},{scale:e})});var Nte=oe([dt,Ry,My],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),U6=t=>t.options.defaultTooltipEventType,V6=t=>t.options.validateTooltipEventTypes;function q6(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function tA(t,e){var n=U6(t),r=V6(t);return q6(e,n,r)}function Rte(t){return Oe(e=>tA(e,t))}var z6=(t,e)=>{var n,r=Number(e);if(!(Ri(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Mte=t=>t.tooltip.settings,rs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Dte={itemInteraction:{click:rs,hover:rs},axisInteraction:{click:rs,hover:rs},keyboardInteraction:rs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},B6=Tr({name:"tooltip",initialState:Dte,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Lt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ii(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Lt()},removeTooltipEntrySettings:{reducer(t,e){var n=Ii(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Lt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Ote,replaceTooltipEntrySettings:kte,removeTooltipEntrySettings:Lte,setTooltipSettingsState:Ute,setActiveMouseOverItemIndex:j6,mouseLeaveItem:Vte,mouseLeaveChart:F6,setActiveClickItemIndex:qte,setMouseOverAxisIndex:H6,setMouseClickAxisIndex:zte,setSyncInteraction:NT,setKeyboardInteraction:RT}=B6.actions,Bte=B6.reducer;function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){jte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jte(t,e,n){return(e=Fte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fte(t){var e=Hte(t,"string");return typeof e=="symbol"?e:e+""}function Hte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gte(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function $te(t){return t.index!=null}var G6=(t,e,n,r)=>{if(e==null)return rs;var i=Gte(t,e,n);if(i==null)return rs;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if($te(i)){if(o)return sm(sm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return sm(sm({},rs),{},{coordinate:i.coordinate})};function Kte(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Yte(t,e){var n=Kte(t),r=e[0],i=e[1];if(n===void 0)return!1;var o=Math.min(r,i),l=Math.max(r,i);return n>=o&&n<=l}function Wte(t,e,n){if(n==null||e==null)return!0;var r=yn(t,e);return r==null||!bs(n)?!0:Yte(r,n)}var nA=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var o=Number(i);if(!Xt(o))return i;var l=0,u=1/0;e.length>0&&(u=e.length-1);var f=Math.max(l,Math.min(o,u)),d=e[f];return d==null||Wte(d,n,r)?String(f):null},$6=(t,e,n,r,i,o,l,u)=>{if(!(o==null||u==null)){var f=l[0],d=f==null?void 0:u(f.positions,o);if(d!=null)return d;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},K6=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===i})},sh=t=>t.options.tooltipPayloadSearcher,Ic=t=>t.tooltip;function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){Jte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jte(t,e,n){return(e=Xte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xte(t){var e=Qte(t,"string");return typeof e=="symbol"?e:e+""}function Qte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zte(t,e){return t??e}var Y6=(t,e,n,r,i,o,l)=>{if(!(e==null||o==null)){var{chartData:u,computedData:f,dataStartIndex:d,dataEndIndex:h}=n,m=[];return t.reduce((v,E)=>{var A,{dataDefinedOnItem:x,settings:C}=E,R=Zte(x,u),z=Array.isArray(R)?TV(R,d,h):R,D=(A=C==null?void 0:C.dataKey)!==null&&A!==void 0?A:r,q=C==null?void 0:C.nameKey,F;if(r&&Array.isArray(z)&&!Array.isArray(z[0])&&l==="axis"?F=NU(z,r,i):F=o(z,e,f,q),Array.isArray(F))F.forEach(O=>{var k=UM(UM({},C),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});v.push(iR({tooltipEntrySettings:k,dataKey:O.dataKey,payload:O.payload,value:yn(O.payload,O.dataKey),name:O.name}))});else{var G;v.push(iR({tooltipEntrySettings:C,dataKey:D,payload:F,value:yn(F,D),name:(G=yn(F,q))!==null&&G!==void 0?G:C==null?void 0:C.name}))}return v},m)}},rA=oe([Tn,dt,r6,qx,En],A6),ene=oe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),tne=oe([En,Ac],i6),lh=oe([ene,Tn,tne],o6,{memoizeOptions:{resultEqualityCheck:tv}}),nne=oe([lh],t=>t.filter(Zy)),rne=oe([lh],l6,{memoizeOptions:{resultEqualityCheck:tv}}),Pc=oe([rne,Is],u6),ine=oe([nne,Is,Tn],e6),iA=oe([Pc,Tn,lh],c6),W6=oe([Tn],Yx),one=oe([Tn],t=>t.allowDataOverflow),J6=oe([W6,one],R4),ane=oe([lh],t=>t.filter(Zy)),sne=oe([ine,ane,Wy,K4],d6),lne=oe([sne,Is,En,J6],h6),une=oe([lh],s6),cne=oe([Pc,Tn,une,Wx,En],g6,{memoizeOptions:{resultEqualityCheck:ev}}),fne=oe([y6,En,Ac],wc),dne=oe([fne,En],b6),hne=oe([v6,En,Ac],wc),pne=oe([hne,En],E6),mne=oe([_6,En,Ac],wc),gne=oe([mne,En],T6),yne=oe([dne,gne,pne],Rg),vne=oe([Tn,W6,J6,lne,cne,yne,dt,En],S6),uh=oe([Tn,dt,Pc,iA,Wy,En,vne],x6),_ne=oe([uh,Tn,rA],w6),bne=oe([Tn,uh,_ne,En],C6),X6=t=>{var e=En(t),n=Ac(t),r=!1;return ah(t,e,n,r)},Q6=oe([Tn,X6],Jy),Z6=oe([Tn,rA,bne,Q6],Xx),Ene=oe([dt,iA,Tn,En],O6),Tne=oe([dt,iA,Tn,En],k6),Sne=(t,e,n,r,i,o,l,u)=>{if(e){var{type:f}=e,d=As(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?_r(i[0]-i[1])*2*m:m,d&&l?l.map((v,E)=>({coordinate:r(v)+m,value:v,index:E,offset:m})):r.domain().map((v,E)=>({coordinate:r(v)+m,value:o?o[v]:v,index:E,offset:m}))}}},pa=oe([dt,Tn,rA,Z6,X6,Ene,Tne,En],Sne),oA=oe([U6,V6,Mte],(t,e,n)=>q6(n.shared,t,e)),e3=t=>t.tooltip.settings.trigger,aA=t=>t.tooltip.settings.defaultIndex,ch=oe([Ic,oA,e3,aA],G6),Ml=oe([ch,Pc,ih,uh],nA),t3=oe([pa,Ml],z6),n3=oe([ch],t=>{if(t)return t.dataKey});oe([ch],t=>{if(t)return t.graphicalItemId});var r3=oe([Ic,oA,e3,aA],K6),xne=oe([ua,ca,dt,Rn,pa,aA,r3,sh],$6),Ane=oe([ch,xne],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),wne=oe([ch],t=>t.active),Cne=oe([r3,Ml,Is,ih,t3,sh,oA],Y6),Ine=oe([Cne],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function VM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(n),!0).forEach(function(r){Pne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pne(t,e,n){return(e=Nne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nne(t){var e=Rne(t,"string");return typeof e=="symbol"?e:e+""}function Rne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mne=()=>Oe(Tn),Dne=()=>{var t=Mne(),e=Oe(pa),n=Oe(Z6);return uc(!t||!n?void 0:qM(qM({},t),{},{scale:n}),e)};function zM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(n),!0).forEach(function(r){One(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function One(t,e,n){return(e=kne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kne(t){var e=Lne(t,"string");return typeof e=="symbol"?e:e+""}function Lne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Une=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Vne=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:l}=r;return Ru(Ru(Ru({},r),jn(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,{angle:f}=r;return Ru(Ru(Ru({},r),jn(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function qne(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var i3=(t,e,n,r,i)=>{var o,l=-1,u=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var d=f>0?n[f-1].coordinate:n[u-1].coordinate,h=n[f].coordinate,m=f>=u-1?n[0].coordinate:n[f+1].coordinate,v=void 0;if(_r(h-d)!==_r(m-h)){var E=[];if(_r(m-h)===_r(i[1]-i[0])){v=m;var A=h+i[1]-i[0];E[0]=Math.min(A,(A+d)/2),E[1]=Math.max(A,(A+d)/2)}else{v=d;var x=m+i[1]-i[0];E[0]=Math.min(h,(x+h)/2),E[1]=Math.max(h,(x+h)/2)}var C=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(t>C[0]&&t<=C[1]||t>=E[0]&&t<=E[1]){({index:l}=n[f]);break}}else{var R=Math.min(d,m),z=Math.max(d,m);if(t>(R+h)/2&&t<=(z+h)/2){({index:l}=n[f]);break}}}else if(e){for(var D=0;D<u;D++)if(D===0&&t<=(e[D].coordinate+e[D+1].coordinate)/2||D>0&&D<u-1&&t>(e[D].coordinate+e[D-1].coordinate)/2&&t<=(e[D].coordinate+e[D+1].coordinate)/2||D===u-1&&t>(e[D].coordinate+e[D-1].coordinate)/2){({index:l}=e[D]);break}}return l},zne=()=>Oe(qx),sA=(t,e)=>e,o3=(t,e,n)=>n,lA=(t,e,n,r)=>r,Bne=oe(pa,t=>Ey(t,e=>e.coordinate)),uA=oe([Ic,sA,o3,lA],G6),cA=oe([uA,Pc,ih,uh],nA),jne=(t,e,n)=>{if(e!=null){var r=Ic(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},a3=oe([Ic,sA,o3,lA],K6),Mg=oe([ua,ca,dt,Rn,pa,lA,a3,sh],$6),Fne=oe([uA,Mg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),s3=oe([pa,cA],z6),Hne=oe([a3,cA,Is,ih,s3,sh,sA],Y6),Gne=oe([uA,cA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),$ne=(t,e,n,r,i,o,l)=>{if(!(!t||!n||!r||!i)&&qne(t,l)){var u=SW(t,e),f=i3(u,o,i,n,r),d=Une(e,i,f,t);return{activeIndex:String(f),activeCoordinate:d}}},Kne=(t,e,n,r,i,o,l)=>{if(!(!t||!r||!i||!o||!n)){var u=NX(t,n);if(u){var f=xW(u,e),d=i3(f,l,o,r,i),h=Vne(e,o,d,u);return{activeIndex:String(d),activeCoordinate:h}}}},Yne=(t,e,n,r,i,o,l,u)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?$ne(t,e,r,i,o,l,u):Kne(t,e,n,r,i,o,l)},Wne=oe(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Jne=oe(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Nn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Dee}});function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){Xne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xne(t,e,n){return(e=Qne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qne(t){var e=Zne(t,"string");return typeof e=="symbol"?e:e+""}function Zne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ere={},tre={zIndexMap:Object.values(Nn).reduce((t,e)=>jM(jM({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),ere)},nre=new Set(Object.values(Nn));function rre(t){return nre.has(t)}var l3=Tr({name:"zIndex",initialState:tre,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Lt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!rre(n)&&delete t.zIndexMap[n])},prepare:Lt()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Lt()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Lt()}}}),{registerZIndexPortal:ire,unregisterZIndexPortal:ore,registerZIndexPortalId:are,unregisterZIndexPortalId:sre}=l3.actions,lre=l3.reducer;function li(t){var{zIndex:e,children:n}=t,r=nJ(),i=r&&e!==void 0&&e!==0,o=Qn(),l=Qt();P.useLayoutEffect(()=>i?(l(ire({zIndex:e})),()=>{l(ore({zIndex:e}))}):Hd,[l,e,i]);var u=Oe(d=>Wne(d,e,o));if(!i)return n;if(!u)return null;var f=document.getElementById(u);return f?fU.createPortal(n,f):null}function MT(){return MT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MT.apply(null,arguments)}function FM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FM(Object(n),!0).forEach(function(r){ure(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ure(t,e,n){return(e=cre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cre(t){var e=fre(t,"string");return typeof e=="symbol"?e:e+""}function fre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dre(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return P.isValidElement(e)?P.cloneElement(e,r):P.createElement(n,r)}function hre(t){var e,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:l,layout:u,cursor:f,tooltipEventType:d,chartName:h}=t,m=n,v=r,E=i;if(!f||!m||h!=="ScatterChart"&&d!=="axis")return null;var A,x,C;if(h==="ScatterChart")A=m,x=HJ,C=Nn.cursorLine;else if(h==="BarChart")A=GJ(u,m,o,l),x=$V,C=Nn.cursorRectangle;else if(u==="radial"&&DU(m)){var{cx:R,cy:z,radius:D,startAngle:q,endAngle:F}=KV(m);A={cx:R,cy:z,startAngle:q,endAngle:F,innerRadius:D,outerRadius:D},x=WV,C=Nn.cursorLine}else A={points:OX(u,m,o)},x=BV,C=Nn.cursorLine;var G=typeof f=="object"&&"className"in f?f.className:void 0,O=lm(lm(lm(lm({stroke:"#ccc",pointerEvents:"none"},o),A),jd(f)),{},{payload:v,payloadIndex:E,className:St("recharts-tooltip-cursor",G)});return P.createElement(li,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:C},P.createElement(dre,{cursor:f,cursorComp:x,cursorProps:O}))}function pre(t){var e=Dne(),n=NV(),r=Wd(),i=zne();return e==null||n==null||r==null||i==null?null:P.createElement(hre,MT({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var u3=P.createContext(null),mre=()=>P.useContext(u3),Jb={exports:{}},HM;function gre(){return HM||(HM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,h){this.fn=f,this.context=d,this.once=h||!1}function o(f,d,h,m,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var E=new i(h,m||f,v),A=n?n+d:d;return f._events[A]?f._events[A].fn?f._events[A]=[f._events[A],E]:f._events[A].push(E):(f._events[A]=E,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)e.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,E=m.length,A=new Array(E);v<E;v++)A[v]=m[v].fn;return A},u.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,h,m,v,E,A){var x=n?n+d:d;if(!this._events[x])return!1;var C=this._events[x],R=arguments.length,z,D;if(C.fn){switch(C.once&&this.removeListener(d,C.fn,void 0,!0),R){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,h),!0;case 3:return C.fn.call(C.context,h,m),!0;case 4:return C.fn.call(C.context,h,m,v),!0;case 5:return C.fn.call(C.context,h,m,v,E),!0;case 6:return C.fn.call(C.context,h,m,v,E,A),!0}for(D=1,z=new Array(R-1);D<R;D++)z[D-1]=arguments[D];C.fn.apply(C.context,z)}else{var q=C.length,F;for(D=0;D<q;D++)switch(C[D].once&&this.removeListener(d,C[D].fn,void 0,!0),R){case 1:C[D].fn.call(C[D].context);break;case 2:C[D].fn.call(C[D].context,h);break;case 3:C[D].fn.call(C[D].context,h,m);break;case 4:C[D].fn.call(C[D].context,h,m,v);break;default:if(!z)for(F=1,z=new Array(R-1);F<R;F++)z[F-1]=arguments[F];C[D].fn.apply(C[D].context,z)}}return!0},u.prototype.on=function(d,h,m){return o(this,d,h,m,!1)},u.prototype.once=function(d,h,m){return o(this,d,h,m,!0)},u.prototype.removeListener=function(d,h,m,v){var E=n?n+d:d;if(!this._events[E])return this;if(!h)return l(this,E),this;var A=this._events[E];if(A.fn)A.fn===h&&(!v||A.once)&&(!m||A.context===m)&&l(this,E);else{for(var x=0,C=[],R=A.length;x<R;x++)(A[x].fn!==h||v&&!A[x].once||m&&A[x].context!==m)&&C.push(A[x]);C.length?this._events[E]=C.length===1?C[0]:C:l(this,E)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(Jb)),Jb.exports}var yre=gre();const vre=bo(yre);var Pd=new vre,DT="recharts.syncEvent.tooltip",GM="recharts.syncEvent.brush";function c3(t,e){if(e){var n=Number.parseInt(e,10);if(!Ri(n))return t==null?void 0:t[n]}}var _re={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},f3=Tr({name:"options",initialState:_re,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),bre=f3.reducer,{createEventEmitter:Ere}=f3.actions;function Tre(t){return t.tooltip.syncInteraction}var Sre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},d3=Tr({name:"chartData",initialState:Sre,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:$M,setDataStartEndIndexes:xre,setComputedData:Wge}=d3.actions,Are=d3.reducer,wre=["x","y"];function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){Cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cre(t,e,n){return(e=Ire(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ire(t){var e=Pre(t,"string");return typeof e=="symbol"?e:e+""}function Pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nre(t,e){if(t==null)return{};var n,r,i=Rre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Mre(){var t=Oe(zx),e=Oe(Bx),n=Qt(),r=Oe(Y4),i=Oe(pa),o=Wd(),l=ky(),u=Oe(f=>f.rootProps.className);P.useEffect(()=>{if(t==null)return Hd;var f=(d,h,m)=>{if(e!==m&&t===d){if(r==="index"){var v;if(l&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var E=h.payload.coordinate,{x:A,y:x}=E,C=Nre(E,wre),{x:R,y:z,width:D,height:q}=h.payload.sourceViewBox,F=Mu(Mu({},C),{},{x:l.x+(D?(A-R)/D:0)*l.width,y:l.y+(q?(x-z)/q:0)*l.height});n(Mu(Mu({},h),{},{payload:Mu(Mu({},h.payload),{},{coordinate:F})}))}else n(h);return}if(i!=null){var G;if(typeof r=="function"){var O={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},k=r(i,O);G=i[k]}else r==="value"&&(G=i.find(X=>String(X.value)===h.payload.label));var{coordinate:M}=h.payload;if(G==null||h.payload.active===!1||M==null||l==null){n(NT({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:V,y:U}=M,B=Math.min(V,l.x+l.width),H=Math.min(U,l.y+l.height),Se={x:o==="horizontal"?G.coordinate:B,y:o==="horizontal"?H:G.coordinate},we=NT({active:h.payload.active,coordinate:Se,dataKey:h.payload.dataKey,index:String(G.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(we)}}};return Pd.on(DT,f),()=>{Pd.off(DT,f)}},[u,n,e,t,r,i,o,l])}function Dre(){var t=Oe(zx),e=Oe(Bx),n=Qt();P.useEffect(()=>{if(t==null)return Hd;var r=(i,o,l)=>{e!==l&&t===i&&n(xre(o))};return Pd.on(GM,r),()=>{Pd.off(GM,r)}},[n,e,t])}function Ore(){var t=Qt();P.useEffect(()=>{t(Ere())},[t]),Mre(),Dre()}function kre(t,e,n,r,i,o){var l=Oe(E=>jne(E,t,e)),u=Oe(Bx),f=Oe(zx),d=Oe(Y4),h=Oe(Tre),m=h==null?void 0:h.active,v=ky();P.useEffect(()=>{if(!m&&f!=null&&u!=null){var E=NT({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v,graphicalItemId:void 0});Pd.emit(DT,f,E,u)}},[m,n,l,i,r,u,f,d,o,v])}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){Lre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lre(t,e,n){return(e=Ure(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ure(t){var e=Vre(t,"string");return typeof e=="symbol"?e:e+""}function Vre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qre(t){return t.dataKey}function zre(t,e){return P.isValidElement(t)?P.cloneElement(t,e):typeof t=="function"?P.createElement(t,e):P.createElement(SJ,e)}var JM=[],Bre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function XM(t){var e,n,r=sr(t,Bre),{active:i,allowEscapeViewBox:o,animationDuration:l,animationEasing:u,content:f,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:v,position:E,reverseDirection:A,useTranslate3d:x,wrapperStyle:C,cursor:R,shared:z,trigger:D,defaultIndex:q,portal:F,axisId:G}=r,O=Qt(),k=typeof q=="number"?String(q):q;P.useEffect(()=>{O(Ute({shared:z,trigger:D,axisId:G,active:i,defaultIndex:k}))},[O,z,D,G,i,k]);var M=ky(),V=zV(),U=Rte(z),{activeIndex:B,isActive:H}=(e=Oe(Te=>Gne(Te,U,D,k)))!==null&&e!==void 0?e:{},Se=Oe(Te=>Hne(Te,U,D,k)),we=Oe(Te=>s3(Te,U,D,k)),X=Oe(Te=>Fne(Te,U,D,k)),ue=Se,ye=mre(),ve=(n=i??H)!==null&&n!==void 0?n:!1,[Ve,K]=sY([ue,ve]),le=U==="axis"?we:void 0;kre(U,D,X,le,B,ve);var Ee=F??ye;if(Ee==null||M==null||U==null)return null;var se=ue??JM;ve||(se=JM),d&&se.length&&(se=DK(se.filter(Te=>Te.value!=null&&(Te.hide!==!0||r.includeHidden)),v,qre));var he=se.length>0,be=P.createElement(NJ,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:h,active:ve,coordinate:X,hasPayload:he,offset:m,position:E,reverseDirection:A,useTranslate3d:x,viewBox:M,wrapperStyle:C,lastBoundingBox:Ve,innerRef:K,hasPortalFromProps:!!F},zre(f,WM(WM({},r),{},{payload:se,label:le,active:ve,activeIndex:B,coordinate:X,accessibilityLayer:V})));return P.createElement(P.Fragment,null,fU.createPortal(be,Ee),ve&&P.createElement(pre,{cursor:R,tooltipEventType:U,coordinate:X,payload:se,index:B}))}var h3=t=>null;h3.displayName="Cell";function jre(t,e,n){return(e=Fre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fre(t){var e=Hre(t,"string");return typeof e=="symbol"?e:e+""}function Hre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Gre{constructor(e){jre(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function QM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QM(Object(n),!0).forEach(function(r){Kre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kre(t,e,n){return(e=Yre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t){var e=Wre(t,"string");return typeof e=="symbol"?e:e+""}function Wre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jre={cacheSize:2e3,enableCache:!0},p3=$re({},Jre),ZM=new Gre(p3.cacheSize),Xre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},e2="recharts_measurement_span";function Qre(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",l=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u)}var t2=(t,e)=>{try{var n=document.getElementById(e2);n||(n=document.createElement("span"),n.setAttribute("id",e2),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Xre,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},ad=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Xd.isSsr)return{width:0,height:0};if(!p3.enableCache)return t2(e,n);var r=Qre(e,n),i=ZM.get(r);if(i)return i;var o=t2(e,n);return ZM.set(r,o),o},n2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,r2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,m3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tie=Object.keys(m3),qu="NaN";function nie(t,e){return t*m3[e]}class gr{static parse(e){var n,[,r,i]=(n=eie.exec(e))!==null&&n!==void 0?n:[];return new gr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ri(e)&&(this.unit=""),n!==""&&!Zre.test(n)&&(this.num=NaN,this.unit=""),tie.includes(n)&&(this.num=nie(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new gr(NaN,""):new gr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new gr(NaN,""):new gr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new gr(NaN,""):new gr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new gr(NaN,""):new gr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ri(this.num)}}function g3(t){if(t.includes(qu))return qu;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=n2.exec(e))!==null&&n!==void 0?n:[],l=gr.parse(r??""),u=gr.parse(o??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return qu;e=e.replace(n2,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,h,m,v]=(d=r2.exec(e))!==null&&d!==void 0?d:[],E=gr.parse(h??""),A=gr.parse(v??""),x=m==="+"?E.add(A):E.subtract(A);if(x.isNaN())return qu;e=e.replace(r2,x.toString())}return e}var i2=/\(([^()]*)\)/;function rie(t){for(var e=t,n;(n=i2.exec(e))!=null;){var[,r]=n;e=e.replace(i2,g3(r))}return e}function iie(t){var e=t.replace(/\s+/g,"");return e=rie(e),e=g3(e),e}function oie(t){try{return iie(t)}catch{return qu}}function Xb(t){var e=oie(t.slice(5,-1));return e===qu?"":e}var aie=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],sie=["dx","dy","angle","className","breakAll"];function OT(){return OT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OT.apply(null,arguments)}function o2(t,e){if(t==null)return{};var n,r,i=lie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var y3=/[ \f\n\r\t\v\u2028\u2029]+/,v3=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Vt(e)||(n?i=e.toString().split(""):i=e.toString().split(y3));var o=i.map(u=>({word:u,width:ad(u,r).width})),l=n?0:ad("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function uie(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var _3=(t,e,n,r)=>t.reduce((i,o)=>{var{word:l,width:u}=o,f=i[i.length-1];if(f&&u!=null&&(e==null||r||f.width+u+n<Number(e)))f.words.push(l),f.width+=u+n;else{var d={words:[l],width:u};i.push(d)}return i},[]),b3=t=>t.reduce((e,n)=>e.width>n.width?e:n),cie="",a2=(t,e,n,r,i,o,l,u)=>{var f=t.slice(0,e),d=v3({breakAll:n,style:r,children:f+cie});if(!d)return[!1,[]];var h=_3(d.wordsWithComputedWidth,o,l,u),m=h.length>i||b3(h).width>Number(o);return[m,h]},fie=(t,e,n,r,i)=>{var{maxLines:o,children:l,style:u,breakAll:f}=t,d=De(o),h=String(l),m=_3(e,r,n,i);if(!d||i)return m;var v=m.length>o||b3(m).width>Number(r);if(!v)return m;for(var E=0,A=h.length-1,x=0,C;E<=A&&x<=h.length-1;){var R=Math.floor((E+A)/2),z=R-1,[D,q]=a2(h,z,f,u,o,r,n,i),[F]=a2(h,R,f,u,o,r,n,i);if(!D&&!F&&(E=R+1),D&&F&&(A=R-1),!D&&F){C=q;break}x++}return C||m},s2=t=>{var e=Vt(t)?[]:t.toString().split(y3);return[{words:e,width:void 0}]},die=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=t;if((e||n)&&!Xd.isSsr){var u,f,d=v3({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;u=h,f=m}else return s2(r);return fie({breakAll:o,children:r,maxLines:l,style:i},u,f,e,!!n)}return s2(r)},E3="#808080",hie={angle:0,breakAll:!1,capHeight:"0.71em",fill:E3,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},fA=P.forwardRef((t,e)=>{var n=sr(t,hie),{x:r,y:i,lineHeight:o,capHeight:l,fill:u,scaleToFit:f,textAnchor:d,verticalAnchor:h}=n,m=o2(n,aie),v=P.useMemo(()=>die({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:f,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,f,m.style,m.width]),{dx:E,dy:A,angle:x,className:C,breakAll:R}=m,z=o2(m,sie);if(!yo(r)||!yo(i)||v.length===0)return null;var D=Number(r)+(De(E)?E:0),q=Number(i)+(De(A)?A:0);if(!Xt(D)||!Xt(q))return null;var F;switch(h){case"start":F=Xb("calc(".concat(l,")"));break;case"middle":F=Xb("calc(".concat((v.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:F=Xb("calc(".concat(v.length-1," * -").concat(o,")"));break}var G=[];if(f){var O=v[0].width,{width:k}=m;G.push("scale(".concat(De(k)&&De(O)?k/O:1,")"))}return x&&G.push("rotate(".concat(x,", ").concat(D,", ").concat(q,")")),G.length&&(z.transform=G.join(" ")),P.createElement("text",OT({},or(z),{ref:e,x:D,y:q,className:St("recharts-text",C),textAnchor:d,fill:u.includes("url")?E3:u}),v.map((M,V)=>{var U=M.words.join(R?"":" ");return P.createElement("tspan",{x:D,dy:V===0?F:o,key:"".concat(U,"-").concat(V)},U)}))});fA.displayName="Text";var pie=["labelRef"];function mie(t,e){if(t==null)return{};var n,r,i=gie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function l2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(n),!0).forEach(function(r){yie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yie(t,e,n){return(e=vie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vie(t){var e=_ie(t,"string");return typeof e=="symbol"?e:e+""}function _ie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fo(){return Fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fo.apply(null,arguments)}var T3=P.createContext(null),bie=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:l,children:u}=t,f=P.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:o,height:l}),[e,n,r,i,o,l]);return P.createElement(T3.Provider,{value:f},u)},S3=()=>{var t=P.useContext(T3),e=ky();return t||PV(e)},Eie=P.createContext(null),Tie=()=>{var t=P.useContext(Eie),e=Oe(Z4);return t||e},Sie=t=>{var{value:e,formatter:n}=t,r=Vt(t.children)?e:t.children;return typeof n=="function"?n(r):r},dA=t=>t!=null&&typeof t=="function",xie=(t,e)=>{var n=_r(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Aie=(t,e,n,r,i)=>{var{offset:o,className:l}=t,{cx:u,cy:f,innerRadius:d,outerRadius:h,startAngle:m,endAngle:v,clockWise:E}=i,A=(d+h)/2,x=xie(m,v),C=x>=0?1:-1,R,z;switch(e){case"insideStart":R=m+C*o,z=E;break;case"insideEnd":R=v-C*o,z=!E;break;case"end":R=v+C*o,z=E;break;default:throw new Error("Unsupported position ".concat(e))}z=x<=0?z:!z;var D=jn(u,f,A,R),q=jn(u,f,A,R+(z?1:-1)*359),F="M".concat(D.x,",").concat(D.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(z?0:1,`,
    `).concat(q.x,",").concat(q.y),G=Vt(t.id)?gd("recharts-radial-line-"):t.id;return P.createElement("text",Fo({},r,{dominantBaseline:"central",className:St("recharts-radial-bar-label",l)}),P.createElement("defs",null,P.createElement("path",{id:G,d:F})),P.createElement("textPath",{xlinkHref:"#".concat(G)},n))},wie=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:u,endAngle:f}=t,d=(u+f)/2;if(n==="outside"){var{x:h,y:m}=jn(r,i,l+e,d);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(o+l)/2,{x:E,y:A}=jn(r,i,v,d);return{x:E,y:A,textAnchor:"middle",verticalAnchor:"middle"}},kT=t=>"cx"in t&&De(t.cx),Cie=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,o;n!=null&&!kT(n)&&(o=n);var{x:l,y:u,upperWidth:f,lowerWidth:d,height:h}=e,m=l,v=l+(f-d)/2,E=(m+v)/2,A=(f+d)/2,x=m+f/2,C=h>=0?1:-1,R=C*r,z=C>0?"end":"start",D=C>0?"start":"end",q=f>=0?1:-1,F=q*r,G=q>0?"end":"start",O=q>0?"start":"end";if(i==="top"){var k={x:m+f/2,y:u-R,textAnchor:"middle",verticalAnchor:z};return Yt(Yt({},k),o?{height:Math.max(u-o.y,0),width:f}:{})}if(i==="bottom"){var M={x:v+d/2,y:u+h+R,textAnchor:"middle",verticalAnchor:D};return Yt(Yt({},M),o?{height:Math.max(o.y+o.height-(u+h),0),width:d}:{})}if(i==="left"){var V={x:E-F,y:u+h/2,textAnchor:G,verticalAnchor:"middle"};return Yt(Yt({},V),o?{width:Math.max(V.x-o.x,0),height:h}:{})}if(i==="right"){var U={x:E+A+F,y:u+h/2,textAnchor:O,verticalAnchor:"middle"};return Yt(Yt({},U),o?{width:Math.max(o.x+o.width-U.x,0),height:h}:{})}var B=o?{width:A,height:h}:{};return i==="insideLeft"?Yt({x:E+F,y:u+h/2,textAnchor:O,verticalAnchor:"middle"},B):i==="insideRight"?Yt({x:E+A-F,y:u+h/2,textAnchor:G,verticalAnchor:"middle"},B):i==="insideTop"?Yt({x:m+f/2,y:u+R,textAnchor:"middle",verticalAnchor:D},B):i==="insideBottom"?Yt({x:v+d/2,y:u+h-R,textAnchor:"middle",verticalAnchor:z},B):i==="insideTopLeft"?Yt({x:m+F,y:u+R,textAnchor:O,verticalAnchor:D},B):i==="insideTopRight"?Yt({x:m+f-F,y:u+R,textAnchor:G,verticalAnchor:D},B):i==="insideBottomLeft"?Yt({x:v+F,y:u+h-R,textAnchor:O,verticalAnchor:z},B):i==="insideBottomRight"?Yt({x:v+d-F,y:u+h-R,textAnchor:G,verticalAnchor:z},B):i&&typeof i=="object"&&(De(i.x)||ea(i.x))&&(De(i.y)||ea(i.y))?Yt({x:l+Mi(i.x,A),y:u+Mi(i.y,h),textAnchor:"end",verticalAnchor:"end"},B):Yt({x,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},B)},Iie={angle:0,offset:5,zIndex:Nn.label,position:"middle",textBreakAll:!1};function Za(t){var e=sr(t,Iie),{viewBox:n,position:r,value:i,children:o,content:l,className:u="",textBreakAll:f,labelRef:d}=e,h=Tie(),m=S3(),v=r==="center"?m:h??m,E,A,x;if(n==null?E=v:kT(n)?E=n:E=PV(n),!E||Vt(i)&&Vt(o)&&!P.isValidElement(l)&&typeof l!="function")return null;var C=Yt(Yt({},e),{},{viewBox:E});if(P.isValidElement(l)){var{labelRef:R}=C,z=mie(C,pie);return P.cloneElement(l,z)}if(typeof l=="function"){if(A=P.createElement(l,C),P.isValidElement(A))return A}else A=Sie(e);var D=or(e);if(kT(E)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Aie(e,r,A,D,E);x=wie(E,e.offset,e.position)}else x=Cie(e,E);return P.createElement(li,{zIndex:e.zIndex},P.createElement(fA,Fo({ref:d,className:St("recharts-label",u)},D,x,{textAnchor:uie(D.textAnchor)?D.textAnchor:x.textAnchor,breakAll:f}),A))}Za.displayName="Label";var Pie=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?P.createElement(Za,Fo({key:"label-implicit"},r)):yo(t)?P.createElement(Za,Fo({key:"label-implicit",value:t},r)):P.isValidElement(t)?t.type===Za?P.cloneElement(t,Yt({key:"label-implicit"},r)):P.createElement(Za,Fo({key:"label-implicit",content:t},r)):dA(t)?P.createElement(Za,Fo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?P.createElement(Za,Fo({},t,{key:"label-implicit"},r)):null};function Nie(t){var{label:e,labelRef:n}=t,r=S3();return Pie(e,r,n)||null}var Qb={},Zb={},u2;function Rie(){return u2||(u2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Zb)),Zb}var eE={},c2;function Mie(){return c2||(c2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(eE)),eE}var f2;function Die(){return f2||(f2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rie(),n=Mie(),r=ex();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(Qb)),Qb}var tE,d2;function Oie(){return d2||(d2=1,tE=Die().last),tE}var kie=Oie();const Lie=bo(kie);var Uie=["valueAccessor"],Vie=["dataKey","clockWise","id","textBreakAll","zIndex"];function Dg(){return Dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dg.apply(null,arguments)}function h2(t,e){if(t==null)return{};var n,r,i=qie(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zie=t=>Array.isArray(t.value)?Lie(t.value):t.value,x3=P.createContext(void 0),A3=x3.Provider,w3=P.createContext(void 0);w3.Provider;function Bie(){return P.useContext(x3)}function jie(){return P.useContext(w3)}function Cm(t){var{valueAccessor:e=zie}=t,n=h2(t,Uie),{dataKey:r,clockWise:i,id:o,textBreakAll:l,zIndex:u}=n,f=h2(n,Vie),d=Bie(),h=jie(),m=d||h;return!m||!m.length?null:P.createElement(li,{zIndex:u??Nn.label},P.createElement(ii,{className:"recharts-label-list"},m.map((v,E)=>{var A,x=Vt(r)?e(v,E):yn(v&&v.payload,r),C=Vt(o)?{}:{id:"".concat(o,"-").concat(E)};return P.createElement(Za,Dg({key:"label-".concat(E)},or(v),f,C,{fill:(A=n.fill)!==null&&A!==void 0?A:v.fill,parentViewBox:v.parentViewBox,value:x,textBreakAll:l,viewBox:v.viewBox,index:E,zIndex:0}))})))}Cm.displayName="LabelList";function C3(t){var{label:e}=t;return e?e===!0?P.createElement(Cm,{key:"labelList-implicit"}):P.isValidElement(e)||dA(e)?P.createElement(Cm,{key:"labelList-implicit",content:e}):typeof e=="object"?P.createElement(Cm,Dg({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function LT(){return LT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LT.apply(null,arguments)}var I3=t=>{var{cx:e,cy:n,r,className:i}=t,o=St("recharts-dot",i);return De(e)&&De(n)&&De(r)?P.createElement("circle",LT({},Ni(t),QS(t),{className:o,cx:e,cy:n,r})):null},Fie={radiusAxis:{},angleAxis:{}},P3=Tr({name:"polarAxis",initialState:Fie,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Jge,removeRadiusAxis:Xge,addAngleAxis:Qge,removeAngleAxis:Zge}=P3.actions,Hie=P3.reducer,nE={exports:{}},Tt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2;function Gie(){if(p2)return Tt;p2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),E=Symbol.for("react.client.reference");function A(x){if(typeof x=="object"&&x!==null){var C=x.$$typeof;switch(C){case t:switch(x=x.type,x){case n:case i:case r:case f:case d:case v:return x;default:switch(x=x&&x.$$typeof,x){case l:case u:case m:case h:return x;case o:return x;default:return C}}case e:return C}}}return Tt.ContextConsumer=o,Tt.ContextProvider=l,Tt.Element=t,Tt.ForwardRef=u,Tt.Fragment=n,Tt.Lazy=m,Tt.Memo=h,Tt.Portal=e,Tt.Profiler=i,Tt.StrictMode=r,Tt.Suspense=f,Tt.SuspenseList=d,Tt.isContextConsumer=function(x){return A(x)===o},Tt.isContextProvider=function(x){return A(x)===l},Tt.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Tt.isForwardRef=function(x){return A(x)===u},Tt.isFragment=function(x){return A(x)===n},Tt.isLazy=function(x){return A(x)===m},Tt.isMemo=function(x){return A(x)===h},Tt.isPortal=function(x){return A(x)===e},Tt.isProfiler=function(x){return A(x)===i},Tt.isStrictMode=function(x){return A(x)===r},Tt.isSuspense=function(x){return A(x)===f},Tt.isSuspenseList=function(x){return A(x)===d},Tt.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===f||x===d||typeof x=="object"&&x!==null&&(x.$$typeof===m||x.$$typeof===h||x.$$typeof===l||x.$$typeof===o||x.$$typeof===u||x.$$typeof===E||x.getModuleId!==void 0)},Tt.typeOf=A,Tt}var m2;function $ie(){return m2||(m2=1,nE.exports=Gie()),nE.exports}var Kie=$ie(),g2=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",y2=null,rE=null,N3=t=>{if(t===y2&&Array.isArray(rE))return rE;var e=[];return P.Children.forEach(t,n=>{Vt(n)||(Kie.isFragment(n)?e=e.concat(N3(n.props.children)):e.push(n))}),rE=e,y2=t,e};function Yie(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>g2(i)):r=[g2(e)],N3(t).forEach(i=>{var o=ac(i,"type.displayName")||ac(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var R3=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,iE={},v2;function Wie(){return v2||(v2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(iE)),iE}var oE,_2;function Jie(){return _2||(_2=1,oE=Wie().isPlainObject),oE}var Xie=Jie();const Qie=bo(Xie);function b2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(n),!0).forEach(function(r){Zie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zie(t,e,n){return(e=eoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eoe(t){var e=toe(t,"string");return typeof e=="symbol"?e:e+""}function toe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Og(){return Og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Og.apply(null,arguments)}var T2=(t,e,n,r,i)=>{var o=n-r,l;return l="M ".concat(t,",").concat(e),l+="L ".concat(t+n,",").concat(e),l+="L ".concat(t+n-o/2,",").concat(e+i),l+="L ".concat(t+n-o/2-r,",").concat(e+i),l+="L ".concat(t,",").concat(e," Z"),l},noe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},roe=t=>{var e=sr(t,noe),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:u}=e,{animationEasing:f,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=e,v=P.useRef(null),[E,A]=P.useState(-1),x=P.useRef(i),C=P.useRef(o),R=P.useRef(l),z=P.useRef(n),D=P.useRef(r),q=By(t,"trapezoid-");if(P.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var Se=v.current.getTotalLength();Se&&A(Se)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var F=St("recharts-trapezoid",u);if(!m)return P.createElement("g",null,P.createElement("path",Og({},or(e),{className:F,d:T2(n,r,i,o,l)})));var G=x.current,O=C.current,k=R.current,M=z.current,V=D.current,U="0px ".concat(E===-1?1:E,"px"),B="".concat(E,"px 0px"),H=jV(["strokeDasharray"],d,f);return P.createElement(zy,{animationId:q,key:q,canBegin:E>0,duration:d,easing:f,isActive:m,begin:h},Se=>{var we=Ft(G,i,Se),X=Ft(O,o,Se),ue=Ft(k,l,Se),ye=Ft(M,n,Se),ve=Ft(V,r,Se);v.current&&(x.current=we,C.current=X,R.current=ue,z.current=ye,D.current=ve);var Ve=Se>0?{transition:H,strokeDasharray:B}:{strokeDasharray:U};return P.createElement("path",Og({},or(e),{className:F,d:T2(ye,ve,we,X,ue),ref:v,style:E2(E2({},Ve),e.style)}))})},ioe=["option","shapeType","propTransformer","activeClassName"];function ooe(t,e){if(t==null)return{};var n,r,i=aoe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function S2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(n),!0).forEach(function(r){soe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function soe(t,e,n){return(e=loe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function loe(t){var e=uoe(t,"string");return typeof e=="symbol"?e:e+""}function uoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function coe(t,e){return kg(kg({},e),t)}function foe(t,e){return t==="symbols"}function x2(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return P.createElement($V,n);case"trapezoid":return P.createElement(roe,n);case"sector":return P.createElement(WV,n);case"symbols":if(foe(e))return P.createElement(MU,n);break;case"curve":return P.createElement(BV,n);default:return null}}function doe(t){return P.isValidElement(t)?t.props:t}function M3(t){var{option:e,shapeType:n,propTransformer:r=coe,activeClassName:i="recharts-active-shape"}=t,o=ooe(t,ioe),l;if(P.isValidElement(e))l=P.cloneElement(e,kg(kg({},o),doe(e)));else if(typeof e=="function")l=e(o,o.index);else if(Qie(e)&&typeof e!="boolean"){var u=r(e,o);l=P.createElement(x2,{shapeType:n,elementProps:u})}else{var f=o;l=P.createElement(x2,{shapeType:n,elementProps:f})}return o.isActive?P.createElement(ii,{className:i},l):l}var D3=(t,e,n)=>{var r=Qt();return(i,o)=>l=>{t==null||t(i,o,l),r(j6({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},O3=t=>{var e=Qt();return(n,r)=>i=>{t==null||t(n,r,i),e(Vte())}},k3=(t,e,n)=>{var r=Qt();return(i,o)=>l=>{t==null||t(i,o,l),r(qte({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function L3(t){var{tooltipEntrySettings:e}=t,n=Qt(),r=Qn(),i=P.useRef(null);return P.useLayoutEffect(()=>{r||(i.current===null?n(Ote(e)):i.current!==e&&n(kte({prev:i.current,next:e})),i.current=e)},[e,n,r]),P.useLayoutEffect(()=>()=>{i.current&&(n(Lte(i.current)),i.current=null)},[n]),null}function U3(t){var{legendPayload:e}=t,n=Qt(),r=Qn(),i=P.useRef(null);return P.useLayoutEffect(()=>{r||(i.current===null?n(mJ(e)):i.current!==e&&n(gJ({prev:i.current,next:e})),i.current=e)},[n,r,e]),P.useLayoutEffect(()=>()=>{i.current&&(n(yJ(i.current)),i.current=null)},[n]),null}var aE,hoe=()=>{var[t]=P.useState(()=>gd("uid-"));return t},poe=(aE=Pz.useId)!==null&&aE!==void 0?aE:hoe;function V3(t,e){var n=poe();return e||(t?"".concat(t,"-").concat(n):n)}var moe=P.createContext(void 0),q3=t=>{var{id:e,type:n,children:r}=t,i=V3("recharts-".concat(n),e);return P.createElement(moe.Provider,{value:i},r(i))},goe={cartesianItems:[],polarItems:[]},z3=Tr({name:"graphicalItems",initialState:goe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Lt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ii(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Lt()},removeCartesianGraphicalItem:{reducer(t,e){var n=Ii(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Lt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Lt()},removePolarGraphicalItem:{reducer(t,e){var n=Ii(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Lt()}}}),{addCartesianGraphicalItem:yoe,replaceCartesianGraphicalItem:voe,removeCartesianGraphicalItem:_oe,addPolarGraphicalItem:eye,removePolarGraphicalItem:tye}=z3.actions,boe=z3.reducer,Eoe=t=>{var e=Qt(),n=P.useRef(null);return P.useLayoutEffect(()=>{n.current===null?e(yoe(t)):n.current!==t&&e(voe({prev:n.current,next:t})),n.current=t},[e,t]),P.useLayoutEffect(()=>()=>{n.current&&(e(_oe(n.current)),n.current=null)},[e]),null},B3=P.memo(Eoe),Toe=["points"];function A2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(n),!0).forEach(function(r){Soe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Soe(t,e,n){return(e=xoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xoe(t){var e=Aoe(t,"string");return typeof e=="symbol"?e:e+""}function Aoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lg(){return Lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lg.apply(null,arguments)}function woe(t,e){if(t==null)return{};var n,r,i=Coe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Coe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ioe(t){var{option:e,dotProps:n,className:r}=t;if(P.isValidElement(e))return P.cloneElement(e,n);if(typeof e=="function")return e(n);var i=St(r,typeof e!="boolean"?e.className:""),o=n??{},{points:l}=o,u=woe(o,Toe);return P.createElement(I3,Lg({},u,{className:i}))}function Poe(t,e){return t==null?!1:e?!0:t.length===1}function Noe(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:o,baseProps:l,needClip:u,clipPathId:f,zIndex:d=Nn.scatter}=t;if(!Poe(e,n))return null;var h=R3(n),m=a$(n),v=e.map((A,x)=>{var C,R,z=sE(sE(sE({r:3},l),m),{},{index:x,cx:(C=A.x)!==null&&C!==void 0?C:void 0,cy:(R=A.y)!==null&&R!==void 0?R:void 0,dataKey:o,value:A.value,payload:A.payload,points:e});return P.createElement(Ioe,{key:"dot-".concat(x),option:n,dotProps:z,className:i})}),E={};return u&&f!=null&&(E.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(f,")")),P.createElement(li,{zIndex:d},P.createElement(ii,Lg({className:r},E),v))}function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(r){Roe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Roe(t,e,n){return(e=Moe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Moe(t){var e=Doe(t,"string");return typeof e=="symbol"?e:e+""}function Doe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ooe={xAxis:{},yAxis:{},zAxis:{}},j3=Tr({name:"cartesianAxis",initialState:Ooe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Lt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Lt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Lt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Lt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Lt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Lt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Lt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Lt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Lt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var l=[...o,r].slice(-3);t.yAxis[n]=C2(C2({},t.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:koe,replaceXAxis:Loe,removeXAxis:Uoe,addYAxis:Voe,replaceYAxis:qoe,removeYAxis:zoe,addZAxis:nye,replaceZAxis:rye,removeZAxis:iye,updateYAxisWidth:Boe}=j3.actions,joe=j3.reducer,Foe=oe([Rn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Hoe=oe([Foe,ua,ca],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),hA=()=>Oe(Hoe),Goe=()=>Oe(Ine);function I2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(n),!0).forEach(function(r){$oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $oe(t,e,n){return(e=Koe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Koe(t){var e=Yoe(t,"string");return typeof e=="symbol"?e:e+""}function Yoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Woe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:o,clipPath:l}=t;if(i===!1||e.x==null||e.y==null)return null;var u={index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},f=lE(lE(lE({},u),jd(i)),QS(i)),d;return P.isValidElement(i)?d=P.cloneElement(i,f):typeof i=="function"?d=i(f):d=P.createElement(I3,f),P.createElement(ii,{className:"recharts-active-dot",clipPath:l},d)};function Joe(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:o,zIndex:l=Nn.activeDot}=t,u=Oe(Ml),f=Goe();if(e==null||f==null)return null;var d=e.find(h=>f.includes(h.payload));return Vt(d)?null:P.createElement(li,{zIndex:l},P.createElement(Woe,{point:d,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:o}))}var Xoe="Invariant failed";function Qoe(t,e){throw new Error(Xoe)}var Zoe=["x","y"];function UT(){return UT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UT.apply(null,arguments)}function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(r){eae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eae(t,e,n){return(e=tae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tae(t){var e=nae(t,"string");return typeof e=="symbol"?e:e+""}function nae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rae(t,e){if(t==null)return{};var n,r,i=iae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function oae(t,e){var{x:n,y:r}=t,i=rae(t,Zoe),o="".concat(n),l=parseInt(o,10),u="".concat(r),f=parseInt(u,10),d="".concat(e.height||i.height),h=parseInt(d,10),m="".concat(e.width||i.width),v=parseInt(m,10);return Hf(Hf(Hf(Hf(Hf({},e),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:h,width:v,name:e.name,radius:e.radius})}function Ug(t){return P.createElement(M3,UT({shapeType:"rectangle",propTransformer:oae,activeClassName:"recharts-active-bar"},t))}var aae=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(De(e))return e;var o=De(r)||Vt(r);return o?e(r,i):(o||Qoe(),n)}},sae={},F3=Tr({name:"errorBars",initialState:sae,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:oye,replaceErrorBar:aye,removeErrorBar:sye}=F3.actions,lae=F3.reducer,uae=["children"];function cae(t,e){if(t==null)return{};var n,r,i=fae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},hae=P.createContext(dae);function H3(t){var{children:e}=t,n=cae(t,uae);return P.createElement(hae.Provider,{value:n},e)}function pA(t,e){var n,r,i=Oe(d=>da(d,t)),o=Oe(d=>ha(d,e)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:wn.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Cn.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function G3(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=hA(),{needClipX:o,needClipY:l,needClip:u}=pA(e,n);if(!u||!i)return null;var{x:f,y:d,width:h,height:m}=i;return P.createElement("clipPath",{id:"clipPath-".concat(r)},P.createElement("rect",{x:o?f:f-h/2,y:l?d:d-m/2,width:o?h:h*2,height:l?m:m*2}))}function pae(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Xt(t.zIndex)?t.zIndex:e}var uE={exports:{}},cE={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2;function mae(){if(N2)return cE;N2=1;var t=pc();function e(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,u=t.useDebugValue;return cE.useSyncExternalStoreWithSelector=function(f,d,h,m,v){var E=i(null);if(E.current===null){var A={hasValue:!1,value:null};E.current=A}else A=E.current;E=l(function(){function C(F){if(!R){if(R=!0,z=F,F=m(F),v!==void 0&&A.hasValue){var G=A.value;if(v(G,F))return D=G}return D=F}if(G=D,n(z,F))return G;var O=m(F);return v!==void 0&&v(G,O)?(z=F,G):(z=F,D=O)}var R=!1,z,D,q=h===void 0?null:h;return[function(){return C(d())},q===null?void 0:function(){return C(q())}]},[d,h,m,v]);var x=r(f,E[0],E[1]);return o(function(){A.hasValue=!0,A.value=x},[x]),u(x),x},cE}var R2;function gae(){return R2||(R2=1,uE.exports=mae()),uE.exports}gae();function yae(t){t()}function vae(){let t=null,e=null;return{clear(){t=null,e=null},notify(){yae(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var M2={notify(){},get:()=>[]};function _ae(t,e){let n,r=M2,i=0,o=!1;function l(x){h();const C=r.subscribe(x);let R=!1;return()=>{R||(R=!0,C(),m())}}function u(){r.notify()}function f(){A.onStateChange&&A.onStateChange()}function d(){return o}function h(){i++,n||(n=t.subscribe(f),r=vae())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=M2)}function v(){o||(o=!0,h())}function E(){o&&(o=!1,m())}const A={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:d,trySubscribe:v,tryUnsubscribe:E,getListeners:()=>r};return A}var bae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Eae=bae(),Tae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Sae=Tae(),xae=()=>Eae||Sae?P.useLayoutEffect:P.useEffect,Aae=xae();function D2(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function wae(t,e){if(D2(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!D2(t[n[i]],e[n[i]]))return!1;return!0}var fE=Symbol.for("react-redux-context"),dE=typeof globalThis<"u"?globalThis:{};function Cae(){if(!P.createContext)return{};const t=dE[fE]??(dE[fE]=new Map);let e=t.get(P.createContext);return e||(e=P.createContext(null),t.set(P.createContext,e)),e}var Iae=Cae();function Pae(t){const{children:e,context:n,serverState:r,store:i}=t,o=P.useMemo(()=>{const f=_ae(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=P.useMemo(()=>i.getState(),[i]);Aae(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,l]);const u=n||Iae;return P.createElement(u.Provider,{value:o},e)}var Nae=Pae,Rae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Mae(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function av(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Rae.has(r)){if(t[r]==null&&e[r]==null)continue;if(!wae(t[r],e[r]))return!1}else if(!Mae(t[r],e[r]))return!1;return!0}var Dae=["onMouseEnter","onMouseLeave","onClick"],Oae=["value","background","tooltipPosition"],kae=["id"],Lae=["onMouseEnter","onClick","onMouseLeave"];function aa(){return aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aa.apply(null,arguments)}function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(r){Uae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uae(t,e,n){return(e=Vae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vae(t){var e=qae(t,"string");return typeof e=="symbol"?e:e+""}function qae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vg(t,e){if(t==null)return{};var n,r,i=zae(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Bae=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:Ny(n,e),payload:t}]},jae=P.memo(t=>{var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:o,hide:l,unit:u,tooltipType:f}=t,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Ny(o,e),hide:l,type:f,color:i,unit:u}};return P.createElement(L3,{tooltipEntrySettings:d})});function Fae(t){var e=Oe(Ml),{data:n,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:l,onMouseLeave:u,onClick:f}=o,d=Vg(o,Dae),h=D3(l,r),m=O3(u),v=k3(f,r);if(!i||n==null)return null;var E=jd(i);return P.createElement(li,{zIndex:pae(i,Nn.barBackground)},n.map((A,x)=>{var{value:C,background:R,tooltipPosition:z}=A,D=Vg(A,Oae);if(!R)return null;var q=h(A,x),F=m(A,x),G=v(A,x),O=rr(rr(rr(rr(rr({option:i,isActive:String(x)===e},D),{},{fill:"#eee"},R),E),ZS(d,A,x)),{},{onMouseEnter:q,onMouseLeave:F,onClick:G,dataKey:r,index:x,className:"recharts-bar-background-rectangle"});return P.createElement(Ug,aa({key:"background-bar-".concat(x)},O))}))}function Hae(t){var{showLabels:e,children:n,rects:r}=t,i=r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return rr(rr({},l),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:l,fill:o.fill})});return P.createElement(A3,{value:e?i:void 0},n)}function Gae(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:o,dataKey:l}=t,u=Oe(Ml),f=Oe(n3),d=n&&String(o)===u&&(f==null||l===f),h=d?n:e;return d?P.createElement(li,{zIndex:Nn.activeBar},P.createElement(Ug,aa({},r,{name:String(r.name)},i,{isActive:d,option:h,index:o,dataKey:l}))):P.createElement(Ug,aa({},r,{name:String(r.name)},i,{isActive:d,option:h,index:o,dataKey:l}))}function $ae(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:o}=t;return P.createElement(Ug,aa({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:o}))}function Kae(t){var e,{data:n,props:r}=t,i=(e=Ni(r))!==null&&e!==void 0?e:{},{id:o}=i,l=Vg(i,kae),{shape:u,dataKey:f,activeBar:d}=r,{onMouseEnter:h,onClick:m,onMouseLeave:v}=r,E=Vg(r,Lae),A=D3(h,f),x=O3(v),C=k3(m,f);return n?P.createElement(P.Fragment,null,n.map((R,z)=>P.createElement(ii,aa({key:"rectangle-".concat(R==null?void 0:R.x,"-").concat(R==null?void 0:R.y,"-").concat(R==null?void 0:R.value,"-").concat(z),className:"recharts-bar-rectangle"},ZS(E,R,z),{onMouseEnter:A(R,z),onMouseLeave:x(R,z),onClick:C(R,z)}),d?P.createElement(Gae,{shape:u,activeBar:d,baseProps:l,entry:R,index:z,dataKey:f}):P.createElement($ae,{shape:u,baseProps:l,entry:R,index:z,dataKey:f})))):null}function Yae(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:d,onAnimationStart:h}=e,m=n.current,v=By(e,"recharts-bar-"),[E,A]=P.useState(!1),x=!E,C=P.useCallback(()=>{typeof d=="function"&&d(),A(!1)},[d]),R=P.useCallback(()=>{typeof h=="function"&&h(),A(!0)},[h]);return P.createElement(Hae,{showLabels:x,rects:r},P.createElement(zy,{animationId:v,begin:l,duration:u,isActive:o,easing:f,onAnimationEnd:C,onAnimationStart:R,key:v},z=>{var D=z===1?r:r==null?void 0:r.map((q,F)=>{var G=m&&m[F];if(G)return rr(rr({},q),{},{x:Ft(G.x,q.x,z),y:Ft(G.y,q.y,z),width:Ft(G.width,q.width,z),height:Ft(G.height,q.height,z)});if(i==="horizontal"){var O=Ft(0,q.height,z),k=Ft(q.stackedBarStart,q.y,z);return rr(rr({},q),{},{y:k,height:O})}var M=Ft(0,q.width,z),V=Ft(q.stackedBarStart,q.x,z);return rr(rr({},q),{},{width:M,x:V})});return z>0&&(n.current=D??null),D==null?null:P.createElement(ii,null,P.createElement(Kae,{props:e,data:D}))}),P.createElement(C3,{label:e.label}),e.children)}function Wae(t){var e=P.useRef(null);return P.createElement(Yae,{previousRectanglesRef:e,props:t})}var $3=0,Jae=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:yn(t,e)}};class Xae extends P.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:l,needClip:u,background:f,id:d}=this.props;if(e||n==null)return null;var h=St("recharts-bar",i),m=d;return P.createElement(ii,{className:h,id:d},u&&P.createElement("defs",null,P.createElement(G3,{clipPathId:m,xAxisId:o,yAxisId:l})),P.createElement(ii,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(m,")"):void 0},P.createElement(Fae,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),P.createElement(Wae,this.props)))}}var Qae={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:$3,xAxisId:0,yAxisId:0,zIndex:Nn.bar};function Zae(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:h}=t,{needClip:m}=pA(e,n),v=Wd(),E=Qn(),A=Yie(t.children,h3),x=Oe(z=>Cse(z,e,n,E,t.id,A));if(v!=="vertical"&&v!=="horizontal")return null;var C,R=x==null?void 0:x[0];return R==null||R.height==null||R.width==null?C=0:C=v==="vertical"?R.height/2:R.width/2,P.createElement(H3,{xAxisId:e,yAxisId:n,data:x,dataPointFormatter:Jae,errorBarOffset:C},P.createElement(Xae,aa({},t,{layout:v,needClip:m,data:x,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:h})))}function ese(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:l,yAxis:u,xAxisTicks:f,yAxisTicks:d,stackedData:h,displayedData:m,offset:v,cells:E,parentViewBox:A,dataStartIndex:x}=t,C=e==="horizontal"?u:l,R=h?C.scale.domain():null,z=_W({numericAxis:C}),D=C.scale(z);return m.map((q,F)=>{var G,O,k,M,V,U;h?G=hW(h[F+x],R):(G=yn(q,n),Array.isArray(G)||(G=[z,G]));var B=aae(r,$3)(G[1],F);if(e==="horizontal"){var H,[Se,we]=[u.scale(G[0]),u.scale(G[1])];O=tR({axis:l,ticks:f,bandSize:o,offset:i.offset,entry:q,index:F}),k=(H=we??Se)!==null&&H!==void 0?H:void 0,M=i.size;var X=Se-we;if(V=Ri(X)?0:X,U={x:O,y:v.top,width:M,height:v.height},Math.abs(B)>0&&Math.abs(V)<Math.abs(B)){var ue=_r(V||B)*(Math.abs(B)-Math.abs(V));k-=ue,V+=ue}}else{var[ye,ve]=[l.scale(G[0]),l.scale(G[1])];if(O=ye,k=tR({axis:u,ticks:d,bandSize:o,offset:i.offset,entry:q,index:F}),M=ve-ye,V=i.size,U={x:v.left,y:k,width:v.width,height:V},Math.abs(B)>0&&Math.abs(M)<Math.abs(B)){var Ve=_r(M||B)*(Math.abs(B)-Math.abs(M));M+=Ve}}if(O==null||k==null||M==null||V==null)return null;var K=rr(rr({},q),{},{stackedBarStart:D,x:O,y:k,width:M,height:V,value:h?G:G[1],payload:q,background:U,tooltipPosition:{x:O+M/2,y:k+V/2},parentViewBox:A},E&&E[F]&&E[F].props);return K}).filter(Boolean)}function tse(t){var e=sr(t,Qae),n=Qn();return P.createElement(q3,{id:e.id,type:"bar"},r=>P.createElement(P.Fragment,null,P.createElement(U3,{legendPayload:Bae(e)}),P.createElement(jae,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),P.createElement(B3,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:vW(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),P.createElement(li,{zIndex:e.zIndex},P.createElement(Zae,aa({},e,{id:r})))))}var K3=P.memo(tse,av);K3.displayName="Bar";function k2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(n),!0).forEach(function(r){nse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nse(t,e,n){return(e=rse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rse(t){var e=ise(t,"string");return typeof e=="symbol"?e:e+""}function ise(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ose=(t,e)=>e,ase=(t,e,n)=>n,sse=(t,e,n,r)=>r,lse=(t,e,n,r,i)=>i,fh=oe([nv,lse],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),use=oe([fh],t=>t==null?void 0:t.maxBarSize),cse=(t,e,n,r,i,o)=>o,L2=(t,e,n)=>{var r=n??t;if(!Vt(r))return Mi(r,e,0)},fse=oe([dt,nv,ose,ase,sse],(t,e,n,r,i)=>e.filter(o=>t==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),dse=(t,e,n,r)=>{var i=dt(t);return i==="horizontal"?PT(t,"yAxis",n,r):PT(t,"xAxis",e,r)},hse=(t,e,n)=>{var r=dt(t);return r==="horizontal"?DM(t,"xAxis",e):DM(t,"yAxis",n)},pse=(t,e,n)=>{var r={},i=t.filter(Zy),o=t.filter(d=>d.stackId==null),l=i.reduce((d,h)=>(d[h.stackId]||(d[h.stackId]=[]),d[h.stackId].push(h),d),r),u=Object.entries(l).map(d=>{var[h,m]=d,v=m.map(A=>A.dataKey),E=L2(e,n,m[0].barSize);return{stackId:h,dataKeys:v,barSize:E}}),f=o.map(d=>{var h=[d.dataKey].filter(v=>v!=null),m=L2(e,n,d.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...u,...f]},mse=oe([fse,Cee,hse],pse),gse=(t,e,n,r,i)=>{var o,l,u=fh(t,e,n,r,i);if(u!=null){var f=dt(t),d=G4(t),{maxBarSize:h}=u,m=Vt(h)?d:h,v,E;return f==="horizontal"?(v=Ts(t,"xAxis",e,r),E=Es(t,"xAxis",e,r)):(v=Ts(t,"yAxis",n,r),E=Es(t,"yAxis",n,r)),(o=(l=uc(v,E,!0))!==null&&l!==void 0?l:m)!==null&&o!==void 0?o:0}},Y3=(t,e,n,r)=>{var i=dt(t),o,l;return i==="horizontal"?(o=Ts(t,"xAxis",e,r),l=Es(t,"xAxis",e,r)):(o=Ts(t,"yAxis",n,r),l=Es(t,"yAxis",n,r)),uc(o,l)};function yse(t,e,n,r,i){var o=r.length;if(!(o<1)){var l=Mi(t,n,0,!0),u,f=[];if(Xt(r[0].barSize)){var d=!1,h=n/o,m=r.reduce((R,z)=>R+(z.barSize||0),0);m+=(o-1)*l,m>=n&&(m-=(o-1)*l,l=0),m>=n&&h>0&&(d=!0,h*=.9,m=o*h);var v=(n-m)/2>>0,E={offset:v-l,size:0};u=r.reduce((R,z)=>{var D,q={stackId:z.stackId,dataKeys:z.dataKeys,position:{offset:E.offset+E.size+l,size:d?h:(D=z.barSize)!==null&&D!==void 0?D:0}},F=[...R,q];return E=F[F.length-1].position,F},f)}else{var A=Mi(e,n,0,!0);n-2*A-(o-1)*l<=0&&(l=0);var x=(n-2*A-(o-1)*l)/o;x>1&&(x>>=0);var C=Xt(i)?Math.min(x,i):x;u=r.reduce((R,z,D)=>[...R,{stackId:z.stackId,dataKeys:z.dataKeys,position:{offset:A+(x+l)*D+(x-C)/2,size:C}}],f)}return u}}var vse=(t,e,n,r,i,o,l)=>{var u=Vt(l)?e:l,f=yse(n,r,i!==o?i:o,t,u);return i!==o&&f!=null&&(f=f.map(d=>um(um({},d),{},{position:um(um({},d.position),{},{offset:d.position.offset-i/2})}))),f},_se=oe([mse,G4,wee,$4,gse,Y3,use],vse),bse=(t,e,n,r)=>Ts(t,"xAxis",e,r),Ese=(t,e,n,r)=>Ts(t,"yAxis",n,r),Tse=(t,e,n,r)=>Es(t,"xAxis",e,r),Sse=(t,e,n,r)=>Es(t,"yAxis",n,r),xse=oe([_se,fh],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),Ase=(t,e)=>{var n=Gx(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:o}=i;if(o)return o.find(l=>l.key===n)}}}},wse=oe([dse,fh],Ase),Cse=oe([Rn,cx,bse,Ese,Tse,Sse,xse,dt,Yy,Y3,wse,fh,cse],(t,e,n,r,i,o,l,u,f,d,h,m,v)=>{var{chartData:E,dataStartIndex:A,dataEndIndex:x}=f;if(!(m==null||l==null||e==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||o==null||d==null)){var{data:C}=m,R;if(C!=null&&C.length>0?R=C:R=E==null?void 0:E.slice(A,x+1),R!=null)return ese({layout:u,barSettings:m,pos:l,parentViewBox:e,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:h,displayedData:R,offset:t,cells:v,dataStartIndex:A})}}),Ise=t=>{var{chartData:e}=t,n=Qt(),r=Qn();return P.useEffect(()=>r?()=>{}:(n($M(e)),()=>{n($M(void 0))}),[e,n,r]),null},U2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},W3=Tr({name:"brush",initialState:U2,reducers:{setBrushSettings(t,e){return e.payload==null?U2:e.payload}}}),{setBrushSettings:lye}=W3.actions,Pse=W3.reducer;function Nse(t,e,n){return(e=Rse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rse(t){var e=Mse(t,"string");return typeof e=="symbol"?e:e+""}function Mse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mA{static create(e){return new mA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Nse(mA,"EPS",1e-4);function Dse(t){return(t%180+180)%180}var Ose=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Dse(i),l=o*Math.PI/180,u=Math.atan(r/n),f=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},kse={dots:[],areas:[],lines:[]},J3=Tr({name:"referenceElements",initialState:kse,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ii(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ii(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ii(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:uye,removeDot:cye,addArea:fye,removeArea:dye,addLine:hye,removeLine:pye}=J3.actions,Lse=J3.reducer,Use=P.createContext(void 0),Vse=t=>{var{children:e}=t,[n]=P.useState("".concat(gd("recharts"),"-clip")),r=hA();if(r==null)return null;var{x:i,y:o,width:l,height:u}=r;return P.createElement(Use.Provider,{value:n},P.createElement("defs",null,P.createElement("clipPath",{id:n},P.createElement("rect",{x:i,y:o,height:u,width:l}))),e)};function X3(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function qse(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ose(r,n)}function zse(t,e,n){var r=n==="width",{x:i,y:o,width:l,height:u}=t;return e===1?{start:r?i:o,end:r?i+l:o+u}:{start:r?i+l:o+u,end:r?i:o}}function qg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Bse(t,e){return X3(t,e+1)}function jse(t,e,n,r,i){for(var o=(r||[]).slice(),{start:l,end:u}=e,f=0,d=1,h=l,m=function(){var A=r==null?void 0:r[f];if(A===void 0)return{v:X3(r,d)};var x=f,C,R=()=>(C===void 0&&(C=n(A,x)),C),z=A.coordinate,D=f===0||qg(t,z,R,h,u);D||(f=0,h=l,d+=1),D&&(h=z+t*(R()/2+i),f+=d)},v;d<=o.length;)if(v=m(),v)return v.v;return[]}function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(r){Fse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fse(t,e,n){return(e=Hse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hse(t){var e=Gse(t,"string");return typeof e=="symbol"?e:e+""}function Gse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $se(t,e,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:u}=e,{end:f}=e,d=function(v){var E=o[v],A,x=()=>(A===void 0&&(A=n(E,v)),A);if(v===l-1){var C=t*(E.coordinate+t*x()/2-f);o[v]=E=$n($n({},E),{},{tickCoord:C>0?E.coordinate-C*t:E.coordinate})}else o[v]=E=$n($n({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var R=qg(t,E.tickCoord,x,u,f);R&&(f=E.tickCoord-t*(x()/2+i),o[v]=$n($n({},E),{},{isShow:!0}))}},h=l-1;h>=0;h--)d(h);return o}function Kse(t,e,n,r,i,o){var l=(r||[]).slice(),u=l.length,{start:f,end:d}=e;if(o){var h=r[u-1],m=n(h,u-1),v=t*(h.coordinate+t*m/2-d);if(l[u-1]=h=$n($n({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate}),h.tickCoord!=null){var E=qg(t,h.tickCoord,()=>m,f,d);E&&(d=h.tickCoord-t*(m/2+i),l[u-1]=$n($n({},h),{},{isShow:!0}))}}for(var A=o?u-1:u,x=function(z){var D=l[z],q,F=()=>(q===void 0&&(q=n(D,z)),q);if(z===0){var G=t*(D.coordinate-t*F()/2-f);l[z]=D=$n($n({},D),{},{tickCoord:G<0?D.coordinate-G*t:D.coordinate})}else l[z]=D=$n($n({},D),{},{tickCoord:D.coordinate});if(D.tickCoord!=null){var O=qg(t,D.tickCoord,F,f,d);O&&(f=D.tickCoord+t*(F()/2+i),l[z]=$n($n({},D),{},{isShow:!0}))}},C=0;C<A;C++)x(C);return l}function gA(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:u,interval:f,tickFormatter:d,unit:h,angle:m}=t;if(!i||!i.length||!r)return[];if(De(f)||Xd.isSsr){var v;return(v=Bse(i,De(f)?f:0))!==null&&v!==void 0?v:[]}var E=[],A=u==="top"||u==="bottom"?"width":"height",x=h&&A==="width"?ad(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},C=(D,q)=>{var F=typeof d=="function"?d(D.value,q):D.value;return A==="width"?qse(ad(F,{fontSize:e,letterSpacing:n}),x,m):ad(F,{fontSize:e,letterSpacing:n})[A]},R=i.length>=2?_r(i[1].coordinate-i[0].coordinate):1,z=zse(o,R,A);return f==="equidistantPreserveStart"?jse(R,z,C,i,l):(f==="preserveStart"||f==="preserveStartEnd"?E=Kse(R,z,C,i,l,f==="preserveStartEnd"):E=$se(R,z,C,i,l),E.filter(D=>D.isShow))}var Yse=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,l=0;if(e){Array.from(e).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+o,d=l+f+u+(n?r:0);return Math.round(d)}return 0},Wse=["axisLine","width","height","className","hide","ticks","axisType"];function Jse(t,e){if(t==null)return{};var n,r,i=Xse(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Dl(){return Dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dl.apply(null,arguments)}function q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q2(Object(n),!0).forEach(function(r){Qse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qse(t,e,n){return(e=Zse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zse(t){var e=ele(t,"string");return typeof e=="symbol"?e:e+""}function ele(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Nn.axis};function tle(t){var{x:e,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:u,otherSvgProps:f}=t;if(!u)return null;var d=un(un(un({},f),Ni(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!l||o==="bottom"&&l);d=un(un({},d),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var m=+(o==="left"&&!l||o==="right"&&l);d=un(un({},d),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return P.createElement("line",Dl({},d,{className:St("recharts-cartesian-axis-line",ac(u,"className"))}))}function nle(t,e,n,r,i,o,l,u,f){var d,h,m,v,E,A,x=u?-1:1,C=t.tickSize||l,R=De(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":d=h=t.coordinate,v=n+ +!u*i,m=v-x*C,A=m-x*f,E=R;break;case"left":m=v=t.coordinate,h=e+ +!u*r,d=h-x*C,E=d-x*f,A=R;break;case"right":m=v=t.coordinate,h=e+ +u*r,d=h+x*C,E=d+x*f,A=R;break;default:d=h=t.coordinate,v=n+ +u*i,m=v+x*C,A=m+x*f,E=R;break}return{line:{x1:d,y1:m,x2:h,y2:v},tick:{x:E,y:A}}}function rle(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function ile(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function ole(t){var{option:e,tickProps:n,value:r}=t,i,o=St(n.className,"recharts-cartesian-axis-tick-value");if(P.isValidElement(e))i=P.cloneElement(e,un(un({},n),{},{className:o}));else if(typeof e=="function")i=e(un(un({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=St(l,e==null?void 0:e.className)),i=P.createElement(fA,Dl({},n,{className:l}),r)}return i}var ale=P.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:l,unit:u,padding:f,tickTextProps:d,orientation:h,mirror:m,x:v,y:E,width:A,height:x,tickSize:C,tickMargin:R,fontSize:z,letterSpacing:D,getTicksConfig:q,events:F,axisType:G}=t,O=gA(un(un({},q),{},{ticks:n}),z,D),k=rle(h,m),M=ile(h,m),V=Ni(q),U=jd(r),B={};typeof i=="object"&&(B=i);var H=un(un({},V),{},{fill:"none"},B),Se=O.map(ue=>un({entry:ue},nle(ue,v,E,A,x,h,C,m,R))),we=Se.map(ue=>{var{entry:ye,line:ve}=ue;return P.createElement(ii,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ye.value,"-").concat(ye.coordinate,"-").concat(ye.tickCoord)},i&&P.createElement("line",Dl({},H,ve,{className:St("recharts-cartesian-axis-tick-line",ac(i,"className"))})))}),X=Se.map((ue,ye)=>{var{entry:ve,tick:Ve}=ue,K=un(un(un(un({textAnchor:k,verticalAnchor:M},V),{},{stroke:"none",fill:o},U),Ve),{},{index:ye,payload:ve,visibleTicksCount:O.length,tickFormatter:l,padding:f},d);return P.createElement(ii,Dl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ve.value,"-").concat(ve.coordinate,"-").concat(ve.tickCoord)},ZS(F,ve,ye)),r&&P.createElement(ole,{option:r,tickProps:K,value:"".concat(typeof l=="function"?l(ve.value,ye):ve.value).concat(u||"")}))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(G,"-ticks")},X.length>0&&P.createElement(li,{zIndex:Nn.label},P.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(G,"-tick-labels"),ref:e},X)),we.length>0&&P.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(G,"-tick-lines")},we))}),sle=P.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:u,axisType:f}=t,d=Jse(t,Wse),[h,m]=P.useState(""),[v,E]=P.useState(""),A=P.useRef(null);P.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var C;return Yse({ticks:A.current,label:(C=t.labelRef)===null||C===void 0?void 0:C.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var x=P.useCallback(C=>{if(C){var R=C.getElementsByClassName("recharts-cartesian-axis-tick-value");A.current=R;var z=R[0];if(z){var D=window.getComputedStyle(z),q=D.fontSize,F=D.letterSpacing;(q!==h||F!==v)&&(m(q),E(F))}}},[h,v]);return l||r!=null&&r<=0||i!=null&&i<=0?null:P.createElement(li,{zIndex:t.zIndex},P.createElement(ii,{className:St("recharts-cartesian-axis",o)},P.createElement(tle,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ni(t)}),P.createElement(ale,{ref:x,axisType:f,events:d,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:v,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:u,unit:t.unit,width:t.width,x:t.x,y:t.y}),P.createElement(bie,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},P.createElement(Nie,{label:t.label,labelRef:t.labelRef}),t.children)))}),yA=P.forwardRef((t,e)=>{var n=sr(t,Wo);return P.createElement(sle,Dl({},n,{ref:e}))});yA.displayName="CartesianAxis";var lle=["x1","y1","x2","y2","key"],ule=["offset"],cle=["xAxisId","yAxisId"],fle=["xAxisId","yAxisId"];function z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z2(Object(n),!0).forEach(function(r){dle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dle(t,e,n){return(e=hle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hle(t){var e=ple(t,"string");return typeof e=="symbol"?e:e+""}function ple(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ml(){return ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ml.apply(null,arguments)}function zg(t,e){if(t==null)return{};var n,r,i=mle(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gle=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:u}=t;return P.createElement("rect",{x:r,y:i,ry:u,width:o,height:l,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Q3(t){var{option:e,lineItemProps:n}=t,r;if(P.isValidElement(e))r=P.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:o,y1:l,x2:u,y2:f,key:d}=n,h=zg(n,lle),m=(i=Ni(h))!==null&&i!==void 0?i:{},{offset:v}=m,E=zg(m,ule);r=P.createElement("line",ml({},E,{x1:o,y1:l,x2:u,y2:f,fill:"none",key:d}))}return r}function yle(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=t,u=zg(t,cle),f=i.map((d,h)=>{var m=Wn(Wn({},u),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(h),index:h});return P.createElement(Q3,{key:"line-".concat(h),option:r,lineItemProps:m})});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function vle(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=t,u=zg(t,fle),f=i.map((d,h)=>{var m=Wn(Wn({},u),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(h),index:h});return P.createElement(Q3,{option:r,lineItemProps:m,key:"line-".concat(h)})});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function _le(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:u,horizontal:f=!0}=t;if(!f||!e||!e.length||u==null)return null;var d=u.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==d[0]&&d.unshift(0);var h=d.map((m,v)=>{var E=!d[v+1],A=E?i+l-m:d[v+1]-m;if(A<=0)return null;var x=v%e.length;return P.createElement("rect",{key:"react-".concat(v),y:m,x:r,height:A,width:o,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function ble(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:u,verticalPoints:f}=t;if(!e||!n||!n.length)return null;var d=f.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==d[0]&&d.unshift(0);var h=d.map((m,v)=>{var E=!d[v+1],A=E?i+l-m:d[v+1]-m;if(A<=0)return null;var x=v%n.length;return P.createElement("rect",{key:"react-".concat(v),x:m,y:o,width:A,height:u,stroke:"none",fill:n[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Ele=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return SV(gA(Wn(Wn(Wn({},Wo),n),{},{ticks:xV(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},Tle=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return SV(gA(Wn(Wn(Wn({},Wo),n),{},{ticks:xV(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},Sle={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Nn.grid};function VT(t){var e=RV(),n=MV(),r=NV(),i=Wn(Wn({},sr(t,Sle)),{},{x:De(t.x)?t.x:r.left,y:De(t.y)?t.y:r.top,width:De(t.width)?t.width:r.width,height:De(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:l,x:u,y:f,width:d,height:h,syncWithTicks:m,horizontalValues:v,verticalValues:E}=i,A=Qn(),x=Oe(M=>OM(M,"xAxis",o,A)),C=Oe(M=>OM(M,"yAxis",l,A));if(!vo(d)||!vo(h)||!De(u)||!De(f))return null;var R=i.verticalCoordinatesGenerator||Ele,z=i.horizontalCoordinatesGenerator||Tle,{horizontalPoints:D,verticalPoints:q}=i;if((!D||!D.length)&&typeof z=="function"){var F=v&&v.length,G=z({yAxis:C?Wn(Wn({},C),{},{ticks:F?v:C.ticks}):void 0,width:e??d,height:n??h,offset:r},F?!0:m);fg(Array.isArray(G),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof G,"]")),Array.isArray(G)&&(D=G)}if((!q||!q.length)&&typeof R=="function"){var O=E&&E.length,k=R({xAxis:x?Wn(Wn({},x),{},{ticks:O?E:x.ticks}):void 0,width:e??d,height:n??h,offset:r},O?!0:m);fg(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(q=k)}return P.createElement(li,{zIndex:i.zIndex},P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement(gle,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),P.createElement(_le,ml({},i,{horizontalPoints:D})),P.createElement(ble,ml({},i,{verticalPoints:q})),P.createElement(yle,ml({},i,{offset:r,horizontalPoints:D,xAxis:x,yAxis:C})),P.createElement(vle,ml({},i,{offset:r,verticalPoints:q,xAxis:x,yAxis:C}))))}VT.displayName="CartesianGrid";var Z3=(t,e,n,r)=>Ts(t,"xAxis",e,r),e5=(t,e,n,r)=>Es(t,"xAxis",e,r),t5=(t,e,n,r)=>Ts(t,"yAxis",n,r),n5=(t,e,n,r)=>Es(t,"yAxis",n,r),xle=oe([dt,Z3,t5,e5,n5],(t,e,n,r,i)=>As(t,"xAxis")?uc(e,r,!1):uc(n,i,!1)),Ale=(t,e,n,r,i)=>i;function wle(t){return t.type==="line"}var Cle=oe([nv,Ale],(t,e)=>t.filter(wle).find(n=>n.id===e)),Ile=oe([dt,Z3,t5,e5,n5,Cle,xle,Yy],(t,e,n,r,i,o,l,u)=>{var{chartData:f,dataStartIndex:d,dataEndIndex:h}=u;if(!(o==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:m,data:v}=o,E;if(v!=null&&v.length>0?E=v:E=f==null?void 0:f.slice(d,h+1),E!=null)return Wle({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:l,displayedData:E})}});function Ple(t){var e=jd(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:o}=e,l=Number(i),u=Number(o);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var Nle=["id"],Rle=["type","layout","connectNulls","needClip","shape"],Mle=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nd.apply(null,arguments)}function B2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(n),!0).forEach(function(r){Dle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dle(t,e,n){return(e=Ole(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ole(t){var e=kle(t,"string");return typeof e=="symbol"?e:e+""}function kle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vA(t,e){if(t==null)return{};var n,r,i=Lle(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ule=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:Ny(n,e),payload:t}]},Vle=P.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:l,hide:u,unit:f,tooltipType:d}=t,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:Ny(l,e),hide:u,type:d,color:r,unit:f}};return P.createElement(L3,{tooltipEntrySettings:h})}),r5=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function qle(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var zle=(t,e,n)=>{var r=n.reduce((m,v)=>m+v);if(!r)return r5(e,t);for(var i=Math.floor(t/r),o=t%r,l=e-t,u=[],f=0,d=0;f<n.length;d+=n[f],++f)if(d+n[f]>o){u=[...n.slice(0,f),o-d];break}var h=u.length%2===0?[0,l]:[l];return[...qle(n,i),...u,...h].map(m=>"".concat(m,"px")).join(", ")};function Ble(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:o,needClip:l}=r,{id:u}=r,f=vA(r,Nle),d=Ni(f);return P.createElement(Noe,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:d,needClip:l,clipPathId:e})}function jle(t){var{showLabels:e,children:n,points:r}=t,i=P.useMemo(()=>r==null?void 0:r.map(o=>{var l,u,f={x:(l=o.x)!==null&&l!==void 0?l:0,y:(u=o.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return oo(oo({},f),{},{value:o.value,payload:o.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return P.createElement(A3,{value:e?i:void 0},n)}function j2(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:o}=t,{type:l,layout:u,connectNulls:f,needClip:d,shape:h}=o,m=vA(o,Rle),v=oo(oo({},or(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:f,strokeDasharray:i??o.strokeDasharray});return P.createElement(P.Fragment,null,(r==null?void 0:r.length)>1&&P.createElement(M3,Nd({shapeType:"curve",option:h},v,{pathRef:n})),P.createElement(Ble,{points:r,clipPathId:e,props:o}))}function Fle(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Hle(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=t,{points:l,strokeDasharray:u,isAnimationActive:f,animationBegin:d,animationDuration:h,animationEasing:m,animateNewValues:v,width:E,height:A,onAnimationEnd:x,onAnimationStart:C}=n,R=i.current,z=By(l,"recharts-line-"),D=P.useRef(z),[q,F]=P.useState(!1),G=!q,O=P.useCallback(()=>{typeof x=="function"&&x(),F(!1)},[x]),k=P.useCallback(()=>{typeof C=="function"&&C(),F(!0)},[C]),M=Fle(r.current),V=P.useRef(0);D.current!==z&&(V.current=o.current,D.current=z);var U=V.current;return P.createElement(jle,{points:l,showLabels:G},n.children,P.createElement(zy,{animationId:z,begin:d,duration:h,isActive:f,easing:m,onAnimationEnd:O,onAnimationStart:k,key:z},B=>{var H=Ft(U,M+U,B),Se=Math.min(H,M),we;if(f)if(u){var X="".concat(u).split(/[,\s]+/gim).map(ve=>parseFloat(ve));we=zle(Se,M,X)}else we=r5(M,Se);else we=u==null?void 0:String(u);if(B>0&&M>0&&(i.current=l,o.current=Math.max(o.current,Se)),R){var ue=R.length/l.length,ye=B===1?l:l.map((ve,Ve)=>{var K=Math.floor(Ve*ue);if(R[K]){var le=R[K];return oo(oo({},ve),{},{x:Ft(le.x,ve.x,B),y:Ft(le.y,ve.y,B)})}return v?oo(oo({},ve),{},{x:Ft(E*2,ve.x,B),y:Ft(A/2,ve.y,B)}):oo(oo({},ve),{},{x:ve.x,y:ve.y})});return i.current=ye,P.createElement(j2,{props:n,points:ye,clipPathId:e,pathRef:r,strokeDasharray:we})}return P.createElement(j2,{props:n,points:l,clipPathId:e,pathRef:r,strokeDasharray:we})}),P.createElement(C3,{label:n.label}))}function Gle(t){var{clipPathId:e,props:n}=t,r=P.useRef(null),i=P.useRef(0),o=P.useRef(null);return P.createElement(Hle,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:o})}var $le=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:yn(t.payload,e)}};class Kle extends P.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:o,yAxisId:l,top:u,left:f,width:d,height:h,id:m,needClip:v,zIndex:E}=this.props;if(e)return null;var A=St("recharts-line",i),x=m,{r:C,strokeWidth:R}=Ple(n),z=R3(n),D=C*2+R,q=v?"url(#clipPath-".concat(z?"":"dots-").concat(x,")"):void 0;return P.createElement(li,{zIndex:E},P.createElement(ii,{className:A},v&&P.createElement("defs",null,P.createElement(G3,{clipPathId:x,xAxisId:o,yAxisId:l}),!z&&P.createElement("clipPath",{id:"clipPath-dots-".concat(x)},P.createElement("rect",{x:f-D/2,y:u-D/2,width:d+D,height:h+D}))),P.createElement(H3,{xAxisId:o,yAxisId:l,data:r,dataPointFormatter:$le,errorBarOffset:0},P.createElement(Gle,{props:this.props,clipPathId:x}))),P.createElement(Joe,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:q}))}}var i5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Nn.line,type:"linear"};function Yle(t){var e=sr(t,i5),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:l,connectNulls:u,dot:f,hide:d,isAnimationActive:h,label:m,legendType:v,xAxisId:E,yAxisId:A,id:x}=e,C=vA(e,Mle),{needClip:R}=pA(E,A),z=hA(),D=Wd(),q=Qn(),F=Oe(V=>Ile(V,E,A,q,x));if(D!=="horizontal"&&D!=="vertical"||F==null||z==null)return null;var{height:G,width:O,x:k,y:M}=z;return P.createElement(Kle,Nd({},C,{id:x,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:l,isAnimationActive:h,hide:d,label:m,legendType:v,xAxisId:E,yAxisId:A,points:F,layout:D,height:G,width:O,left:k,top:M,needClip:R}))}function Wle(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:l,bandSize:u,displayedData:f}=t;return f.map((d,h)=>{var m=yn(d,l);if(e==="horizontal"){var v=eR({axis:n,ticks:i,bandSize:u,entry:d,index:h}),E=Vt(m)?null:r.scale(m);return{x:v,y:E,value:m,payload:d}}var A=Vt(m)?null:n.scale(m),x=eR({axis:r,ticks:o,bandSize:u,entry:d,index:h});return A==null||x==null?null:{x:A,y:x,value:m,payload:d}}).filter(Boolean)}function Jle(t){var e=sr(t,i5),n=Qn();return P.createElement(q3,{id:e.id,type:"line"},r=>P.createElement(P.Fragment,null,P.createElement(U3,{legendPayload:Ule(e)}),P.createElement(Vle,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),P.createElement(B3,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),P.createElement(Yle,Nd({},e,{id:r}))))}var o5=P.memo(Jle,av);o5.displayName="Line";var Xle=["domain","range"],Qle=["domain","range"];function F2(t,e){if(t==null)return{};var n,r,i=Zle(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function H2(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function a5(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=F2(t,Xle),{domain:o,range:l}=e,u=F2(e,Qle);return!H2(n,o)||!H2(r,l)?!1:av(i,u)}var eue=["dangerouslySetInnerHTML","ticks"],tue=["id"];function qT(){return qT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qT.apply(null,arguments)}function G2(t,e){if(t==null)return{};var n,r,i=nue(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rue(t){var e=Qt(),n=P.useRef(null);return P.useLayoutEffect(()=>{n.current===null?e(koe(t)):n.current!==t&&e(Loe({prev:n.current,next:t})),n.current=t},[t,e]),P.useLayoutEffect(()=>()=>{n.current&&(e(Uoe(n.current)),n.current=null)},[e]),null}var iue=t=>{var{xAxisId:e,className:n}=t,r=Oe(cx),i=Qn(),o="xAxis",l=Oe(C=>Cc(C,o,e,i)),u=Oe(C=>L6(C,o,e,i)),f=Oe(C=>M6(C,e)),d=Oe(C=>xte(C,e)),h=Oe(C=>t6(C,e));if(f==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:v}=t,E=G2(t,eue),{id:A}=h,x=G2(h,tue);return P.createElement(yA,qT({},E,x,{scale:l,x:d.x,y:d.y,width:f.width,height:f.height,className:St("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u,axisType:o}))},oue={allowDataOverflow:wn.allowDataOverflow,allowDecimals:wn.allowDecimals,allowDuplicatedCategory:wn.allowDuplicatedCategory,angle:wn.angle,axisLine:Wo.axisLine,height:wn.height,hide:!1,includeHidden:wn.includeHidden,interval:wn.interval,minTickGap:wn.minTickGap,mirror:wn.mirror,orientation:wn.orientation,padding:wn.padding,reversed:wn.reversed,scale:wn.scale,tick:wn.tick,tickCount:wn.tickCount,tickLine:Wo.tickLine,tickSize:Wo.tickSize,type:wn.type,xAxisId:0},aue=t=>{var e=sr(t,oue);return P.createElement(P.Fragment,null,P.createElement(rue,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),P.createElement(iue,e))},zT=P.memo(aue,a5);zT.displayName="XAxis";var sue=["dangerouslySetInnerHTML","ticks"],lue=["id"];function BT(){return BT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BT.apply(null,arguments)}function $2(t,e){if(t==null)return{};var n,r,i=uue(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function uue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cue(t){var e=Qt(),n=P.useRef(null);return P.useLayoutEffect(()=>{n.current===null?e(Voe(t)):n.current!==t&&e(qoe({prev:n.current,next:t})),n.current=t},[t,e]),P.useLayoutEffect(()=>()=>{n.current&&(e(zoe(n.current)),n.current=null)},[e]),null}var fue=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,o=P.useRef(null),l=P.useRef(null),u=Oe(cx),f=Qn(),d=Qt(),h="yAxis",m=Oe(F=>Cc(F,h,e,f)),v=Oe(F=>D6(F,e)),E=Oe(F=>wte(F,e)),A=Oe(F=>L6(F,h,e,f)),x=Oe(F=>n6(F,e));if(P.useLayoutEffect(()=>{if(!(r!=="auto"||!v||dA(i)||P.isValidElement(i)||x==null)){var F=o.current;if(F){var G=F.getCalculatedWidth();Math.round(v.width)!==Math.round(G)&&d(Boe({id:e,width:G}))}}},[A,v,d,i,e,r,x]),v==null||E==null||x==null)return null;var{dangerouslySetInnerHTML:C,ticks:R}=t,z=$2(t,sue),{id:D}=x,q=$2(x,lue);return P.createElement(yA,BT({},z,q,{ref:o,labelRef:l,scale:m,x:E.x,y:E.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:St("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:A,axisType:h}))},due={allowDataOverflow:Cn.allowDataOverflow,allowDecimals:Cn.allowDecimals,allowDuplicatedCategory:Cn.allowDuplicatedCategory,angle:Cn.angle,axisLine:Wo.axisLine,hide:!1,includeHidden:Cn.includeHidden,interval:Cn.interval,minTickGap:Cn.minTickGap,mirror:Cn.mirror,orientation:Cn.orientation,padding:Cn.padding,reversed:Cn.reversed,scale:Cn.scale,tick:Cn.tick,tickCount:Cn.tickCount,tickLine:Wo.tickLine,tickSize:Wo.tickSize,type:Cn.type,width:Cn.width,yAxisId:0},hue=t=>{var e=sr(t,due);return P.createElement(P.Fragment,null,P.createElement(cue,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),P.createElement(fue,e))},jT=P.memo(hue,a5);jT.displayName="YAxis";var pue=(t,e)=>e,_A=oe([pue,dt,Z4,En,Q6,pa,Bne,Rn],Yne),bA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},s5=oi("mouseClick"),l5=Kd();l5.startListening({actionCreator:s5,effect:(t,e)=>{var n=t.payload,r=_A(e.getState(),bA(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(zte({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var FT=oi("mouseMove"),u5=Kd(),cm=null;u5.startListening({actionCreator:FT,effect:(t,e)=>{var n=t.payload;cm!==null&&cancelAnimationFrame(cm);var r=bA(n);cm=requestAnimationFrame(()=>{var i=e.getState(),o=tA(i,i.tooltip.settings.shared);if(o==="axis"){var l=_A(i,r);(l==null?void 0:l.activeIndex)!=null?e.dispatch(H6({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):e.dispatch(F6())}cm=null})}});var K2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},c5=Tr({name:"rootProps",initialState:K2,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:K2.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),mue=c5.reducer,{updateOptions:gue}=c5.actions,f5=Tr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:mye}=f5.actions,yue=f5.reducer,d5=oi("keyDown"),h5=oi("focus"),EA=Kd();EA.startListening({actionCreator:d5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=nA(i,Pc(n),ih(n),uh(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var f=pa(n);if(o==="Enter"){var d=Mg(n,"axis","hover",String(i.index));e.dispatch(RT({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=Nte(n),m=h==="left-to-right"?1:-1,v=o==="ArrowRight"?1:-1,E=u+v*m;if(!(f==null||E>=f.length||E<0)){var A=Mg(n,"axis","hover",String(E));e.dispatch(RT({active:!0,activeIndex:E.toString(),activeDataKey:void 0,activeCoordinate:A}))}}}}}});EA.startListening({actionCreator:h5,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=Mg(n,"axis","hover",String(o));e.dispatch(RT({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var Zr=oi("externalEvent"),p5=Kd(),hE=new Map;p5.startListening({actionCreator:Zr,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,o=hE.get(i);o!==void 0&&cancelAnimationFrame(o);var l=requestAnimationFrame(()=>{try{var u=e.getState(),f={activeCoordinate:Ane(u),activeDataKey:n3(u),activeIndex:Ml(u),activeLabel:t3(u),activeTooltipIndex:Ml(u),isTooltipActive:wne(u)};n(f,r)}finally{hE.delete(i)}});hE.set(i,l)}}});var vue=oe([Ic],t=>t.tooltipItemPayloads),_ue=oe([vue,sh,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=e(o,n);return l}}}),m5=oi("touchMove"),g5=Kd();g5.startListening({actionCreator:m5,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=tA(r,r.tooltip.settings.shared);if(i==="axis"){var o=_A(r,bA({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(H6({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0];if(document.elementFromPoint==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(wW),h=(l=f.getAttribute(CW))!==null&&l!==void 0?l:void 0,m=_ue(e.getState(),d,h);e.dispatch(j6({activeDataKey:h,activeIndex:d,activeCoordinate:m}))}}}});var bue=YU({brush:Pse,cartesianAxis:joe,chartData:Are,errorBars:lae,graphicalItems:boe,layout:sW,legend:vJ,options:bre,polarAxis:Hie,polarOptions:yue,referenceElements:Lse,rootProps:mue,tooltip:Bte,zIndex:lre}),Eue=function(e){return MY({reducer:bue,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([l5.middleware,u5.middleware,EA.middleware,p5.middleware,g5.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(uV({type:"raf"}))},devTools:Xd.devToolsEnabled})};function Tue(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Qn(),o=P.useRef(null);if(i)return n;o.current==null&&(o.current=Eue(e));var l=tx;return P.createElement(Nae,{context:l,store:o.current},n)}function Sue(t){var{layout:e,margin:n}=t,r=Qt(),i=Qn();return P.useEffect(()=>{i||(r(iW(e)),r(rW(n)))},[r,i,e,n]),null}var xue=P.memo(Sue,av);function Aue(t){var e=Qt();return P.useEffect(()=>{e(gue(t))},[e,t]),null}function Y2(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=V3("".concat(r).concat(e)),o=Qt();return P.useLayoutEffect(()=>(o(are({zIndex:e,elementId:i,isPanorama:n})),()=>{o(sre({zIndex:e,isPanorama:n}))}),[o,e,i,n]),P.createElement("g",{tabIndex:-1,id:i})}function W2(t){var{children:e,isPanorama:n}=t,r=Oe(Jne);if(!r||r.length===0)return e;var i=r.filter(l=>l<0),o=r.filter(l=>l>0);return P.createElement(P.Fragment,null,i.map(l=>P.createElement(Y2,{key:l,zIndex:l,isPanorama:n})),e,o.map(l=>P.createElement(Y2,{key:l,zIndex:l,isPanorama:n})))}var wue=["children"];function Cue(t,e){if(t==null)return{};var n,r,i=Iue(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Iue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bg.apply(null,arguments)}var Pue={width:"100%",height:"100%",display:"block"},Nue=P.forwardRef((t,e)=>{var n=RV(),r=MV(),i=zV();if(!vo(n)||!vo(r))return null;var{children:o,otherAttributes:l,title:u,desc:f}=t,d,h;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),P.createElement(cU,Bg({},l,{title:u,desc:f,role:h,tabIndex:d,width:n,height:r,style:Pue,ref:e}),o)}),Rue=t=>{var{children:e}=t,n=Oe(Oy);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return P.createElement(cU,{width:r,height:i,x:l,y:o},e)},J2=P.forwardRef((t,e)=>{var{children:n}=t,r=Cue(t,wue),i=Qn();return i?P.createElement(Rue,null,P.createElement(W2,{isPanorama:!0},n)):P.createElement(Nue,Bg({ref:e},r),P.createElement(W2,{isPanorama:!1},n))});function Mue(){var t=Qt(),[e,n]=P.useState(null),r=Oe(AW);return P.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Xt(o)&&o!==r&&t(aW(o))}},[e,t,r]),n}function X2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Due(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(n),!0).forEach(function(r){Oue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oue(t,e,n){return(e=kue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kue(t){var e=Lue(t,"string");return typeof e=="symbol"?e:e+""}function Lue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ol(){return Ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ol.apply(null,arguments)}var Uue=()=>(Ore(),null);function jg(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Vue=P.forwardRef((t,e)=>{var n,r,i=P.useRef(null),[o,l]=P.useState({containerWidth:jg((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:jg((r=t.style)===null||r===void 0?void 0:r.height)}),u=P.useCallback((d,h)=>{l(m=>{var v=Math.round(d),E=Math.round(h);return m.containerWidth===v&&m.containerHeight===E?m:{containerWidth:v,containerHeight:E}})},[]),f=P.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();u(h,m);var v=A=>{var{width:x,height:C}=A[0].contentRect;u(x,C)},E=new ResizeObserver(v);E.observe(d),i.current=E}},[e,u]);return P.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[u]),P.createElement(P.Fragment,null,P.createElement(Ly,{width:o.containerWidth,height:o.containerHeight}),P.createElement("div",Ol({ref:f},t)))}),que=P.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=P.useState({containerWidth:jg(n),containerHeight:jg(r)}),l=P.useCallback((f,d)=>{o(h=>{var m=Math.round(f),v=Math.round(d);return h.containerWidth===m&&h.containerHeight===v?h:{containerWidth:m,containerHeight:v}})},[]),u=P.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null){var{width:d,height:h}=f.getBoundingClientRect();l(d,h)}},[e,l]);return P.createElement(P.Fragment,null,P.createElement(Ly,{width:i.containerWidth,height:i.containerHeight}),P.createElement("div",Ol({ref:u},t)))}),zue=P.forwardRef((t,e)=>{var{width:n,height:r}=t;return P.createElement(P.Fragment,null,P.createElement(Ly,{width:n,height:r}),P.createElement("div",Ol({ref:e},t)))}),Bue=P.forwardRef((t,e)=>{var{width:n,height:r}=t;return ea(n)||ea(r)?P.createElement(que,Ol({},t,{ref:e})):P.createElement(zue,Ol({},t,{ref:e}))});function jue(t){return t===!0?Vue:Bue}var Fue=P.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:v,onTouchEnd:E,onTouchMove:A,onTouchStart:x,style:C,width:R,responsive:z,dispatchTouchEvents:D=!0}=t,q=P.useRef(null),F=Qt(),[G,O]=P.useState(null),[k,M]=P.useState(null),V=Mue(),U=fx(),B=(U==null?void 0:U.width)>0?U.width:R,H=(U==null?void 0:U.height)>0?U.height:i,Se=P.useCallback(W=>{V(W),typeof e=="function"&&e(W),O(W),M(W),W!=null&&(q.current=W)},[V,e,O,M]),we=P.useCallback(W=>{F(s5(W)),F(Zr({handler:o,reactEvent:W}))},[F,o]),X=P.useCallback(W=>{F(FT(W)),F(Zr({handler:d,reactEvent:W}))},[F,d]),ue=P.useCallback(W=>{F(F6()),F(Zr({handler:h,reactEvent:W}))},[F,h]),ye=P.useCallback(W=>{F(FT(W)),F(Zr({handler:m,reactEvent:W}))},[F,m]),ve=P.useCallback(()=>{F(h5())},[F]),Ve=P.useCallback(W=>{F(d5(W.key))},[F]),K=P.useCallback(W=>{F(Zr({handler:l,reactEvent:W}))},[F,l]),le=P.useCallback(W=>{F(Zr({handler:u,reactEvent:W}))},[F,u]),Ee=P.useCallback(W=>{F(Zr({handler:f,reactEvent:W}))},[F,f]),se=P.useCallback(W=>{F(Zr({handler:v,reactEvent:W}))},[F,v]),he=P.useCallback(W=>{F(Zr({handler:x,reactEvent:W}))},[F,x]),be=P.useCallback(W=>{D&&F(m5(W)),F(Zr({handler:A,reactEvent:W}))},[F,D,A]),Te=P.useCallback(W=>{F(Zr({handler:E,reactEvent:W}))},[F,E]),te=jue(z);return P.createElement(u3.Provider,{value:G},P.createElement(h$.Provider,{value:k},P.createElement(te,{width:B??(C==null?void 0:C.width),height:H??(C==null?void 0:C.height),className:St("recharts-wrapper",r),style:Due({position:"relative",cursor:"default",width:B,height:H},C),onClick:we,onContextMenu:K,onDoubleClick:le,onFocus:ve,onKeyDown:Ve,onMouseDown:Ee,onMouseEnter:X,onMouseLeave:ue,onMouseMove:ye,onMouseUp:se,onTouchEnd:Te,onTouchMove:be,onTouchStart:he,ref:Se},P.createElement(Uue,null),n)))}),Hue=["width","height","responsive","children","className","style","compact","title","desc"];function Gue(t,e){if(t==null)return{};var n,r,i=$ue(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $ue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Kue=P.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:l,style:u,compact:f,title:d,desc:h}=t,m=Gue(t,Hue),v=Ni(m);return f?P.createElement(P.Fragment,null,P.createElement(Ly,{width:n,height:r}),P.createElement(J2,{otherAttributes:v,title:d,desc:h},o)):P.createElement(Fue,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},P.createElement(J2,{otherAttributes:v,title:d,desc:h,ref:e},P.createElement(Vse,null,o)))});function HT(){return HT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HT.apply(null,arguments)}var Yue={top:5,right:5,bottom:5,left:5},Wue={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Yue,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},y5=P.forwardRef(function(e,n){var r,i=sr(e.categoricalChartProps,Wue),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:d}=e,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return P.createElement(Tue,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:o},P.createElement(Ise,{chartData:d.data}),P.createElement(xue,{layout:i.layout,margin:i.margin}),P.createElement(Aue,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),P.createElement(Kue,HT({},i,{ref:n})))}),Jue=["axis"],Xue=P.forwardRef((t,e)=>P.createElement(y5,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Jue,tooltipPayloadSearcher:c3,categoricalChartProps:t,ref:e})),Que=["axis","item"],Zue=P.forwardRef((t,e)=>P.createElement(y5,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Que,tooltipPayloadSearcher:c3,categoricalChartProps:t,ref:e}));const fm=t=>t.toLocaleString("es-CL",{style:"currency",currency:"CLP"}),ece=({data:t})=>{const e=P.useMemo(()=>{const r=t.sales.reduce((u,f)=>u+f.totalPrice,0),i=t.sales.reduce((u,f)=>{const d=t.products.find(h=>h.id===f.productId);return u+(d?d.costPrice*f.quantity:0)},0),o=r-i,l=t.ingredients.filter(u=>u.quantity<=u.lowStockThreshold).length;return{totalSales:r,profit:o,lowStockCount:l,saleCount:t.sales.length}},[t]),n=P.useMemo(()=>{const r={};return t.sales.forEach(i=>{const o=new Date(i.date).toLocaleDateString("es-ES",{weekday:"short"});r[o]=(r[o]||0)+i.totalPrice}),Object.keys(r).map(i=>({name:i,ventas:r[i]}))},[t.sales]);return S.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[S.jsx("h2",{className:"text-2xl font-bold text-stone-800",children:"Panel General"}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-stone-100 flex items-center space-x-4",children:[S.jsx("div",{className:"p-3 bg-emerald-100 text-emerald-600 rounded-full",children:S.jsx(Zf,{size:24})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-stone-500",children:"Ventas Totales"}),S.jsx("p",{className:"text-2xl font-bold text-stone-800",children:fm(e.totalSales)})]})]}),S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-stone-100 flex items-center space-x-4",children:[S.jsx("div",{className:"p-3 bg-amber-100 text-amber-600 rounded-full",children:S.jsx(YB,{size:24})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-stone-500",children:"Ganancia Neta"}),S.jsx("p",{className:"text-2xl font-bold text-stone-800",children:fm(e.profit)})]})]}),S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-stone-100 flex items-center space-x-4",children:[S.jsx("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-full",children:S.jsx(Nm,{size:24})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-stone-500",children:"Transacciones"}),S.jsx("p",{className:"text-2xl font-bold text-stone-800",children:e.saleCount})]})]}),S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-stone-100 flex items-center space-x-4",children:[S.jsx("div",{className:`p-3 rounded-full ${e.lowStockCount>0?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:S.jsx(JB,{size:24})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-stone-500",children:"Alertas Stock"}),S.jsx("p",{className:"text-2xl font-bold text-stone-800",children:e.lowStockCount})]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-stone-100",children:[S.jsx("h3",{className:"text-lg font-semibold text-stone-800 mb-4",children:"Tendencia de Ventas"}),S.jsx("div",{className:"h-64",children:S.jsx(dR,{width:"100%",height:"100%",children:S.jsxs(Xue,{data:n,children:[S.jsx(VT,{strokeDasharray:"3 3",stroke:"#e5e5e5"}),S.jsx(zT,{dataKey:"name",stroke:"#78716c",fontSize:12}),S.jsx(jT,{stroke:"#78716c",fontSize:12,tickFormatter:r=>`$${r}`}),S.jsx(XM,{formatter:r=>[fm(r),"Ventas"],contentStyle:{backgroundColor:"#fff",borderRadius:"8px",border:"1px solid #e7e5e4"}}),S.jsx(o5,{type:"monotone",dataKey:"ventas",stroke:"#d97706",strokeWidth:3,dot:{fill:"#d97706",r:4},activeDot:{r:6}})]})})})]}),S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-stone-100",children:[S.jsx("h3",{className:"text-lg font-semibold text-stone-800 mb-4",children:"Productos ms Vendidos"}),S.jsx("div",{className:"h-64 flex flex-col justify-center items-center text-stone-400",children:S.jsx(dR,{width:"100%",height:"100%",children:S.jsxs(Zue,{data:n,children:[S.jsx(VT,{strokeDasharray:"3 3",stroke:"#e5e5e5",vertical:!1}),S.jsx(zT,{dataKey:"name",stroke:"#78716c",fontSize:12}),S.jsx(jT,{stroke:"#78716c",fontSize:12,tickFormatter:r=>`$${r}`}),S.jsx(XM,{formatter:r=>[fm(r),"Ventas"],cursor:{fill:"#f5f5f4"},contentStyle:{backgroundColor:"#fff",borderRadius:"8px",border:"1px solid #e7e5e4"}}),S.jsx(K3,{dataKey:"ventas",fill:"#f59e0b",radius:[4,4,0,0],barSize:40})]})})})]})]})]})},dm=t=>t.toLocaleString("es-CL",{style:"currency",currency:"CLP"}),tce=({ingredients:t,onAdd:e,onUpdate:n,onDelete:r})=>{const[i,o]=P.useState(!1),[l,u]=P.useState(null),[f,d]=P.useState({name:"",quantity:0,unit:"kg",costPerUnit:0,lowStockThreshold:5}),[h,m]=P.useState(!1),[v,E]=P.useState(null),[A,x]=P.useState(""),[C,R]=P.useState(""),z=V=>{d(V),u(V.id),o(!0)},D=()=>{o(!1),u(null),d({name:"",quantity:0,unit:"kg",costPerUnit:0,lowStockThreshold:5})},q=V=>{V.preventDefault(),f.name&&f.quantity!==void 0&&(l?n(l,{name:f.name,quantity:Number(f.quantity),unit:f.unit||"kg",costPerUnit:Number(f.costPerUnit),lowStockThreshold:Number(f.lowStockThreshold)||5}):e({id:Date.now().toString(),name:f.name,quantity:Number(f.quantity),unit:f.unit||"kg",costPerUnit:Number(f.costPerUnit),lowStockThreshold:Number(f.lowStockThreshold)||5}),D())},F=V=>{E(V),x(""),R(V.costPerUnit.toString()),m(!0)},G=()=>{m(!1),E(null),x(""),R("")},O=V=>{if(V.preventDefault(),!v||!A||!C)return;const U=parseFloat(A),B=parseFloat(C),H=v.quantity*v.costPerUnit,Se=U*B,we=v.quantity+U,X=we>0?(H+Se)/we:B;n(v.id,{quantity:we,costPerUnit:X}),G()},M=(()=>{if(!v)return null;const V=parseFloat(A)||0,U=parseFloat(C)||0,B=v.quantity+V,H=v.quantity*v.costPerUnit+V*U,Se=B>0?H/B:0;return{totalQ:B,avgCost:Se}})();return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-stone-800",children:"Inventario de Materia Prima"}),S.jsx("p",{className:"text-sm text-stone-500",children:'Gestiona tus insumos. Usa el botn "Reponer" para compras nuevas.'})]}),S.jsxs("button",{onClick:()=>o(!0),className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors shadow-sm",children:[S.jsx(gl,{size:20})," Nuevo Ingrediente"]})]}),S.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-stone-100 overflow-hidden",children:S.jsxs("table",{className:"w-full text-left",children:[S.jsx("thead",{className:"bg-stone-50 text-stone-600 font-medium",children:S.jsxs("tr",{children:[S.jsx("th",{className:"p-4",children:"Ingrediente"}),S.jsx("th",{className:"p-4",children:"Stock Actual"}),S.jsx("th",{className:"p-4",children:"Costo Promedio"}),S.jsx("th",{className:"p-4",children:"Valor Total"}),S.jsx("th",{className:"p-4",children:"Estado"}),S.jsx("th",{className:"p-4 text-right",children:"Acciones"})]})}),S.jsxs("tbody",{className:"divide-y divide-stone-100",children:[t.map(V=>{const U=V.quantity<=V.lowStockThreshold;return S.jsxs("tr",{className:"hover:bg-stone-50/50 transition-colors",children:[S.jsx("td",{className:"p-4 font-medium text-stone-800 cursor-pointer hover:text-amber-600 transition-colors",onClick:()=>z(V),title:"Clic para editar nombre y detalles",children:V.name}),S.jsx("td",{className:"p-4",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:()=>n(V.id,{quantity:Math.max(0,V.quantity-1)}),className:"w-8 h-8 rounded-lg bg-stone-100 hover:bg-stone-200 flex items-center justify-center text-stone-600 font-bold transition-colors shadow-sm",title:"Restar 1",children:"-"}),S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx("input",{type:"number",min:"0",step:"any",value:V.quantity===0?"":V.quantity,onChange:B=>{const H=B.target.value===""?0:parseFloat(B.target.value);n(V.id,{quantity:H})},className:"w-20 text-center font-bold text-stone-800 bg-transparent border-b-2 border-stone-100 focus:border-amber-500 outline-none p-1 transition-colors",placeholder:"0"}),S.jsx("span",{className:"text-[10px] text-stone-400 font-medium mt-0.5",children:V.unit})]}),S.jsx("button",{onClick:()=>n(V.id,{quantity:V.quantity+1}),className:"w-8 h-8 rounded-lg bg-stone-100 hover:bg-stone-200 flex items-center justify-center text-stone-600 font-bold transition-colors shadow-sm",title:"Sumar 1",children:"+"})]})}),S.jsx("td",{className:"p-4 text-stone-600",children:S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("span",{className:"text-stone-400 text-sm",children:"$"}),S.jsx("input",{type:"number",min:"0",className:"w-20 bg-transparent border-b-2 border-transparent hover:border-stone-200 focus:border-amber-500 outline-none font-medium text-stone-600 transition-colors p-1",value:V.costPerUnit,onChange:B=>n(V.id,{costPerUnit:parseFloat(B.target.value)||0})}),S.jsxs("span",{className:"text-sm text-stone-400",children:["/ ",V.unit]})]})}),S.jsx("td",{className:"p-4 font-medium text-stone-800",children:dm(V.quantity*V.costPerUnit)}),S.jsx("td",{className:"p-4",children:U?S.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[S.jsx(uI,{size:12})," Bajo"]}):S.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"OK"})}),S.jsx("td",{className:"p-4 text-right",children:S.jsxs("div",{className:"flex items-center justify-end gap-2",children:[S.jsxs("button",{onClick:()=>F(V),className:"bg-emerald-50 text-emerald-600 hover:bg-emerald-100 hover:text-emerald-700 p-2 rounded-lg transition-colors flex items-center gap-2 border border-emerald-200",title:"Reponer Stock (Compra)",children:[S.jsx(Nm,{size:18}),S.jsx("span",{className:"text-xs font-bold hidden md:inline",children:"Reponer"})]}),S.jsx("div",{className:"h-6 w-px bg-stone-200 mx-1"}),S.jsx("button",{onClick:()=>z(V),className:"text-stone-400 hover:text-amber-600 p-2 hover:bg-amber-50 rounded-lg transition-colors",title:"Editar detalles",children:S.jsx(OB,{size:18})}),S.jsx("button",{onClick:()=>r(V.id),className:"text-stone-400 hover:text-red-600 p-2 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar ingrediente",children:S.jsx(Sl,{size:18})})]})})]},V.id)}),t.length===0&&S.jsx("tr",{children:S.jsx("td",{colSpan:6,className:"p-8 text-center text-stone-400",children:"No hay ingredientes registrados. Agrega uno nuevo para comenzar."})})]})]})}),i&&S.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h3",{className:"text-xl font-bold text-stone-800",children:l?"Editar Ficha Ingrediente":"Nuevo Ingrediente"}),S.jsx("button",{onClick:D,className:"text-stone-400 hover:text-stone-600",children:S.jsx(Pi,{size:20})})]}),S.jsxs("form",{onSubmit:q,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Nombre"}),S.jsx("input",{type:"text",required:!0,className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",value:f.name,onChange:V=>d({...f,name:V.target.value}),placeholder:"Ej. Harina 000"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Stock Inicial"}),S.jsx("input",{type:"number",required:!0,step:"0.01",className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",value:f.quantity,onChange:V=>d({...f,quantity:parseFloat(V.target.value)})}),S.jsx("p",{className:"text-xs text-stone-400 mt-1",children:"Cantidad total disponible"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Unidad"}),S.jsxs("select",{className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",value:f.unit,onChange:V=>d({...f,unit:V.target.value}),children:[S.jsx("option",{value:"kg",children:"kg"}),S.jsx("option",{value:"gr",children:"gr"}),S.jsx("option",{value:"lt",children:"lt"}),S.jsx("option",{value:"unidades",children:"unidades"})]})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Costo Unitario (CLP)"}),S.jsx("input",{type:"number",required:!0,className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",value:f.costPerUnit,onChange:V=>d({...f,costPerUnit:parseFloat(V.target.value)})}),S.jsxs("p",{className:"text-xs text-stone-400 mt-1 leading-tight",children:["Ingresa el valor de ",S.jsxs("strong",{children:["1 ",f.unit||"unidad"]}),".",f.unit==="kg"&&S.jsx("span",{className:"block mt-1 text-amber-600",children:"Ej: Si 500g cuestan $1.000, 1kg cuesta $2.000."})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Alerta Mnimo"}),S.jsx("input",{type:"number",required:!0,className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",value:f.lowStockThreshold,onChange:V=>d({...f,lowStockThreshold:parseFloat(V.target.value)})})]})]}),S.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[S.jsx("button",{type:"button",onClick:D,className:"px-4 py-2 text-stone-600 hover:bg-stone-50 rounded-lg",children:"Cancelar"}),S.jsx("button",{type:"submit",className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg",children:l?"Guardar Cambios":"Crear Ingrediente"})]})]})]})}),h&&v&&S.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden",children:[S.jsxs("div",{className:"bg-emerald-50 p-6 border-b border-emerald-100 flex justify-between items-start",children:[S.jsxs("div",{children:[S.jsxs("h3",{className:"text-xl font-bold text-emerald-900 flex items-center gap-2",children:[S.jsx(Nm,{size:24})," Reponer Stock"]}),S.jsx("p",{className:"text-emerald-700 text-sm mt-1",children:"Ingresa los datos de tu compra y nosotros calculamos el promedio."})]}),S.jsx("button",{onClick:G,className:"text-emerald-700 hover:bg-emerald-100 rounded-full p-1",children:S.jsx(Pi,{size:20})})]}),S.jsxs("form",{onSubmit:O,className:"p-6 space-y-6",children:[S.jsxs("div",{className:"bg-stone-50 p-4 rounded-lg border border-stone-100",children:[S.jsx("span",{className:"text-xs font-bold text-stone-400 uppercase tracking-wider",children:"Ingrediente Seleccionado"}),S.jsx("p",{className:"text-lg font-bold text-stone-800",children:v.name}),S.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-stone-600",children:[S.jsxs("p",{children:["Stock actual: ",S.jsxs("span",{className:"font-semibold",children:[v.quantity," ",v.unit]})]}),S.jsxs("p",{children:["Costo actual: ",S.jsx("span",{className:"font-semibold",children:dm(v.costPerUnit)})]})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Cantidad Comprada"}),S.jsxs("div",{className:"relative",children:[S.jsx("input",{type:"number",required:!0,step:"0.01",min:"0",className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none",value:A,onChange:V=>x(V.target.value),placeholder:"0"}),S.jsx("span",{className:"absolute right-3 top-2 text-stone-400 text-sm",children:v.unit})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Precio Compra Unitario"}),S.jsx("input",{type:"number",required:!0,min:"0",className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none",value:C,onChange:V=>R(V.target.value)}),S.jsxs("p",{className:"text-xs text-stone-400 mt-1",children:["Precio por 1 ",v.unit]})]})]}),M&&parseFloat(A)>0&&S.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100 space-y-3",children:[S.jsxs("div",{className:"flex items-center gap-2 text-blue-800 font-semibold text-sm mb-2",children:[S.jsx(uI,{size:16})," Resumen de Actualizacin"]}),S.jsxs("div",{className:"flex justify-between items-center text-sm",children:[S.jsx("span",{className:"text-blue-700",children:"Nuevo Stock Total:"}),S.jsxs("span",{className:"font-bold text-blue-900",children:[M.totalQ.toFixed(2)," ",v.unit]})]}),S.jsxs("div",{className:"flex justify-between items-center text-sm",children:[S.jsx("span",{className:"text-blue-700",children:"Nuevo Costo Promedio:"}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:`text-xs line-through text-blue-400 ${M.avgCost===v.costPerUnit?"hidden":""}`,children:dm(v.costPerUnit)}),S.jsxs("span",{className:"font-bold text-blue-900 flex items-center gap-1",children:[dm(M.avgCost),M.avgCost!==v.costPerUnit&&S.jsx(Fz,{size:12})]})]})]})]}),S.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[S.jsx("button",{type:"button",onClick:G,className:"px-4 py-3 text-stone-600 hover:bg-stone-50 rounded-xl font-medium",children:"Cancelar"}),S.jsx("button",{type:"submit",className:"px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-bold shadow-sm flex items-center gap-2",children:"Confirmar Compra"})]})]})]})})]})},Gf=t=>t.toLocaleString("es-CL",{style:"currency",currency:"CLP"}),nce=({products:t,ingredients:e,onAdd:n,onUpdate:r,onDelete:i})=>{const[o,l]=P.useState(!1),[u,f]=P.useState(null),[d,h]=P.useState(""),[m,v]=P.useState(""),[E,A]=P.useState(0),[x,C]=P.useState([]),R=x.reduce((M,V)=>{const U=e.find(B=>B.id===V.ingredientId);return M+(U?U.costPerUnit*V.quantity:0)},0),z=M=>{h(`${M.name} (Copia)`),v(M.description),A(M.sellPrice),C(M.recipe?[...M.recipe]:[]),f(null),l(!0)},D=M=>{h(M.name),v(M.description),A(M.sellPrice),C(M.recipe||[]),f(M.id),l(!0)},q=()=>{e.length>0&&C([...x,{ingredientId:e[0].id,quantity:0}])},F=(M,V,U)=>{const B=[...x];B[M]={...B[M],[V]:U},C(B)},G=M=>{C(x.filter((V,U)=>U!==M))},O=M=>{if(M.preventDefault(),d&&E){const V={name:d,description:m,sellPrice:Number(E),costPrice:R,recipe:x};u?r(u,V):n({id:Date.now().toString(),...V}),k()}},k=()=>{l(!1),f(null),h(""),v(""),A(0),C([])};return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-stone-800",children:"Mis Productos (Recetas)"}),S.jsx("p",{className:"text-stone-500 text-sm",children:"Define tus panes y sus ingredientes para el descuento automtico de stock."})]}),S.jsxs("button",{onClick:()=>{k(),l(!0)},className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm",children:[S.jsx(gl,{size:20})," Nuevo Producto"]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(M=>{const V=M.sellPrice-M.costPrice,U=M.sellPrice>0?V/M.sellPrice*100:0;return S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-stone-100 hover:shadow-md transition-shadow relative group",children:[S.jsxs("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[S.jsx("button",{onClick:()=>z(M),className:"p-1.5 bg-stone-100 rounded-lg text-stone-500 hover:text-blue-600 hover:bg-blue-50",title:"Duplicar",children:S.jsx(lB,{size:16})}),S.jsx("button",{onClick:()=>D(M),className:"p-1.5 bg-stone-100 rounded-lg text-stone-500 hover:text-amber-600 hover:bg-amber-50",title:"Editar",children:S.jsx(kO,{size:16})}),S.jsx("button",{onClick:()=>i(M.id),className:"p-1.5 bg-stone-100 rounded-lg text-stone-500 hover:text-red-500 hover:bg-red-50",title:"Eliminar",children:S.jsx(Sl,{size:16})})]}),S.jsxs("div",{className:"flex items-start justify-between mb-4",children:[S.jsx("div",{className:"p-3 bg-amber-50 text-amber-600 rounded-lg",children:S.jsx(RO,{size:24})}),S.jsxs("div",{className:"text-right",children:[S.jsx("p",{className:"text-sm text-stone-500",children:"Precio Venta"}),S.jsx("p",{className:"text-xl font-bold text-stone-800",children:Gf(M.sellPrice)})]})]}),S.jsx("h3",{className:"text-lg font-bold text-stone-800 mb-1",children:M.name}),S.jsx("p",{className:"text-sm text-stone-500 mb-4 line-clamp-2 min-h-[2.5rem]",children:M.description||"Sin descripcin"}),S.jsxs("div",{className:"mb-4",children:[S.jsx("p",{className:"text-xs font-semibold text-stone-400 uppercase tracking-wider mb-2",children:"Ingredientes:"}),S.jsxs("div",{className:"flex flex-wrap gap-1",children:[M.recipe&&M.recipe.length>0?M.recipe.slice(0,3).map((B,H)=>{var we;const Se=((we=e.find(X=>X.id===B.ingredientId))==null?void 0:we.name)||"Desconocido";return S.jsx("span",{className:"text-xs bg-stone-100 text-stone-600 px-2 py-1 rounded-md",children:Se},H)}):S.jsx("span",{className:"text-xs text-stone-400 italic",children:"Sin receta definida"}),M.recipe&&M.recipe.length>3&&S.jsx("span",{className:"text-xs text-stone-400 px-1",children:"..."})]})]}),S.jsxs("div",{className:"pt-4 border-t border-stone-100 flex justify-between text-sm",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-stone-500",children:"Costo (Auto)"}),S.jsx("p",{className:"font-medium text-stone-700",children:Gf(M.costPrice)})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("p",{className:"text-stone-500",children:"Margen"}),S.jsxs("p",{className:`font-bold ${U>30?"text-green-600":"text-amber-600"}`,children:[U.toFixed(0),"%"]})]})]})]},M.id)}),S.jsxs("button",{onClick:()=>{k(),l(!0)},className:"border-2 border-dashed border-stone-300 rounded-xl p-6 flex flex-col items-center justify-center text-stone-400 hover:border-amber-400 hover:text-amber-500 transition-colors min-h-[200px]",children:[S.jsx(gl,{size:40,className:"mb-2"}),S.jsx("span",{className:"font-medium",children:"Agregar Nuevo"})]})]}),o&&S.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center p-4 z-50 backdrop-blur-sm overflow-y-auto",children:S.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl p-6 my-8",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsx("h3",{className:"text-xl font-bold text-stone-800",children:u?"Editar Producto":"Definir Nuevo Producto"}),S.jsx("button",{onClick:k,className:"text-stone-400 hover:text-stone-600",children:S.jsx(Pi,{size:24})})]}),S.jsxs("form",{onSubmit:O,className:"space-y-6",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.jsxs("div",{className:"md:col-span-2",children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Nombre del Pan/Producto"}),S.jsx("input",{type:"text",required:!0,className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",value:d,onChange:M=>h(M.target.value),placeholder:"Ej. Baguette Rustica"})]}),S.jsxs("div",{className:"md:col-span-2",children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Descripcin"}),S.jsx("textarea",{className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none h-20 resize-none",value:m,onChange:M=>v(M.target.value),placeholder:"Ingredientes clave, estilo..."})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Precio Venta (CLP)"}),S.jsx("input",{type:"number",required:!0,className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",value:E,onChange:M=>A(parseFloat(M.target.value))})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Costo Calculado"}),S.jsx("input",{type:"text",disabled:!0,className:"w-full p-2 bg-stone-50 border border-stone-200 rounded-lg text-stone-500 cursor-not-allowed",value:Gf(R)}),S.jsx("p",{className:"text-xs text-stone-400 mt-1",children:"Se calcula segn la receta abajo."})]})]}),S.jsxs("div",{className:"border-t border-stone-100 pt-4",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("label",{className:"block text-sm font-bold text-stone-700",children:"Composicin (Receta)"}),S.jsxs("button",{type:"button",onClick:q,className:"text-sm bg-stone-100 hover:bg-stone-200 text-stone-700 px-3 py-1 rounded-lg flex items-center gap-1",children:[S.jsx(gl,{size:16})," Ingrediente"]})]}),S.jsxs("div",{className:"space-y-3 bg-stone-50 p-4 rounded-xl border border-stone-100",children:[x.length===0&&S.jsx("p",{className:"text-center text-stone-400 text-sm italic",children:"Agrega ingredientes para calcular el costo y descontar stock automticamente."}),x.map((M,V)=>{const U=e.find(B=>B.id===M.ingredientId);return S.jsxs("div",{className:"flex gap-3 items-end",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("label",{className:"block text-xs font-medium text-stone-500 mb-1",children:"Ingrediente"}),S.jsx("select",{className:"w-full p-2 text-sm border border-stone-200 rounded-lg outline-none",value:M.ingredientId,onChange:B=>F(V,"ingredientId",B.target.value),children:e.map(B=>S.jsxs("option",{value:B.id,children:[B.name," (",B.unit,")"]},B.id))})]}),S.jsxs("div",{className:"w-24",children:[S.jsx("label",{className:"block text-xs font-medium text-stone-500 mb-1",children:"Cant."}),S.jsx("input",{type:"number",step:"0.001",className:"w-full p-2 text-sm border border-stone-200 rounded-lg outline-none",value:M.quantity,onChange:B=>F(V,"quantity",parseFloat(B.target.value))})]}),S.jsx("div",{className:"w-16 pb-2 text-xs text-stone-500",children:U==null?void 0:U.unit}),S.jsx("div",{className:"w-20 pb-2 text-sm font-medium text-stone-600 text-right",children:Gf(M.quantity*((U==null?void 0:U.costPerUnit)||0))}),S.jsx("button",{type:"button",onClick:()=>G(V),className:"text-stone-400 hover:text-red-500 pb-2 px-1",children:S.jsx(Sl,{size:16})})]},V)}),x.length>0&&S.jsx("div",{className:"flex justify-end pt-2 border-t border-stone-200 mt-2",children:S.jsxs("p",{className:"text-sm font-bold text-stone-800",children:["Costo Total: ",Gf(R)]})})]})]}),S.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[S.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 text-stone-600 hover:bg-stone-50 rounded-lg",children:"Cancelar"}),S.jsx("button",{type:"submit",className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg",children:u?"Guardar Cambios":"Crear Producto"})]})]})]})})]})},al=t=>t.toLocaleString("es-CL",{style:"currency",currency:"CLP"}),rce=({products:t,sales:e,clients:n,onAddSale:r,onUpdateSale:i,onAddClient:o,onDeleteSale:l})=>{const[u,f]=P.useState([]),[d,h]=P.useState(null),[m,v]=P.useState(""),[E,A]=P.useState(1),[x,C]=P.useState(""),[R,z]=P.useState(""),[D,q]=P.useState(()=>{const te=new Date;return te.setMinutes(te.getMinutes()-te.getTimezoneOffset()),te.toISOString().slice(0,16)}),[F,G]=P.useState(!1),[O,k]=P.useState(""),[M,V]=P.useState(""),[U,B]=P.useState(0),[H,Se]=P.useState(!1),[we,X]=P.useState(""),ue=t.find(te=>te.id===m),ye=n.find(te=>te.id===x),ve=u.reduce((te,W)=>te+W.totalPrice,0),Ve=()=>{if(ue&&E>0){const te={productId:ue.id,productName:ue.name,quantity:E,unitPrice:ue.sellPrice,totalPrice:ue.sellPrice*E};f([...u,te]),v(""),A(1)}},K=te=>{const W=[...u];W.splice(te,1),f(W)},le=te=>{if(te.preventDefault(),u.length>0){d?(i(d,{items:u,totalPrice:ve,clientId:ye==null?void 0:ye.id,clientName:ye==null?void 0:ye.name,date:new Date().toISOString(),deliveryDate:new Date(D).toISOString(),notes:R.trim(),amountPaid:U,change:U-ve,addToBalance:H}),h(null),alert("Venta actualizada correctamente")):r({id:Date.now().toString(),items:u,totalPrice:ve,clientId:ye==null?void 0:ye.id,clientName:ye==null?void 0:ye.name,date:new Date().toISOString(),deliveryDate:new Date(D).toISOString(),notes:R.trim(),status:"pending",paymentStatus:"pending"}),f([]),C(""),z(""),B(0),Se(!1);const W=new Date;W.setMinutes(W.getMinutes()-W.getTimezoneOffset()),q(W.toISOString().slice(0,16))}},Ee=te=>{h(te.id);let W=te.items||[];if(W.length===0&&te.productId){const _e=te;W=[{productId:_e.productId,productName:_e.productName,quantity:_e.quantity,unitPrice:_e.totalPrice/_e.quantity,totalPrice:_e.totalPrice}]}if(f(W),C(te.clientId||""),z(te.notes||""),B(te.amountPaid||0),Se(te.addToBalance||!1),te.deliveryDate){const _e=new Date(te.deliveryDate);_e.setMinutes(_e.getMinutes()-_e.getTimezoneOffset()),q(_e.toISOString().slice(0,16))}window.scrollTo({top:0,behavior:"smooth"})},se=()=>{h(null),f([]),C(""),z(""),B(0),Se(!1);const te=new Date;te.setMinutes(te.getMinutes()-te.getTimezoneOffset()),q(te.toISOString().slice(0,16))},he=te=>{if(te.preventDefault(),O){const W=Date.now().toString(),_e={id:W,name:O,phone:M,address:"",notes:"Creado desde Venta Rpida",joinedDate:new Date().toISOString(),balance:0};o(_e),C(W),G(!1),k(""),V("")}},be=te=>{confirm("Ests seguro de eliminar esta venta? Esta accin no se puede deshacer.")&&l(te)},Te=e.filter(te=>{var re;const W=we.toLowerCase(),_e=((re=te.clientName)==null?void 0:re.toLowerCase())||"",ge=te.id.toLowerCase();return _e.includes(W)||ge.includes(W)});return S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[S.jsx("div",{className:"lg:col-span-1",children:S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-stone-100 sticky top-6",children:[S.jsxs("h2",{className:"text-xl font-bold text-stone-800 mb-4 flex items-center gap-2",children:[S.jsx(gE,{className:"text-amber-600",size:24}),d?"Editar Venta":"Nueva Venta",d&&S.jsx("button",{onClick:se,className:"ml-auto text-xs bg-stone-200 hover:bg-stone-300 text-stone-700 px-2 py-1 rounded transition-colors",children:"Cancelar Edicin"})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl border border-stone-100 space-y-3",children:[S.jsxs("h3",{className:"font-bold text-stone-700 text-sm flex items-center gap-2",children:[S.jsx(Nm,{size:16})," Agregar Productos"]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-stone-500 mb-1",children:"Producto"}),S.jsxs("select",{className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none bg-white text-sm",value:m,onChange:te=>v(te.target.value),children:[S.jsx("option",{value:"",children:"Seleccionar pan..."}),t.map(te=>S.jsxs("option",{value:te.id,children:[te.name," - ",al(te.sellPrice)]},te.id))]})]}),S.jsxs("div",{className:"flex gap-2 items-end",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("label",{className:"block text-xs font-medium text-stone-500 mb-1",children:"Cantidad"}),S.jsx("input",{type:"number",min:"1",className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none text-sm",value:E,onChange:te=>A(parseInt(te.target.value)||1)})]}),S.jsxs("button",{type:"button",onClick:Ve,disabled:!m,className:"bg-amber-600 hover:bg-amber-700 text-white p-2 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1 text-sm",children:[S.jsx(gl,{size:16})," Agregar"]})]})]}),u.length>0&&S.jsx("div",{className:"border border-stone-200 rounded-xl overflow-hidden",children:S.jsxs("table",{className:"w-full text-left text-sm",children:[S.jsx("thead",{className:"bg-stone-100 text-stone-600 font-medium",children:S.jsxs("tr",{children:[S.jsx("th",{className:"p-2",children:"Prod."}),S.jsx("th",{className:"p-2 text-center",children:"Cant."}),S.jsx("th",{className:"p-2 text-right",children:"Total"}),S.jsx("th",{className:"p-2"})]})}),S.jsx("tbody",{className:"divide-y divide-stone-100 bg-white",children:u.map((te,W)=>S.jsxs("tr",{children:[S.jsx("td",{className:"p-2 truncate max-w-[100px]",children:te.productName}),S.jsx("td",{className:"p-2 text-center",children:te.quantity}),S.jsx("td",{className:"p-2 text-right font-medium",children:al(te.totalPrice)}),S.jsx("td",{className:"p-2 text-right",children:S.jsx("button",{onClick:()=>K(W),className:"text-red-400 hover:text-red-600",children:S.jsx(Pi,{size:14})})})]},W))}),S.jsx("tfoot",{className:"bg-amber-50 font-bold text-amber-900",children:S.jsxs("tr",{children:[S.jsx("td",{colSpan:2,className:"p-2 text-right",children:"Total:"}),S.jsx("td",{className:"p-2 text-right",children:al(ve)}),S.jsx("td",{})]})})]})}),S.jsxs("form",{onSubmit:le,className:"space-y-4 pt-2 border-t border-stone-100",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Cliente (Opcional)"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("div",{className:"relative flex-1",children:[S.jsx(Rm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-stone-400",size:18}),S.jsxs("select",{className:"w-full pl-10 pr-2 py-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none bg-white text-sm",value:x,onChange:te=>C(te.target.value),children:[S.jsx("option",{value:"",children:"Cliente Casual / General"}),n.map(te=>S.jsxs("option",{value:te.id,children:[te.name," ",te.balance&&te.balance>0?`(Saldo: ${al(te.balance)})`:""]},te.id))]})]}),S.jsx("button",{type:"button",onClick:()=>G(!0),className:"bg-amber-100 hover:bg-amber-200 text-amber-700 p-2 rounded-lg transition-colors",title:"Crear Nuevo Cliente Rpido",children:S.jsx(gl,{size:20})})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Fecha de Entrega"}),S.jsxs("div",{className:"relative",children:[S.jsx(lI,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-stone-400",size:18}),S.jsx("input",{type:"datetime-local",required:!0,className:"w-full pl-10 pr-2 py-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none bg-white text-sm",value:D,onChange:te=>q(te.target.value)})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Notas de Cocina (Opcional)"}),S.jsxs("div",{className:"relative",children:[S.jsx(mB,{className:"absolute left-3 top-3 text-stone-400",size:18}),S.jsx("textarea",{className:"w-full pl-10 pr-2 py-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none bg-white h-20 resize-none text-sm",placeholder:"Ej. Bien cocido, sin bolsa...",value:R,onChange:te=>z(te.target.value)})]})]}),d&&S.jsxs("div",{className:"p-4 bg-stone-50 rounded-lg border border-stone-200 space-y-3",children:[S.jsx("h3",{className:"font-bold text-stone-700 text-sm",children:"Detalles de Pago (Edicin)"}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Monto Pagado"}),S.jsx("input",{type:"number",className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",value:U,onChange:te=>B(Number(te.target.value))})]}),S.jsxs("div",{className:"flex justify-between text-sm",children:[S.jsx("span",{className:"text-stone-600",children:"Vuelto:"}),S.jsx("span",{className:`font-bold ${U-ve>=0?"text-emerald-600":"text-red-500"}`,children:al(U-ve)})]}),U-ve>0&&S.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[S.jsx("input",{type:"checkbox",id:"addToBalanceEdit",checked:H,onChange:te=>Se(te.target.checked),className:"rounded text-amber-600 focus:ring-amber-500"}),S.jsx("label",{htmlFor:"addToBalanceEdit",className:"text-sm text-stone-700",children:"Abonar vuelto al saldo del cliente"})]})]}),S.jsxs("button",{type:"submit",disabled:u.length===0,className:`w-full py-3 text-white rounded-xl font-bold shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 ${d?"bg-amber-600 hover:bg-amber-700 shadow-amber-200":"bg-stone-800 hover:bg-stone-900 shadow-stone-200"}`,children:[S.jsx(gE,{size:20}),d?"Actualizar Pedido":"Confirmar Pedido"," ($",al(ve),")"]})]})]})]})}),S.jsx("div",{className:"lg:col-span-2 space-y-6",children:S.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-stone-100",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[S.jsx("h2",{className:"text-xl font-bold text-stone-800",children:"Historial Reciente"}),S.jsxs("div",{className:"relative w-full sm:w-64",children:[S.jsx(DO,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400",size:18}),S.jsx("input",{type:"text",placeholder:"Buscar por cliente o ID...",className:"w-full pl-10 pr-4 py-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none text-sm",value:we,onChange:te=>X(te.target.value)})]})]}),Te.length===0?S.jsxs("div",{className:"p-12 text-center text-stone-400",children:[S.jsx(lI,{size:48,className:"mx-auto mb-4 opacity-50"}),S.jsx("p",{children:"An no hay ventas registradas."})]}):S.jsx("div",{className:"overflow-x-auto",children:S.jsxs("table",{className:"w-full text-left",children:[S.jsx("thead",{className:"bg-stone-50 text-stone-600 font-medium",children:S.jsxs("tr",{children:[S.jsx("th",{className:"p-4",children:"Fecha/Hora"}),S.jsx("th",{className:"p-4",children:"Cliente"}),S.jsx("th",{className:"p-4",children:"Productos"}),S.jsx("th",{className:"p-4 text-right",children:"Total"}),S.jsx("th",{className:"p-4 text-center",children:"Estado Pago"}),S.jsx("th",{className:"p-4 text-center",children:"Acciones"})]})}),S.jsx("tbody",{className:"divide-y divide-stone-100",children:[...Te].reverse().map(te=>S.jsxs("tr",{className:`hover:bg-stone-50/50 ${d===te.id?"bg-amber-50":""}`,children:[S.jsxs("td",{className:"p-4 text-sm text-stone-500",children:[new Date(te.date).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),te.notes&&S.jsxs("div",{className:"text-xs text-amber-600 italic mt-1 max-w-[150px] truncate",children:["Note: ",te.notes]})]}),S.jsx("td",{className:"p-4 text-sm",children:te.clientName?S.jsx("span",{className:"text-amber-700 font-medium bg-amber-50 px-2 py-1 rounded-full text-xs",children:te.clientName}):S.jsx("span",{className:"text-stone-400 text-xs italic",children:"Casual"})}),S.jsx("td",{className:"p-4 text-sm text-stone-800",children:te.items&&te.items.length>0?S.jsx("div",{className:"space-y-1",children:te.items.map((W,_e)=>S.jsx("div",{className:"flex justify-between text-xs",children:S.jsxs("span",{children:[W.productName," (x",W.quantity,")"]})},_e))}):S.jsxs("span",{children:[te.productName," (x",te.quantity,")"]})}),S.jsxs("td",{className:"p-4 text-right font-bold text-emerald-600",children:["+",al(te.totalPrice)]}),S.jsx("td",{className:"p-4 text-center",children:S.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${te.paymentStatus==="paid"?"bg-emerald-100 text-emerald-700":"bg-yellow-100 text-yellow-700"}`,children:te.paymentStatus==="paid"?"Pagado":"Pendiente"})}),S.jsxs("td",{className:"p-4 text-center flex gap-2 justify-center",children:[S.jsx("button",{onClick:()=>Ee(te),className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar venta",children:S.jsx(MO,{size:18})}),S.jsx("button",{onClick:()=>be(te.id),className:"p-2 text-stone-400 hover:text-red-500 hover:bg-stone-100 rounded-lg transition-colors",title:"Eliminar venta",children:S.jsx(Sl,{size:18})})]})]},te.id))})]})})]})}),F&&S.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-sm p-6",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsxs("h3",{className:"text-lg font-bold text-stone-800 flex items-center gap-2",children:[S.jsx(Rm,{className:"text-amber-600",size:20})," Nuevo Cliente Rpido"]}),S.jsx("button",{onClick:()=>G(!1),className:"text-stone-400 hover:text-stone-600",children:S.jsx(Pi,{size:20})})]}),S.jsxs("form",{onSubmit:he,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Nombre"}),S.jsx("input",{type:"text",autoFocus:!0,required:!0,className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",placeholder:"Nombre del cliente",value:O,onChange:te=>k(te.target.value)})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Telfono (Opcional)"}),S.jsx("input",{type:"tel",className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",placeholder:"+56 9...",value:M,onChange:te=>V(te.target.value)})]}),S.jsx("button",{type:"submit",className:"w-full py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg font-medium transition-colors",children:"Crear y Seleccionar"})]})]})})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ice,oce;function ace(){return{geminiUrl:ice,vertexUrl:oce}}function sce(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const l=ace();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ma{}function Ae(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(t,e,n){for(let o=0;o<e.length-1;o++){const l=e[o];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const f=t[u];if(Array.isArray(n))for(let d=0;d<f.length;d++){const h=f[d];y(h,e.slice(o+1),n[d])}else for(const d of f)y(d,e.slice(o+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const f=t[u];y(f[0],e.slice(o+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function g(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const l=t[o];return Array.isArray(l)?l.map(u=>g(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function lce(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),l=new Set;let u=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){u=f;break}if(u!==-1&&o.length>u)for(let f=u;f<o.length;f++){const d=o[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}GT(t,i,o,0,l)}}function GT(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const l=o.slice(0,-2),u=t;if(l in u&&Array.isArray(u[l]))for(const f of u[l])GT(f,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of u)f[d]=l[d];for(const[d,h]of Object.entries(f)){const m=[];for(const v of n.slice(r))v==="*"?m.push(d):m.push(v);y(l,m,h)}for(const d of u)delete l[d]}}else{const l=t;o in l&&GT(l[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TA(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uce(t){const e={},n=g(t,["operationName"]);n!=null&&y(e,["operationName"],n);const r=g(t,["resourceName"]);return r!=null&&y(e,["_url","resourceName"],r),e}function cce(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response","generateVideoResponse"]);return l!=null&&y(e,["response"],dce(l)),e}function fce(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response"]);return l!=null&&y(e,["response"],hce(l)),e}function dce(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>pce(l))),y(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function hce(t){const e={},n=g(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>mce(l))),y(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function pce(t){const e={},n=g(t,["video"]);return n!=null&&y(e,["video"],Ece(n)),e}function mce(t){const e={},n=g(t,["_self"]);return n!=null&&y(e,["video"],Tce(n)),e}function gce(t){const e={},n=g(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function yce(t){const e={},n=g(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function vce(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response"]);return l!=null&&y(e,["response"],_ce(l)),e}function _ce(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&y(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function v5(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response"]);return l!=null&&y(e,["response"],bce(l)),e}function bce(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&y(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function Ece(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],TA(r));const i=g(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function Tce(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],TA(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Q2;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Q2||(Q2={}));var Z2;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Z2||(Z2={}));var eD;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(eD||(eD={}));var os;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(os||(os={}));var tD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(tD||(tD={}));var nD;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(nD||(nD={}));var rD;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(rD||(rD={}));var iD;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(iD||(iD={}));var oD;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(oD||(oD={}));var aD;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(aD||(aD={}));var sD;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(sD||(sD={}));var lD;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(lD||(lD={}));var uD;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(uD||(uD={}));var cD;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(cD||(cD={}));var fD;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(fD||(fD={}));var dD;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(dD||(dD={}));var hD;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(hD||(hD={}));var pD;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(pD||(pD={}));var mD;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(mD||(mD={}));var Fg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Fg||(Fg={}));var gD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(gD||(gD={}));var yD;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(yD||(yD={}));var vD;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(vD||(vD={}));var $T;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($T||($T={}));var _D;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(_D||(_D={}));var bD;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(bD||(bD={}));var ED;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(ED||(ED={}));var TD;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(TD||(TD={}));var SD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(SD||(SD={}));var xD;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(xD||(xD={}));var AD;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(AD||(AD={}));var wD;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(wD||(wD={}));var CD;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(CD||(CD={}));var ID;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(ID||(ID={}));var PD;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(PD||(PD={}));var ND;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ND||(ND={}));var RD;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(RD||(RD={}));var MD;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(MD||(MD={}));var DD;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(DD||(DD={}));var OD;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(OD||(OD={}));var kD;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(kD||(kD={}));var LD;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(LD||(LD={}));var UD;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(UD||(UD={}));var VD;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(VD||(VD={}));var qD;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(qD||(qD={}));var zD;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(zD||(zD={}));var BD;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(BD||(BD={}));var jD;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(jD||(jD={}));var FD;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(FD||(FD={}));var HD;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(HD||(HD={}));var GD;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(GD||(GD={}));var $D;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})($D||($D={}));var KD;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(KD||(KD={}));var YD;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(YD||(YD={}));var zu;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(zu||(zu={}));class KT{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class $f{get text(){var e,n,r,i,o,l,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const v of(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[E,A]of Object.entries(v))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(A!==null||A!==void 0)&&m.push(E);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,d+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,o,l,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[v,E]of Object.entries(m))v!=="inlineData"&&(E!==null||E!==void 0)&&h.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,o,l,u,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,o,l,u,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,o,l,u,f,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class WD{}class JD{}class Sce{}class xce{}class Ace{}class wce{}class XD{}class QD{}class ZD{}class Cce{}class Hg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Hg;let i;const o=e;return n?i=fce(o):i=cce(o),Object.assign(r,i),r}}class eO{}class tO{}class nO{}class rO{}class Ice{}class Pce{}class Nce{}class SA{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new SA,o=vce(e);return Object.assign(r,o),r}}class Rce{}class Mce{}class Dce{}class iO{}class Oce{get text(){var e,n,r;let i="",o=!1;const l=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(u))f!=="text"&&f!=="thought"&&d!==null&&l.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(l))u!=="inlineData"&&f!==null&&o.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class kce{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class xA{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new xA,o=v5(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ut(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function _5(t,e){const n=ut(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function b5(t){return Array.isArray(t)?t.map(e=>Gg(e)):[Gg(t)]}function Gg(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function E5(t){const e=Gg(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function T5(t){const e=Gg(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function oO(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function S5(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>oO(e)):[oO(t)]}function YT(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function aO(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function sO(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Jn(t){if(t==null)throw new Error("ContentUnion is required");return YT(t)?t:{role:"user",parts:S5(t)}}function AA(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Jn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Jn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Jn(n)):[Jn(e)]}function ri(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(aO(t)||sO(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Jn(t)]}const e=[],n=[],r=YT(t[0]);for(const i of t){const o=YT(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(aO(i)||sO(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:S5(n)}),e}function Lce(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(os).includes(n[0].toUpperCase())?n[0].toUpperCase():os.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(os).includes(r.toUpperCase())?r.toUpperCase():os.TYPE_UNSPECIFIED})}}function Yu(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Lce(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(os).includes(u.toUpperCase())?u.toUpperCase():os.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=Yu(u);else if(r.includes(l)){const f=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}f.push(Yu(d))}e[l]=f}else if(i.includes(l)){const f={};for(const[d,h]of Object.entries(u))f[d]=Yu(h);e[l]=f}else{if(l==="additionalProperties")continue;e[l]=u}return e}function wA(t){return Yu(t)}function CA(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function IA(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Nc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Yu(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Yu(e.response));return t}function Rc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Uce(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ga(t,e){if(typeof e!="string")throw new Error("name must be a string");return Uce(t,e,"cachedContents")}function x5(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ps(t){return TA(t)}function Vce(t){return t!=null&&typeof t=="object"&&"name"in t}function qce(t){return t!=null&&typeof t=="object"&&"video"in t}function zce(t){return t!=null&&typeof t=="object"&&"uri"in t}function A5(t){var e;let n;if(Vce(t)&&(n=t.name),!(zce(t)&&(n=t.uri,n===void 0))&&!(qce(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function w5(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function C5(t){for(const e of["models","tunedModels","publisherModels"])if(Bce(t,e))return t[e];return[]}function Bce(t,e){return t!==null&&typeof t=="object"&&e in t}function jce(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Fce(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=jce(i,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function I5(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Hce(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function P5(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Mc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function N5(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gce(t){const e={},n=g(t,["responsesFile"]);n!=null&&y(e,["fileName"],n);const r=g(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Afe(l))),y(e,["inlinedResponses"],o)}const i=g(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["inlinedEmbedContentResponses"],o)}return e}function $ce(t){const e={},n=g(t,["predictionsFormat"]);n!=null&&y(e,["format"],n);const r=g(t,["gcsDestination","outputUriPrefix"]);r!=null&&y(e,["gcsUri"],r);const i=g(t,["bigqueryDestination","outputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function Kce(t){const e={},n=g(t,["format"]);n!=null&&y(e,["predictionsFormat"],n);const r=g(t,["gcsUri"]);r!=null&&y(e,["gcsDestination","outputUriPrefix"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&y(e,["bigqueryDestination","outputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Im(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata","displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["metadata","state"]);i!=null&&y(e,["state"],N5(i));const o=g(t,["metadata","createTime"]);o!=null&&y(e,["createTime"],o);const l=g(t,["metadata","endTime"]);l!=null&&y(e,["endTime"],l);const u=g(t,["metadata","updateTime"]);u!=null&&y(e,["updateTime"],u);const f=g(t,["metadata","model"]);f!=null&&y(e,["model"],f);const d=g(t,["metadata","output"]);return d!=null&&y(e,["dest"],Gce(P5(d))),e}function WT(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["state"]);i!=null&&y(e,["state"],N5(i));const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["createTime"]);l!=null&&y(e,["createTime"],l);const u=g(t,["startTime"]);u!=null&&y(e,["startTime"],u);const f=g(t,["endTime"]);f!=null&&y(e,["endTime"],f);const d=g(t,["updateTime"]);d!=null&&y(e,["updateTime"],d);const h=g(t,["model"]);h!=null&&y(e,["model"],h);const m=g(t,["inputConfig"]);m!=null&&y(e,["src"],Yce(m));const v=g(t,["outputConfig"]);v!=null&&y(e,["dest"],$ce(P5(v)));const E=g(t,["completionStats"]);return E!=null&&y(e,["completionStats"],E),e}function Yce(t){const e={},n=g(t,["instancesFormat"]);n!=null&&y(e,["format"],n);const r=g(t,["gcsSource","uris"]);r!=null&&y(e,["gcsUri"],r);const i=g(t,["bigquerySource","inputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function Wce(t,e){const n={};if(g(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(e,["fileName"]);r!=null&&y(n,["fileName"],r);const i=g(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>xfe(t,l))),y(n,["requests","requests"],o)}return n}function Jce(t){const e={},n=g(t,["format"]);n!=null&&y(e,["instancesFormat"],n);const r=g(t,["gcsUri"]);r!=null&&y(e,["gcsSource","uris"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&y(e,["bigquerySource","inputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Xce(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Qce(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Mc(t,r)),n}function Zce(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Mc(t,r)),n}function efe(t){const e={},n=g(t,["content"]);n!=null&&y(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],tfe(r));const i=g(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const o=g(t,["finishReason"]);o!=null&&y(e,["finishReason"],o);const l=g(t,["avgLogprobs"]);l!=null&&y(e,["avgLogprobs"],l);const u=g(t,["groundingMetadata"]);u!=null&&y(e,["groundingMetadata"],u);const f=g(t,["index"]);f!=null&&y(e,["index"],f);const d=g(t,["logprobsResult"]);d!=null&&y(e,["logprobsResult"],d);const h=g(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(E=>E)),y(e,["safetyRatings"],v)}const m=g(t,["urlContextMetadata"]);return m!=null&&y(e,["urlContextMetadata"],m),e}function tfe(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function R5(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Mfe(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function nfe(t,e){const n={},r=g(t,["displayName"]);if(e!==void 0&&r!=null&&y(e,["batch","displayName"],r),g(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function rfe(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=g(t,["dest"]);return e!==void 0&&i!=null&&y(e,["outputConfig"],Kce(Hce(i))),n}function lO(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ut(t,r));const i=g(e,["src"]);i!=null&&y(n,["batch","inputConfig"],Wce(t,I5(t,i)));const o=g(e,["config"]);return o!=null&&nfe(o,n),n}function ife(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["model"],ut(t,r));const i=g(e,["src"]);i!=null&&y(n,["inputConfig"],Jce(I5(t,i)));const o=g(e,["config"]);return o!=null&&rfe(o,n),n}function ofe(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["batch","displayName"],r),n}function afe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ut(t,r));const i=g(e,["src"]);i!=null&&y(n,["batch","inputConfig"],hfe(t,i));const o=g(e,["config"]);return o!=null&&ofe(o,n),n}function sfe(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Mc(t,r)),n}function lfe(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Mc(t,r)),n}function ufe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);return o!=null&&y(e,["error"],o),e}function cfe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);return o!=null&&y(e,["error"],o),e}function ffe(t,e){const n={},r=g(e,["contents"]);if(r!=null){let o=AA(t,r);Array.isArray(o)&&(o=o.map(l=>l)),y(n,["requests[]","request","content"],o)}const i=g(e,["config"]);return i!=null&&(y(n,["_self"],dfe(i,n)),lce(n,{"requests[].*":"requests[].request.*"})),n}function dfe(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const o=g(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&y(e,["requests[]","outputDimensionality"],o),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function hfe(t,e){const n={},r=g(e,["fileName"]);r!=null&&y(n,["file_name"],r);const i=g(e,["inlinedRequests"]);return i!=null&&y(n,["requests"],ffe(t,i)),n}function pfe(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function mfe(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gfe(t){const e={},n=g(t,["mode"]);n!=null&&y(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function yfe(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],R5(Jn(i)));const o=g(e,["temperature"]);o!=null&&y(r,["temperature"],o);const l=g(e,["topP"]);l!=null&&y(r,["topP"],l);const u=g(e,["topK"]);u!=null&&y(r,["topK"],u);const f=g(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=g(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const v=g(e,["logprobs"]);v!=null&&y(r,["logprobs"],v);const E=g(e,["presencePenalty"]);E!=null&&y(r,["presencePenalty"],E);const A=g(e,["frequencyPenalty"]);A!=null&&y(r,["frequencyPenalty"],A);const x=g(e,["seed"]);x!=null&&y(r,["seed"],x);const C=g(e,["responseMimeType"]);C!=null&&y(r,["responseMimeType"],C);const R=g(e,["responseSchema"]);R!=null&&y(r,["responseSchema"],wA(R));const z=g(e,["responseJsonSchema"]);if(z!=null&&y(r,["responseJsonSchema"],z),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=g(e,["safetySettings"]);if(n!==void 0&&D!=null){let B=D;Array.isArray(B)&&(B=B.map(H=>Dfe(H))),y(n,["safetySettings"],B)}const q=g(e,["tools"]);if(n!==void 0&&q!=null){let B=Rc(q);Array.isArray(B)&&(B=B.map(H=>kfe(Nc(H)))),y(n,["tools"],B)}const F=g(e,["toolConfig"]);if(n!==void 0&&F!=null&&y(n,["toolConfig"],Ofe(F)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=g(e,["cachedContent"]);n!==void 0&&G!=null&&y(n,["cachedContent"],ga(t,G));const O=g(e,["responseModalities"]);O!=null&&y(r,["responseModalities"],O);const k=g(e,["mediaResolution"]);k!=null&&y(r,["mediaResolution"],k);const M=g(e,["speechConfig"]);if(M!=null&&y(r,["speechConfig"],CA(M)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=g(e,["thinkingConfig"]);V!=null&&y(r,["thinkingConfig"],V);const U=g(e,["imageConfig"]);return U!=null&&y(r,["imageConfig"],Sfe(U)),r}function vfe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>efe(d))),y(e,["candidates"],f)}const i=g(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const o=g(t,["promptFeedback"]);o!=null&&y(e,["promptFeedback"],o);const l=g(t,["responseId"]);l!=null&&y(e,["responseId"],l);const u=g(t,["usageMetadata"]);return u!=null&&y(e,["usageMetadata"],u),e}function _fe(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Mc(t,r)),n}function bfe(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Mc(t,r)),n}function Efe(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Tfe(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function Sfe(t){const e={},n=g(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function xfe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["request","model"],ut(t,r));const i=g(e,["contents"]);if(i!=null){let u=ri(i);Array.isArray(u)&&(u=u.map(f=>R5(f))),y(n,["request","contents"],u)}const o=g(e,["metadata"]);o!=null&&y(n,["metadata"],o);const l=g(e,["config"]);return l!=null&&y(n,["request","generationConfig"],yfe(t,l,g(n,["request"],{}))),n}function Afe(t){const e={},n=g(t,["response"]);n!=null&&y(e,["response"],vfe(n));const r=g(t,["error"]);return r!=null&&y(e,["error"],r),e}function wfe(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);if(e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),g(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Cfe(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);e!==void 0&&i!=null&&y(e,["_query","pageToken"],i);const o=g(t,["filter"]);return e!==void 0&&o!=null&&y(e,["_query","filter"],o),n}function Ife(t){const e={},n=g(t,["config"]);return n!=null&&wfe(n,e),e}function Pfe(t){const e={},n=g(t,["config"]);return n!=null&&Cfe(n,e),e}function Nfe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Im(l))),y(e,["batchJobs"],o)}return e}function Rfe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>WT(l))),y(e,["batchJobs"],o)}return e}function Mfe(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],pfe(o));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],mfe(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],Xce(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&y(e,["videoMetadata"],v),e}function Dfe(t){const e={},n=g(t,["category"]);if(n!=null&&y(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function Ofe(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],gfe(n));const r=g(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function kfe(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=g(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],Efe(u));const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],Tfe(f));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sa;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(sa||(sa={}));class ql{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lfe extends ma{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ql(sa.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=lO(this.apiClient,e),r=n._url,i=Ae("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,f=u.requests,d=[];for(const h of f){const m=Object.assign({},h);if(m.systemInstruction){const v=m.systemInstruction;delete m.systemInstruction;const E=m.request;E.systemInstruction=v,m.request=E}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),l=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=ife(this.apiClient,e);return u=Ae("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>WT(h))}else{const d=lO(this.apiClient,e);return u=Ae("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Im(h))}}async createEmbeddingsInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=afe(this.apiClient,e);return o=Ae("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>Im(f))}}async get(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=bfe(this.apiClient,e);return u=Ae("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>WT(h))}else{const d=_fe(this.apiClient,e);return u=Ae("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Im(h))}}async cancel(e){var n,r,i,o;let l="",u={};if(this.apiClient.isVertexAI()){const f=Zce(this.apiClient,e);l=Ae("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=Qce(this.apiClient,e);l=Ae("batches/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Pfe(e);return u=Ae("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Rfe(h),v=new iO;return Object.assign(v,m),v})}else{const d=Ife(e);return u=Ae("batches",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Nfe(h),v=new iO;return Object.assign(v,m),v})}}async delete(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=lfe(this.apiClient,e);return u=Ae("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>cfe(h))}else{const d=sfe(this.apiClient,e);return u=Ae("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>ufe(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ufe(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function uO(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ade(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function Vfe(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const o=g(t,["displayName"]);e!==void 0&&o!=null&&y(e,["displayName"],o);const l=g(t,["contents"]);if(e!==void 0&&l!=null){let h=ri(l);Array.isArray(h)&&(h=h.map(m=>uO(m))),y(e,["contents"],h)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&y(e,["systemInstruction"],uO(Jn(u)));const f=g(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>lde(m))),y(e,["tools"],h)}const d=g(t,["toolConfig"]);if(e!==void 0&&d!=null&&y(e,["toolConfig"],sde(d)),g(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function qfe(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const o=g(t,["displayName"]);e!==void 0&&o!=null&&y(e,["displayName"],o);const l=g(t,["contents"]);if(e!==void 0&&l!=null){let m=ri(l);Array.isArray(m)&&(m=m.map(v=>v)),y(e,["contents"],m)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&y(e,["systemInstruction"],Jn(u));const f=g(t,["tools"]);if(e!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>ude(v))),y(e,["tools"],m)}const d=g(t,["toolConfig"]);e!==void 0&&d!=null&&y(e,["toolConfig"],d);const h=g(t,["kmsKeyName"]);return e!==void 0&&h!=null&&y(e,["encryption_spec","kmsKeyName"],h),n}function zfe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["model"],_5(t,r));const i=g(e,["config"]);return i!=null&&Vfe(i,n),n}function Bfe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["model"],_5(t,r));const i=g(e,["config"]);return i!=null&&qfe(i,n),n}function jfe(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],ga(t,r)),n}function Ffe(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],ga(t,r)),n}function Hfe(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Gfe(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function $fe(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Kfe(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Yfe(t){const e={},n=g(t,["mode"]);n!=null&&y(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Wfe(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&y(e,["description"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const l=g(t,["response"]);l!=null&&y(e,["response"],l);const u=g(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function Jfe(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],ga(t,r)),n}function Xfe(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],ga(t,r)),n}function Qfe(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Zfe(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function ede(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function tde(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function nde(t){const e={},n=g(t,["config"]);return n!=null&&ede(n,e),e}function rde(t){const e={},n=g(t,["config"]);return n!=null&&tde(n,e),e}function ide(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["cachedContents"],o)}return e}function ode(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["cachedContents"],o)}return e}function ade(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],$fe(o));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],Kfe(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],Ufe(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&y(e,["videoMetadata"],v),e}function sde(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],Yfe(n));const r=g(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function lde(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=g(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],Qfe(u));const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],Zfe(f));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function ude(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>Wfe(v))),y(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const o=g(t,["computerUse"]);if(o!=null&&y(e,["computerUse"],o),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(t,["codeExecution"]);l!=null&&y(e,["codeExecution"],l);const u=g(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const f=g(t,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const d=g(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const h=g(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function cde(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function fde(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function dde(t,e){const n={},r=g(e,["name"]);r!=null&&y(n,["_url","name"],ga(t,r));const i=g(e,["config"]);return i!=null&&cde(i,n),n}function hde(t,e){const n={},r=g(e,["name"]);r!=null&&y(n,["_url","name"],ga(t,r));const i=g(e,["config"]);return i!=null&&fde(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pde extends ma{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ql(sa.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Bfe(this.apiClient,e);return u=Ae("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=zfe(this.apiClient,e);return u=Ae("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Xfe(this.apiClient,e);return u=Ae("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=Jfe(this.apiClient,e);return u=Ae("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Ffe(this.apiClient,e);return u=Ae("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Gfe(h),v=new nO;return Object.assign(v,m),v})}else{const d=jfe(this.apiClient,e);return u=Ae("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Hfe(h),v=new nO;return Object.assign(v,m),v})}}async update(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=hde(this.apiClient,e);return u=Ae("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=dde(this.apiClient,e);return u=Ae("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=rde(e);return u=Ae("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=ode(h),v=new rO;return Object.assign(v,m),v})}else{const d=nde(e);return u=Ae("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=ide(h),v=new rO;return Object.assign(v,m),v})}}}function cO(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pt(t){return this instanceof Pt?(this.v=t,this):new Pt(t)}function Wu(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(E){return function(A){return Promise.resolve(A).then(E,m)}}function u(E,A){r[E]&&(i[E]=function(x){return new Promise(function(C,R){o.push([E,x,C,R])>1||f(E,x)})},A&&(i[E]=A(i[E])))}function f(E,A){try{d(r[E](A))}catch(x){v(o[0][3],x)}}function d(E){E.value instanceof Pt?Promise.resolve(E.value.v).then(h,m):v(o[0][2],E)}function h(E){f("next",E)}function m(E){f("throw",E)}function v(E,A){E(A),o.shift(),o.length&&f(o[0][0],o[0][1])}}function sd(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cO=="function"?cO(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(u,f){l=t[o](l),i(u,f,l.done,l.value)})}}function i(o,l,u,f){Promise.resolve(f).then(function(d){o({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mde(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:M5(n)}function M5(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function gde(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function fO(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!M5(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class yde{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new vde(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class vde{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),gde(o)}async sendMessage(e){var n;await this.sendPromise;const r=Jn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,u;const f=await i,d=(l=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,h=f.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let v=[];h!=null&&(v=(u=h.slice(m))!==null&&u!==void 0?u:[]);const E=d?[d]:[];this.recordHistory(r,E,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=Jn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?fO(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Wu(this,arguments,function*(){var l,u,f,d;const h=[];try{for(var m=!0,v=sd(e),E;E=yield Pt(v.next()),l=E.done,!l;m=!0){d=E.value,m=!1;const A=d;if(mde(A)){const x=(i=(r=A.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;x!==void 0&&h.push(x)}yield yield Pt(A)}}catch(A){u={error:A}}finally{try{!m&&!l&&(f=v.return)&&(yield Pt(f.call(v)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...fO(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sv extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,sv.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _de(t){const e={},n=g(t,["file"]);return n!=null&&y(e,["file"],n),e}function bde(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Ede(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","file"],A5(n)),e}function Tde(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Sde(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","file"],A5(n)),e}function xde(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Ade(t){const e={},n=g(t,["config"]);return n!=null&&xde(n,e),e}function wde(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cde extends ma{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ql(sa.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ade(e);return o=Ae("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=wde(f),h=new Rce;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_de(e);return o=Ae("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=bde(f),h=new Mce;return Object.assign(h,d),h})}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Sde(e);return o=Ae("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Ede(e);return o=Ae("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=Tde(f),h=new Dce;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pm(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Ide(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Hde(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function Pde(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Nde(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Rde(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&y(e,["description"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const l=g(t,["response"]);l!=null&&y(e,["response"],l);const u=g(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function Mde(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const o=g(t,["candidateCount"]);o!=null&&y(e,["candidateCount"],o);const l=g(t,["enableAffectiveDialog"]);l!=null&&y(e,["enableAffectiveDialog"],l);const u=g(t,["frequencyPenalty"]);u!=null&&y(e,["frequencyPenalty"],u);const f=g(t,["logprobs"]);f!=null&&y(e,["logprobs"],f);const d=g(t,["maxOutputTokens"]);d!=null&&y(e,["maxOutputTokens"],d);const h=g(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const m=g(t,["presencePenalty"]);m!=null&&y(e,["presencePenalty"],m);const v=g(t,["responseLogprobs"]);v!=null&&y(e,["responseLogprobs"],v);const E=g(t,["responseMimeType"]);E!=null&&y(e,["responseMimeType"],E);const A=g(t,["responseModalities"]);A!=null&&y(e,["responseModalities"],A);const x=g(t,["responseSchema"]);x!=null&&y(e,["responseSchema"],x);const C=g(t,["routingConfig"]);C!=null&&y(e,["routingConfig"],C);const R=g(t,["seed"]);R!=null&&y(e,["seed"],R);const z=g(t,["speechConfig"]);z!=null&&y(e,["speechConfig"],D5(z));const D=g(t,["stopSequences"]);D!=null&&y(e,["stopSequences"],D);const q=g(t,["temperature"]);q!=null&&y(e,["temperature"],q);const F=g(t,["thinkingConfig"]);F!=null&&y(e,["thinkingConfig"],F);const G=g(t,["topK"]);G!=null&&y(e,["topK"],G);const O=g(t,["topP"]);if(O!=null&&y(e,["topP"],O),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Dde(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Ode(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function kde(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const l=g(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const u=g(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const f=g(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","speechConfig"],IA(m));const v=g(t,["thinkingConfig"]);e!==void 0&&v!=null&&y(e,["setup","generationConfig","thinkingConfig"],v);const E=g(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],E);const A=g(t,["systemInstruction"]);e!==void 0&&A!=null&&y(e,["setup","systemInstruction"],Ide(Jn(A)));const x=g(t,["tools"]);if(e!==void 0&&x!=null){let G=Rc(x);Array.isArray(G)&&(G=G.map(O=>$de(Nc(O)))),y(e,["setup","tools"],G)}const C=g(t,["sessionResumption"]);e!==void 0&&C!=null&&y(e,["setup","sessionResumption"],Gde(C));const R=g(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&y(e,["setup","inputAudioTranscription"],R);const z=g(t,["outputAudioTranscription"]);e!==void 0&&z!=null&&y(e,["setup","outputAudioTranscription"],z);const D=g(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&y(e,["setup","realtimeInputConfig"],D);const q=g(t,["contextWindowCompression"]);e!==void 0&&q!=null&&y(e,["setup","contextWindowCompression"],q);const F=g(t,["proactivity"]);return e!==void 0&&F!=null&&y(e,["setup","proactivity"],F),n}function Lde(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],Mde(r));const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const l=g(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const u=g(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const f=g(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","speechConfig"],D5(IA(m)));const v=g(t,["thinkingConfig"]);e!==void 0&&v!=null&&y(e,["setup","generationConfig","thinkingConfig"],v);const E=g(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],E);const A=g(t,["systemInstruction"]);e!==void 0&&A!=null&&y(e,["setup","systemInstruction"],Jn(A));const x=g(t,["tools"]);if(e!==void 0&&x!=null){let G=Rc(x);Array.isArray(G)&&(G=G.map(O=>Kde(Nc(O)))),y(e,["setup","tools"],G)}const C=g(t,["sessionResumption"]);e!==void 0&&C!=null&&y(e,["setup","sessionResumption"],C);const R=g(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&y(e,["setup","inputAudioTranscription"],R);const z=g(t,["outputAudioTranscription"]);e!==void 0&&z!=null&&y(e,["setup","outputAudioTranscription"],z);const D=g(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&y(e,["setup","realtimeInputConfig"],D);const q=g(t,["contextWindowCompression"]);e!==void 0&&q!=null&&y(e,["setup","contextWindowCompression"],q);const F=g(t,["proactivity"]);return e!==void 0&&F!=null&&y(e,["setup","proactivity"],F),n}function Ude(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["setup","model"],ut(t,r));const i=g(e,["config"]);return i!=null&&y(n,["config"],kde(i,n)),n}function Vde(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["setup","model"],ut(t,r));const i=g(e,["config"]);return i!=null&&y(n,["config"],Lde(i,n)),n}function qde(t){const e={},n=g(t,["musicGenerationConfig"]);return n!=null&&y(e,["musicGenerationConfig"],n),e}function zde(t){const e={},n=g(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["weightedPrompts"],r)}return e}function Bde(t){const e={},n=g(t,["media"]);if(n!=null){let d=b5(n);Array.isArray(d)&&(d=d.map(h=>Pm(h))),y(e,["mediaChunks"],d)}const r=g(t,["audio"]);r!=null&&y(e,["audio"],Pm(T5(r)));const i=g(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const o=g(t,["video"]);o!=null&&y(e,["video"],Pm(E5(o)));const l=g(t,["text"]);l!=null&&y(e,["text"],l);const u=g(t,["activityStart"]);u!=null&&y(e,["activityStart"],u);const f=g(t,["activityEnd"]);return f!=null&&y(e,["activityEnd"],f),e}function jde(t){const e={},n=g(t,["media"]);if(n!=null){let d=b5(n);Array.isArray(d)&&(d=d.map(h=>h)),y(e,["mediaChunks"],d)}const r=g(t,["audio"]);r!=null&&y(e,["audio"],T5(r));const i=g(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const o=g(t,["video"]);o!=null&&y(e,["video"],E5(o));const l=g(t,["text"]);l!=null&&y(e,["text"],l);const u=g(t,["activityStart"]);u!=null&&y(e,["activityStart"],u);const f=g(t,["activityEnd"]);return f!=null&&y(e,["activityEnd"],f),e}function Fde(t){const e={},n=g(t,["setupComplete"]);n!=null&&y(e,["setupComplete"],n);const r=g(t,["serverContent"]);r!=null&&y(e,["serverContent"],r);const i=g(t,["toolCall"]);i!=null&&y(e,["toolCall"],i);const o=g(t,["toolCallCancellation"]);o!=null&&y(e,["toolCallCancellation"],o);const l=g(t,["usageMetadata"]);l!=null&&y(e,["usageMetadata"],Yde(l));const u=g(t,["goAway"]);u!=null&&y(e,["goAway"],u);const f=g(t,["sessionResumptionUpdate"]);return f!=null&&y(e,["sessionResumptionUpdate"],f),e}function Hde(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],Pde(o));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],Nde(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],Pm(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&y(e,["videoMetadata"],v),e}function Gde(t){const e={},n=g(t,["handle"]);if(n!=null&&y(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function D5(t){const e={},n=g(t,["languageCode"]);n!=null&&y(e,["languageCode"],n);const r=g(t,["voiceConfig"]);if(r!=null&&y(e,["voiceConfig"],r),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function $de(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=g(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],Dde(u));const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],Ode(f));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function Kde(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>Rde(v))),y(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const o=g(t,["computerUse"]);if(o!=null&&y(e,["computerUse"],o),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(t,["codeExecution"]);l!=null&&y(e,["codeExecution"],l);const u=g(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const f=g(t,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const d=g(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const h=g(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function Yde(t){const e={},n=g(t,["promptTokenCount"]);n!=null&&y(e,["promptTokenCount"],n);const r=g(t,["cachedContentTokenCount"]);r!=null&&y(e,["cachedContentTokenCount"],r);const i=g(t,["candidatesTokenCount"]);i!=null&&y(e,["responseTokenCount"],i);const o=g(t,["toolUsePromptTokenCount"]);o!=null&&y(e,["toolUsePromptTokenCount"],o);const l=g(t,["thoughtsTokenCount"]);l!=null&&y(e,["thoughtsTokenCount"],l);const u=g(t,["totalTokenCount"]);u!=null&&y(e,["totalTokenCount"],u);const f=g(t,["promptTokensDetails"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(A=>A)),y(e,["promptTokensDetails"],E)}const d=g(t,["cacheTokensDetails"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(A=>A)),y(e,["cacheTokensDetails"],E)}const h=g(t,["candidatesTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(A=>A)),y(e,["responseTokensDetails"],E)}const m=g(t,["toolUsePromptTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(A=>A)),y(e,["toolUsePromptTokensDetails"],E)}const v=g(t,["trafficType"]);return v!=null&&y(e,["trafficType"],v),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wde(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Jde(t){const e={},n=g(t,["content"]);n!=null&&y(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],Xde(r));const i=g(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const o=g(t,["finishReason"]);o!=null&&y(e,["finishReason"],o);const l=g(t,["avgLogprobs"]);l!=null&&y(e,["avgLogprobs"],l);const u=g(t,["groundingMetadata"]);u!=null&&y(e,["groundingMetadata"],u);const f=g(t,["index"]);f!=null&&y(e,["index"],f);const d=g(t,["logprobsResult"]);d!=null&&y(e,["logprobsResult"],d);const h=g(t,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(E=>E)),y(e,["safetyRatings"],v)}const m=g(t,["urlContextMetadata"]);return m!=null&&y(e,["urlContextMetadata"],m),e}function Xde(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function Qde(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ut(t,r));const i=g(e,["contents"]);if(i!=null){let o=ri(i);Array.isArray(o)&&(o=o.map(l=>l)),y(n,["contents"],o)}return n}function Zde(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(e,["tokensInfo"],i)}return e}function ehe(t){const e={},n=g(t,["values"]);n!=null&&y(e,["values"],n);const r=g(t,["statistics"]);return r!=null&&y(e,["statistics"],the(r)),e}function the(t){const e={},n=g(t,["truncated"]);n!=null&&y(e,["truncated"],n);const r=g(t,["token_count"]);return r!=null&&y(e,["tokenCount"],r),e}function lv(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cpe(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function nhe(t){const e={},n=g(t,["controlType"]);n!=null&&y(e,["controlType"],n);const r=g(t,["enableControlImageComputation"]);return r!=null&&y(e,["computeControl"],r),e}function rhe(t){const e={};if(g(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function ihe(t,e){const n={},r=g(t,["systemInstruction"]);e!==void 0&&r!=null&&y(e,["systemInstruction"],Jn(r));const i=g(t,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>V5(u))),y(e,["tools"],l)}const o=g(t,["generationConfig"]);return e!==void 0&&o!=null&&y(e,["generationConfig"],Whe(o)),n}function ohe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ut(t,r));const i=g(e,["contents"]);if(i!=null){let l=ri(i);Array.isArray(l)&&(l=l.map(u=>lv(u))),y(n,["contents"],l)}const o=g(e,["config"]);return o!=null&&rhe(o),n}function ahe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ut(t,r));const i=g(e,["contents"]);if(i!=null){let l=ri(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const o=g(e,["config"]);return o!=null&&ihe(o,n),n}function she(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);r!=null&&y(e,["totalTokens"],r);const i=g(t,["cachedContentTokenCount"]);return i!=null&&y(e,["cachedContentTokenCount"],i),e}function lhe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);return r!=null&&y(e,["totalTokens"],r),e}function uhe(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],ut(t,r)),n}function che(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],ut(t,r)),n}function fhe(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function dhe(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function hhe(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const o=g(t,["numberOfImages"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);const l=g(t,["aspectRatio"]);e!==void 0&&l!=null&&y(e,["parameters","aspectRatio"],l);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&y(e,["parameters","guidanceScale"],u);const f=g(t,["seed"]);e!==void 0&&f!=null&&y(e,["parameters","seed"],f);const d=g(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&y(e,["parameters","includeSafetyAttributes"],m);const v=g(t,["includeRaiReason"]);e!==void 0&&v!=null&&y(e,["parameters","includeRaiReason"],v);const E=g(t,["language"]);e!==void 0&&E!=null&&y(e,["parameters","language"],E);const A=g(t,["outputMimeType"]);e!==void 0&&A!=null&&y(e,["parameters","outputOptions","mimeType"],A);const x=g(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&y(e,["parameters","outputOptions","compressionQuality"],x);const C=g(t,["addWatermark"]);e!==void 0&&C!=null&&y(e,["parameters","addWatermark"],C);const R=g(t,["labels"]);e!==void 0&&R!=null&&y(e,["labels"],R);const z=g(t,["editMode"]);e!==void 0&&z!=null&&y(e,["parameters","editMode"],z);const D=g(t,["baseSteps"]);return e!==void 0&&D!=null&&y(e,["parameters","editConfig","baseSteps"],D),n}function phe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ut(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>gpe(f))),y(n,["instances[0]","referenceImages"],u)}const l=g(e,["config"]);return l!=null&&hhe(l,n),n}function mhe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>uv(o))),y(e,["generatedImages"],i)}return e}function ghe(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const o=g(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&y(e,["requests[]","outputDimensionality"],o),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function yhe(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&y(e,["instances[]","task_type"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&y(e,["instances[]","title"],i);const o=g(t,["outputDimensionality"]);e!==void 0&&o!=null&&y(e,["parameters","outputDimensionality"],o);const l=g(t,["mimeType"]);e!==void 0&&l!=null&&y(e,["instances[]","mimeType"],l);const u=g(t,["autoTruncate"]);return e!==void 0&&u!=null&&y(e,["parameters","autoTruncate"],u),n}function vhe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ut(t,r));const i=g(e,["contents"]);if(i!=null){let u=AA(t,i);Array.isArray(u)&&(u=u.map(f=>f)),y(n,["requests[]","content"],u)}const o=g(e,["config"]);o!=null&&ghe(o,n);const l=g(e,["model"]);return l!==void 0&&y(n,["requests[]","model"],ut(t,l)),n}function _he(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ut(t,r));const i=g(e,["contents"]);if(i!=null){let l=AA(t,i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["instances[]","content"],l)}const o=g(e,["config"]);return o!=null&&yhe(o,n),n}function bhe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["embeddings"],o)}const i=g(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function Ehe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>ehe(l))),y(e,["embeddings"],o)}const i=g(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function The(t){const e={},n=g(t,["endpoint"]);n!=null&&y(e,["name"],n);const r=g(t,["deployedModelId"]);return r!=null&&y(e,["deployedModelId"],r),e}function She(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function xhe(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ahe(t){const e={},n=g(t,["mode"]);n!=null&&y(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function whe(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&y(e,["description"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const l=g(t,["response"]);l!=null&&y(e,["response"],l);const u=g(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function Che(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],lv(Jn(i)));const o=g(e,["temperature"]);o!=null&&y(r,["temperature"],o);const l=g(e,["topP"]);l!=null&&y(r,["topP"],l);const u=g(e,["topK"]);u!=null&&y(r,["topK"],u);const f=g(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=g(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const v=g(e,["logprobs"]);v!=null&&y(r,["logprobs"],v);const E=g(e,["presencePenalty"]);E!=null&&y(r,["presencePenalty"],E);const A=g(e,["frequencyPenalty"]);A!=null&&y(r,["frequencyPenalty"],A);const x=g(e,["seed"]);x!=null&&y(r,["seed"],x);const C=g(e,["responseMimeType"]);C!=null&&y(r,["responseMimeType"],C);const R=g(e,["responseSchema"]);R!=null&&y(r,["responseSchema"],wA(R));const z=g(e,["responseJsonSchema"]);if(z!=null&&y(r,["responseJsonSchema"],z),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=g(e,["safetySettings"]);if(n!==void 0&&D!=null){let B=D;Array.isArray(B)&&(B=B.map(H=>ype(H))),y(n,["safetySettings"],B)}const q=g(e,["tools"]);if(n!==void 0&&q!=null){let B=Rc(q);Array.isArray(B)&&(B=B.map(H=>xpe(Nc(H)))),y(n,["tools"],B)}const F=g(e,["toolConfig"]);if(n!==void 0&&F!=null&&y(n,["toolConfig"],Spe(F)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=g(e,["cachedContent"]);n!==void 0&&G!=null&&y(n,["cachedContent"],ga(t,G));const O=g(e,["responseModalities"]);O!=null&&y(r,["responseModalities"],O);const k=g(e,["mediaResolution"]);k!=null&&y(r,["mediaResolution"],k);const M=g(e,["speechConfig"]);if(M!=null&&y(r,["speechConfig"],CA(M)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=g(e,["thinkingConfig"]);V!=null&&y(r,["thinkingConfig"],V);const U=g(e,["imageConfig"]);return U!=null&&y(r,["imageConfig"],epe(U)),r}function Ihe(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],Jn(i));const o=g(e,["temperature"]);o!=null&&y(r,["temperature"],o);const l=g(e,["topP"]);l!=null&&y(r,["topP"],l);const u=g(e,["topK"]);u!=null&&y(r,["topK"],u);const f=g(e,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=g(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const v=g(e,["logprobs"]);v!=null&&y(r,["logprobs"],v);const E=g(e,["presencePenalty"]);E!=null&&y(r,["presencePenalty"],E);const A=g(e,["frequencyPenalty"]);A!=null&&y(r,["frequencyPenalty"],A);const x=g(e,["seed"]);x!=null&&y(r,["seed"],x);const C=g(e,["responseMimeType"]);C!=null&&y(r,["responseMimeType"],C);const R=g(e,["responseSchema"]);R!=null&&y(r,["responseSchema"],wA(R));const z=g(e,["responseJsonSchema"]);z!=null&&y(r,["responseJsonSchema"],z);const D=g(e,["routingConfig"]);D!=null&&y(r,["routingConfig"],D);const q=g(e,["modelSelectionConfig"]);q!=null&&y(r,["modelConfig"],q);const F=g(e,["safetySettings"]);if(n!==void 0&&F!=null){let X=F;Array.isArray(X)&&(X=X.map(ue=>ue)),y(n,["safetySettings"],X)}const G=g(e,["tools"]);if(n!==void 0&&G!=null){let X=Rc(G);Array.isArray(X)&&(X=X.map(ue=>V5(Nc(ue)))),y(n,["tools"],X)}const O=g(e,["toolConfig"]);n!==void 0&&O!=null&&y(n,["toolConfig"],O);const k=g(e,["labels"]);n!==void 0&&k!=null&&y(n,["labels"],k);const M=g(e,["cachedContent"]);n!==void 0&&M!=null&&y(n,["cachedContent"],ga(t,M));const V=g(e,["responseModalities"]);V!=null&&y(r,["responseModalities"],V);const U=g(e,["mediaResolution"]);U!=null&&y(r,["mediaResolution"],U);const B=g(e,["speechConfig"]);B!=null&&y(r,["speechConfig"],U5(CA(B)));const H=g(e,["audioTimestamp"]);H!=null&&y(r,["audioTimestamp"],H);const Se=g(e,["thinkingConfig"]);Se!=null&&y(r,["thinkingConfig"],Se);const we=g(e,["imageConfig"]);return we!=null&&y(r,["imageConfig"],tpe(we)),r}function dO(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ut(t,r));const i=g(e,["contents"]);if(i!=null){let l=ri(i);Array.isArray(l)&&(l=l.map(u=>lv(u))),y(n,["contents"],l)}const o=g(e,["config"]);return o!=null&&y(n,["generationConfig"],Che(t,o,n)),n}function hO(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ut(t,r));const i=g(e,["contents"]);if(i!=null){let l=ri(i);Array.isArray(l)&&(l=l.map(u=>u)),y(n,["contents"],l)}const o=g(e,["config"]);return o!=null&&y(n,["generationConfig"],Ihe(t,o,n)),n}function pO(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>Jde(d))),y(e,["candidates"],f)}const i=g(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const o=g(t,["promptFeedback"]);o!=null&&y(e,["promptFeedback"],o);const l=g(t,["responseId"]);l!=null&&y(e,["responseId"],l);const u=g(t,["usageMetadata"]);return u!=null&&y(e,["usageMetadata"],u),e}function mO(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),y(e,["candidates"],d)}const i=g(t,["createTime"]);i!=null&&y(e,["createTime"],i);const o=g(t,["modelVersion"]);o!=null&&y(e,["modelVersion"],o);const l=g(t,["promptFeedback"]);l!=null&&y(e,["promptFeedback"],l);const u=g(t,["responseId"]);u!=null&&y(e,["responseId"],u);const f=g(t,["usageMetadata"]);return f!=null&&y(e,["usageMetadata"],f),e}function Phe(t,e){const n={};if(g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=g(t,["aspectRatio"]);e!==void 0&&i!=null&&y(e,["parameters","aspectRatio"],i);const o=g(t,["guidanceScale"]);if(e!==void 0&&o!=null&&y(e,["parameters","guidanceScale"],o),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&y(e,["parameters","safetySetting"],l);const u=g(t,["personGeneration"]);e!==void 0&&u!=null&&y(e,["parameters","personGeneration"],u);const f=g(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&y(e,["parameters","includeSafetyAttributes"],f);const d=g(t,["includeRaiReason"]);e!==void 0&&d!=null&&y(e,["parameters","includeRaiReason"],d);const h=g(t,["language"]);e!==void 0&&h!=null&&y(e,["parameters","language"],h);const m=g(t,["outputMimeType"]);e!==void 0&&m!=null&&y(e,["parameters","outputOptions","mimeType"],m);const v=g(t,["outputCompressionQuality"]);if(e!==void 0&&v!=null&&y(e,["parameters","outputOptions","compressionQuality"],v),g(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=g(t,["imageSize"]);if(e!==void 0&&E!=null&&y(e,["parameters","sampleImageSize"],E),g(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Nhe(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const o=g(t,["numberOfImages"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);const l=g(t,["aspectRatio"]);e!==void 0&&l!=null&&y(e,["parameters","aspectRatio"],l);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&y(e,["parameters","guidanceScale"],u);const f=g(t,["seed"]);e!==void 0&&f!=null&&y(e,["parameters","seed"],f);const d=g(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&y(e,["parameters","includeSafetyAttributes"],m);const v=g(t,["includeRaiReason"]);e!==void 0&&v!=null&&y(e,["parameters","includeRaiReason"],v);const E=g(t,["language"]);e!==void 0&&E!=null&&y(e,["parameters","language"],E);const A=g(t,["outputMimeType"]);e!==void 0&&A!=null&&y(e,["parameters","outputOptions","mimeType"],A);const x=g(t,["outputCompressionQuality"]);e!==void 0&&x!=null&&y(e,["parameters","outputOptions","compressionQuality"],x);const C=g(t,["addWatermark"]);e!==void 0&&C!=null&&y(e,["parameters","addWatermark"],C);const R=g(t,["labels"]);e!==void 0&&R!=null&&y(e,["labels"],R);const z=g(t,["imageSize"]);e!==void 0&&z!=null&&y(e,["parameters","sampleImageSize"],z);const D=g(t,["enhancePrompt"]);return e!==void 0&&D!=null&&y(e,["parameters","enhancePrompt"],D),n}function Rhe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ut(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["config"]);return o!=null&&Phe(o,n),n}function Mhe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ut(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["config"]);return o!=null&&Nhe(o,n),n}function Dhe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Ghe(l))),y(e,["generatedImages"],o)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],k5(i)),e}function Ohe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>uv(l))),y(e,["generatedImages"],o)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],L5(i)),e}function khe(t,e){const n={},r=g(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r),g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(t,["durationSeconds"]);if(e!==void 0&&i!=null&&y(e,["parameters","durationSeconds"],i),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=g(t,["aspectRatio"]);e!==void 0&&o!=null&&y(e,["parameters","aspectRatio"],o);const l=g(t,["resolution"]);e!==void 0&&l!=null&&y(e,["parameters","resolution"],l);const u=g(t,["personGeneration"]);if(e!==void 0&&u!=null&&y(e,["parameters","personGeneration"],u),g(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=g(t,["negativePrompt"]);e!==void 0&&f!=null&&y(e,["parameters","negativePrompt"],f);const d=g(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&y(e,["parameters","enhancePrompt"],d),g(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=g(t,["lastFrame"]);e!==void 0&&h!=null&&y(e,["instances[0]","lastFrame"],cv(h));const m=g(t,["referenceImages"]);if(e!==void 0&&m!=null){let v=m;Array.isArray(v)&&(v=v.map(E=>Upe(E))),y(e,["instances[0]","referenceImages"],v)}if(g(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Lhe(t,e){const n={},r=g(t,["numberOfVideos"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=g(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const o=g(t,["fps"]);e!==void 0&&o!=null&&y(e,["parameters","fps"],o);const l=g(t,["durationSeconds"]);e!==void 0&&l!=null&&y(e,["parameters","durationSeconds"],l);const u=g(t,["seed"]);e!==void 0&&u!=null&&y(e,["parameters","seed"],u);const f=g(t,["aspectRatio"]);e!==void 0&&f!=null&&y(e,["parameters","aspectRatio"],f);const d=g(t,["resolution"]);e!==void 0&&d!=null&&y(e,["parameters","resolution"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=g(t,["pubsubTopic"]);e!==void 0&&m!=null&&y(e,["parameters","pubsubTopic"],m);const v=g(t,["negativePrompt"]);e!==void 0&&v!=null&&y(e,["parameters","negativePrompt"],v);const E=g(t,["enhancePrompt"]);e!==void 0&&E!=null&&y(e,["parameters","enhancePrompt"],E);const A=g(t,["generateAudio"]);e!==void 0&&A!=null&&y(e,["parameters","generateAudio"],A);const x=g(t,["lastFrame"]);e!==void 0&&x!=null&&y(e,["instances[0]","lastFrame"],ki(x));const C=g(t,["referenceImages"]);if(e!==void 0&&C!=null){let D=C;Array.isArray(D)&&(D=D.map(q=>Vpe(q))),y(e,["instances[0]","referenceImages"],D)}const R=g(t,["mask"]);e!==void 0&&R!=null&&y(e,["instances[0]","mask"],Lpe(R));const z=g(t,["compressionQuality"]);return e!==void 0&&z!=null&&y(e,["parameters","compressionQuality"],z),n}function Uhe(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response","generateVideoResponse"]);return l!=null&&y(e,["response"],Bhe(l)),e}function Vhe(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response"]);return l!=null&&y(e,["response"],jhe(l)),e}function qhe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ut(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["image"]);o!=null&&y(n,["instances[0]","image"],cv(o));const l=g(e,["video"]);l!=null&&y(n,["instances[0]","video"],q5(l));const u=g(e,["source"]);u!=null&&Fhe(u,n);const f=g(e,["config"]);return f!=null&&khe(f,n),n}function zhe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ut(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["image"]);o!=null&&y(n,["instances[0]","image"],ki(o));const l=g(e,["video"]);l!=null&&y(n,["instances[0]","video"],z5(l));const u=g(e,["source"]);u!=null&&Hhe(u,n);const f=g(e,["config"]);return f!=null&&Lhe(f,n),n}function Bhe(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Khe(l))),y(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function jhe(t){const e={},n=g(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Yhe(l))),y(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function Fhe(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],cv(i));const o=g(t,["video"]);return e!==void 0&&o!=null&&y(e,["instances[0]","video"],q5(o)),n}function Hhe(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],ki(i));const o=g(t,["video"]);return e!==void 0&&o!=null&&y(e,["instances[0]","video"],z5(o)),n}function Ghe(t){const e={},n=g(t,["_self"]);n!=null&&y(e,["image"],npe(n));const r=g(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=g(t,["_self"]);return i!=null&&y(e,["safetyAttributes"],k5(i)),e}function uv(t){const e={},n=g(t,["_self"]);n!=null&&y(e,["image"],O5(n));const r=g(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=g(t,["_self"]);i!=null&&y(e,["safetyAttributes"],L5(i));const o=g(t,["prompt"]);return o!=null&&y(e,["enhancedPrompt"],o),e}function $he(t){const e={},n=g(t,["_self"]);n!=null&&y(e,["mask"],O5(n));const r=g(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(e,["labels"],i)}return e}function Khe(t){const e={},n=g(t,["video"]);return n!=null&&y(e,["video"],Ope(n)),e}function Yhe(t){const e={},n=g(t,["_self"]);return n!=null&&y(e,["video"],kpe(n)),e}function Whe(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const o=g(t,["candidateCount"]);o!=null&&y(e,["candidateCount"],o);const l=g(t,["enableAffectiveDialog"]);l!=null&&y(e,["enableAffectiveDialog"],l);const u=g(t,["frequencyPenalty"]);u!=null&&y(e,["frequencyPenalty"],u);const f=g(t,["logprobs"]);f!=null&&y(e,["logprobs"],f);const d=g(t,["maxOutputTokens"]);d!=null&&y(e,["maxOutputTokens"],d);const h=g(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const m=g(t,["presencePenalty"]);m!=null&&y(e,["presencePenalty"],m);const v=g(t,["responseLogprobs"]);v!=null&&y(e,["responseLogprobs"],v);const E=g(t,["responseMimeType"]);E!=null&&y(e,["responseMimeType"],E);const A=g(t,["responseModalities"]);A!=null&&y(e,["responseModalities"],A);const x=g(t,["responseSchema"]);x!=null&&y(e,["responseSchema"],x);const C=g(t,["routingConfig"]);C!=null&&y(e,["routingConfig"],C);const R=g(t,["seed"]);R!=null&&y(e,["seed"],R);const z=g(t,["speechConfig"]);z!=null&&y(e,["speechConfig"],U5(z));const D=g(t,["stopSequences"]);D!=null&&y(e,["stopSequences"],D);const q=g(t,["temperature"]);q!=null&&y(e,["temperature"],q);const F=g(t,["thinkingConfig"]);F!=null&&y(e,["thinkingConfig"],F);const G=g(t,["topK"]);G!=null&&y(e,["topK"],G);const O=g(t,["topP"]);if(O!=null&&y(e,["topP"],O),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Jhe(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],ut(t,r)),n}function Xhe(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],ut(t,r)),n}function Qhe(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Zhe(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function epe(t){const e={},n=g(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function tpe(t){const e={},n=g(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=g(t,["imageSize"]);r!=null&&y(e,["imageSize"],r);const i=g(t,["outputMimeType"]);i!=null&&y(e,["imageOutputOptions","mimeType"],i);const o=g(t,["outputCompressionQuality"]);return o!=null&&y(e,["imageOutputOptions","compressionQuality"],o),e}function npe(t){const e={},n=g(t,["bytesBase64Encoded"]);n!=null&&y(e,["imageBytes"],Ps(n));const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function O5(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&y(e,["imageBytes"],Ps(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function cv(t){const e={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(t,["imageBytes"]);n!=null&&y(e,["bytesBase64Encoded"],Ps(n));const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function ki(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=g(t,["imageBytes"]);r!=null&&y(e,["bytesBase64Encoded"],Ps(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function rpe(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=g(e,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const l=g(e,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],w5(t,u)),r}function ipe(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=g(e,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const l=g(e,["filter"]);n!==void 0&&l!=null&&y(n,["_query","filter"],l);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],w5(t,u)),r}function ope(t,e){const n={},r=g(e,["config"]);return r!=null&&rpe(t,r,n),n}function ape(t,e){const n={},r=g(e,["config"]);return r!=null&&ipe(t,r,n),n}function spe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let o=C5(i);Array.isArray(o)&&(o=o.map(l=>JT(l))),y(e,["models"],o)}return e}function lpe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let o=C5(i);Array.isArray(o)&&(o=o.map(l=>XT(l))),y(e,["models"],o)}return e}function upe(t){const e={},n=g(t,["maskMode"]);n!=null&&y(e,["maskMode"],n);const r=g(t,["segmentationClasses"]);r!=null&&y(e,["maskClasses"],r);const i=g(t,["maskDilation"]);return i!=null&&y(e,["dilation"],i),e}function JT(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);i!=null&&y(e,["description"],i);const o=g(t,["version"]);o!=null&&y(e,["version"],o);const l=g(t,["_self"]);l!=null&&y(e,["tunedModelInfo"],Ape(l));const u=g(t,["inputTokenLimit"]);u!=null&&y(e,["inputTokenLimit"],u);const f=g(t,["outputTokenLimit"]);f!=null&&y(e,["outputTokenLimit"],f);const d=g(t,["supportedGenerationMethods"]);d!=null&&y(e,["supportedActions"],d);const h=g(t,["temperature"]);h!=null&&y(e,["temperature"],h);const m=g(t,["maxTemperature"]);m!=null&&y(e,["maxTemperature"],m);const v=g(t,["topP"]);v!=null&&y(e,["topP"],v);const E=g(t,["topK"]);E!=null&&y(e,["topK"],E);const A=g(t,["thinking"]);return A!=null&&y(e,["thinking"],A),e}function XT(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);i!=null&&y(e,["description"],i);const o=g(t,["versionId"]);o!=null&&y(e,["version"],o);const l=g(t,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>The(v))),y(e,["endpoints"],m)}const u=g(t,["labels"]);u!=null&&y(e,["labels"],u);const f=g(t,["_self"]);f!=null&&y(e,["tunedModelInfo"],wpe(f));const d=g(t,["defaultCheckpointId"]);d!=null&&y(e,["defaultCheckpointId"],d);const h=g(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(v=>v)),y(e,["checkpoints"],m)}return e}function cpe(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],She(o));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],xhe(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],Wde(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&y(e,["videoMetadata"],v),e}function fpe(t){const e={},n=g(t,["productImage"]);return n!=null&&y(e,["image"],ki(n)),e}function dpe(t,e){const n={},r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=g(t,["baseSteps"]);e!==void 0&&i!=null&&y(e,["parameters","baseSteps"],i);const o=g(t,["outputGcsUri"]);e!==void 0&&o!=null&&y(e,["parameters","storageUri"],o);const l=g(t,["seed"]);e!==void 0&&l!=null&&y(e,["parameters","seed"],l);const u=g(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&y(e,["parameters","safetySetting"],u);const f=g(t,["personGeneration"]);e!==void 0&&f!=null&&y(e,["parameters","personGeneration"],f);const d=g(t,["addWatermark"]);e!==void 0&&d!=null&&y(e,["parameters","addWatermark"],d);const h=g(t,["outputMimeType"]);e!==void 0&&h!=null&&y(e,["parameters","outputOptions","mimeType"],h);const m=g(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&y(e,["parameters","outputOptions","compressionQuality"],m);const v=g(t,["enhancePrompt"]);e!==void 0&&v!=null&&y(e,["parameters","enhancePrompt"],v);const E=g(t,["labels"]);return e!==void 0&&E!=null&&y(e,["labels"],E),n}function hpe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ut(t,r));const i=g(e,["source"]);i!=null&&mpe(i,n);const o=g(e,["config"]);return o!=null&&dpe(o,n),n}function ppe(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>uv(i))),y(e,["generatedImages"],r)}return e}function mpe(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["personImage"]);e!==void 0&&i!=null&&y(e,["instances[0]","personImage","image"],ki(i));const o=g(t,["productImages"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>fpe(u))),y(e,["instances[0]","productImages"],l)}return n}function gpe(t){const e={},n=g(t,["referenceImage"]);n!=null&&y(e,["referenceImage"],ki(n));const r=g(t,["referenceId"]);r!=null&&y(e,["referenceId"],r);const i=g(t,["referenceType"]);i!=null&&y(e,["referenceType"],i);const o=g(t,["maskImageConfig"]);o!=null&&y(e,["maskImageConfig"],upe(o));const l=g(t,["controlImageConfig"]);l!=null&&y(e,["controlImageConfig"],nhe(l));const u=g(t,["styleImageConfig"]);u!=null&&y(e,["styleImageConfig"],u);const f=g(t,["subjectImageConfig"]);return f!=null&&y(e,["subjectImageConfig"],f),e}function k5(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function L5(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function ype(t){const e={},n=g(t,["category"]);if(n!=null&&y(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function vpe(t){const e={},n=g(t,["image"]);return n!=null&&y(e,["image"],ki(n)),e}function _pe(t,e){const n={},r=g(t,["mode"]);e!==void 0&&r!=null&&y(e,["parameters","mode"],r);const i=g(t,["maxPredictions"]);e!==void 0&&i!=null&&y(e,["parameters","maxPredictions"],i);const o=g(t,["confidenceThreshold"]);e!==void 0&&o!=null&&y(e,["parameters","confidenceThreshold"],o);const l=g(t,["maskDilation"]);e!==void 0&&l!=null&&y(e,["parameters","maskDilation"],l);const u=g(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&y(e,["parameters","binaryColorThreshold"],u);const f=g(t,["labels"]);return e!==void 0&&f!=null&&y(e,["labels"],f),n}function bpe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ut(t,r));const i=g(e,["source"]);i!=null&&Tpe(i,n);const o=g(e,["config"]);return o!=null&&_pe(o,n),n}function Epe(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>$he(i))),y(e,["generatedMasks"],r)}return e}function Tpe(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],ki(i));const o=g(t,["scribbleImage"]);return e!==void 0&&o!=null&&y(e,["instances[0]","scribble"],vpe(o)),n}function U5(t){const e={},n=g(t,["languageCode"]);n!=null&&y(e,["languageCode"],n);const r=g(t,["voiceConfig"]);if(r!=null&&y(e,["voiceConfig"],r),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function Spe(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],Ahe(n));const r=g(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function xpe(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=g(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],Qhe(u));const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],Zhe(f));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function V5(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>whe(v))),y(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const o=g(t,["computerUse"]);if(o!=null&&y(e,["computerUse"],o),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=g(t,["codeExecution"]);l!=null&&y(e,["codeExecution"],l);const u=g(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const f=g(t,["googleMaps"]);f!=null&&y(e,["googleMaps"],f);const d=g(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const h=g(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function Ape(t){const e={},n=g(t,["baseModel"]);n!=null&&y(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function wpe(t){const e={},n=g(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function Cpe(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const o=g(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&y(e,["defaultCheckpointId"],o),n}function Ipe(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const o=g(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&y(e,["defaultCheckpointId"],o),n}function Ppe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","name"],ut(t,r));const i=g(e,["config"]);return i!=null&&Cpe(i,n),n}function Npe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ut(t,r));const i=g(e,["config"]);return i!=null&&Ipe(i,n),n}function Rpe(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=g(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&y(e,["parameters","safetySetting"],i);const o=g(t,["personGeneration"]);e!==void 0&&o!=null&&y(e,["parameters","personGeneration"],o);const l=g(t,["includeRaiReason"]);e!==void 0&&l!=null&&y(e,["parameters","includeRaiReason"],l);const u=g(t,["outputMimeType"]);e!==void 0&&u!=null&&y(e,["parameters","outputOptions","mimeType"],u);const f=g(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&y(e,["parameters","outputOptions","compressionQuality"],f);const d=g(t,["enhanceInputImage"]);e!==void 0&&d!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],d);const h=g(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=g(t,["labels"]);e!==void 0&&m!=null&&y(e,["labels"],m);const v=g(t,["numberOfImages"]);e!==void 0&&v!=null&&y(e,["parameters","sampleCount"],v);const E=g(t,["mode"]);return e!==void 0&&E!=null&&y(e,["parameters","mode"],E),n}function Mpe(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],ut(t,r));const i=g(e,["image"]);i!=null&&y(n,["instances[0]","image"],ki(i));const o=g(e,["upscaleFactor"]);o!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=g(e,["config"]);return l!=null&&Rpe(l,n),n}function Dpe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>uv(o))),y(e,["generatedImages"],i)}return e}function Ope(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],Ps(r));const i=g(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function kpe(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],Ps(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function Lpe(t){const e={},n=g(t,["image"]);n!=null&&y(e,["_self"],ki(n));const r=g(t,["maskMode"]);return r!=null&&y(e,["maskMode"],r),e}function Upe(t){const e={},n=g(t,["image"]);n!=null&&y(e,["image"],cv(n));const r=g(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function Vpe(t){const e={},n=g(t,["image"]);n!=null&&y(e,["image"],ki(n));const r=g(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function q5(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["uri"],n);const r=g(t,["videoBytes"]);r!=null&&y(e,["encodedVideo"],Ps(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["encoding"],i),e}function z5(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["gcsUri"],n);const r=g(t,["videoBytes"]);r!=null&&y(e,["bytesBase64Encoded"],Ps(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qpe(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["displayName"],r),n}function zpe(t){const e={},n=g(t,["config"]);return n!=null&&qpe(n,e),e}function Bpe(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function jpe(t){const e={},n=g(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&Bpe(r,e),e}function Fpe(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function Hpe(t,e){const n={},r=g(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["customMetadata"],o)}const i=g(t,["chunkingConfig"]);return e!==void 0&&i!=null&&y(e,["chunkingConfig"],i),n}function Gpe(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const l=g(t,["response"]);return l!=null&&y(e,["response"],Kpe(l)),e}function $pe(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=g(t,["fileName"]);r!=null&&y(e,["fileName"],r);const i=g(t,["config"]);return i!=null&&Hpe(i,e),e}function Kpe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&y(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function Ype(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Wpe(t){const e={},n=g(t,["config"]);return n!=null&&Ype(n,e),e}function Jpe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["fileSearchStores"],o)}return e}function B5(t,e){const n={},r=g(t,["mimeType"]);e!==void 0&&r!=null&&y(e,["mimeType"],r);const i=g(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const o=g(t,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>f)),y(e,["customMetadata"],u)}const l=g(t,["chunkingConfig"]);return e!==void 0&&l!=null&&y(e,["chunkingConfig"],l),n}function Xpe(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=g(t,["config"]);return r!=null&&B5(r,e),e}function Qpe(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zpe="Content-Type",eme="X-Server-Timeout",tme="User-Agent",QT="x-goog-api-client",nme="1.31.0",rme=`google-genai-sdk/${nme}`,ime="v1beta1",ome="v1beta",gO=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class ame{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:ime,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:ome,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))i.searchParams.append(l,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=l}return n&&n.extraBody!==null&&sme(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await yO(i),new KT(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await yO(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Wu(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:f}=yield Pt(i.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(f,{stream:!0});try{const m=JSON.parse(d);if("error"in m){const v=JSON.parse(JSON.stringify(m.error)),E=v.status,A=v.code,x=`got status: ${E}. ${JSON.stringify(m)}`;if(A>=400&&A<600)throw new sv({message:x,status:A})}}catch(m){if(m.name==="ApiError")throw m}l+=d;let h=l.match(gO);for(;h;){const m=h[1];try{const v=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Pt(new KT(v)),l=l.slice(h[0].length),h=l.match(gO)}catch(v){throw new Error(`exception parsing stream chunk ${m}. ${v}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=rme+" "+this.clientOptions.userAgentExtra;return e[tme]=n,e[QT]=n,e[Zpe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(eme,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(e);i.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f={file:i},d=this.getFileName(e),h=Ae("upload/v1beta/files",f._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,f,n==null?void 0:n.httpOptions);return o.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,l=await o.stat(n),u=String(l.size),f=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&B5(r,m);const v=await this.fetchUploadUrl(d,u,f,h,m,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,v,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,l){var u;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function yO(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new sv({message:i,status:n}):new Error(i)}}function sme(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const u=Object.assign({},o);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const d=l[f],h=u[f];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[f]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[f]=d)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lme="mcp_used/unknown";let ume=!1;function j5(t){for(const e of t)if(cme(e)||typeof e=="object"&&"inputSchema"in e)return!0;return ume}function F5(t){var e;const n=(e=t[QT])!==null&&e!==void 0?e:"";t[QT]=(n+` ${lme}`).trimStart()}function cme(t){return t!==null&&typeof t=="object"&&t instanceof PA}function fme(t,e=100){return Wu(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield Pt(t.listTools({cursor:r}));for(const l of o.tools)yield yield Pt(l),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class PA{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new PA(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const h of this.mcpClients)try{for(var u=!0,f=(n=void 0,sd(fme(h))),d;d=await f.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const m=i;l.push(m);const v=m.name;if(o[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);o[v]=h}}catch(m){n={error:m}}finally{try{!u&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Fce(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function dme(t,e,n){const r=new kce;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class hme{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=gme(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(D=>{d=D}),m=e.callbacks,v=function(){d({})},E=this.apiClient,A={onopen:v,onmessage:D=>{dme(E,m.onmessage,D)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(D){}},x=this.webSocketFactory.create(f,mme(l),A);x.connect(),await h;const z={setup:{model:ut(this.apiClient,e.model)}};return x.send(JSON.stringify(z)),new pme(x,this.apiClient)}}class pme{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=zde(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=qde(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(zu.PLAY)}pause(){this.sendPlaybackControl(zu.PAUSE)}stop(){this.sendPlaybackControl(zu.STOP)}resetContext(){this.sendPlaybackControl(zu.RESET_CONTEXT)}close(){this.conn.close()}}function mme(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function gme(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yme="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function vme(t,e,n){const r=new Oce;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const l=Fde(o);Object.assign(r,l)}else Object.assign(r,o);e(r)}class _me{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new hme(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&j5(e.config.tools)&&F5(m);const v=Sme(m);if(this.apiClient.isVertexAI())h=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,h);else{const M=this.apiClient.getApiKey();let V="BidiGenerateContent",U="key";M!=null&&M.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),V="BidiGenerateContentConstrained",U="access_token"),h=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${V}?${U}=${M}`}let E=()=>{};const A=new Promise(M=>{E=M}),x=e.callbacks,C=function(){var M;(M=x==null?void 0:x.onopen)===null||M===void 0||M.call(x),E({})},R=this.apiClient,z={onopen:C,onmessage:M=>{vme(R,x.onmessage,M)},onerror:(n=x==null?void 0:x.onerror)!==null&&n!==void 0?n:function(M){},onclose:(r=x==null?void 0:x.onclose)!==null&&r!==void 0?r:function(M){}},D=this.webSocketFactory.create(h,Tme(v),z);D.connect(),await A;let q=ut(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&q.startsWith("publishers/")){const M=this.apiClient.getProject(),V=this.apiClient.getLocation();q=`projects/${M}/locations/${V}/`+q}let F={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Fg.AUDIO]}:e.config.responseModalities=[Fg.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],O=[];for(const M of G)if(this.isCallableTool(M)){const V=M;O.push(await V.tool())}else O.push(M);O.length>0&&(e.config.tools=O);const k={model:q,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=Vde(this.apiClient,k):F=Ude(this.apiClient,k),delete F.config,D.send(JSON.stringify(F)),new Eme(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const bme={turnComplete:!0};class Eme{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ri(n.turns),e.isVertexAI()||(r=r.map(i=>lv(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(yme)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},bme),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:jde(e)}:n={realtimeInput:Bde(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Tme(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Sme(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vO=10;function _O(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ju(l)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ju(t){return"callTool"in t&&typeof t.callTool=="function"}function xme(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Ju(i)))!==null&&r!==void 0?r:!1}function bO(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Ju(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function EO(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ame extends ma{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,l,u;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!xme(n)||_O(n.config))return await this.generateContentInternal(f);const d=bO(n);if(d.length>0){const x=d.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${x}.`)}let h,m;const v=ri(f.contents),E=(o=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:vO;let A=0;for(;A<E&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const x=h.candidates[0].content,C=[];for(const R of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Ju(R)){const D=await R.callTool(h.functionCalls);C.push(...D)}A++,m={role:"user",parts:C},f.contents=ri(f.contents),f.contents.push(x),f.contents.push(m),EO(f.config)&&(v.push(x),v.push(m))}return EO(f.config)&&(h.automaticFunctionCallingHistory=v),h},this.generateContentStream=async n=>{var r,i,o,l,u;if(this.maybeMoveToResponseJsonSchem(n),_O(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const f=bO(n);if(f.length>0){const m=f.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=f==null?void 0:f.safetyAttributes:l.push(f);let u;return o?u={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new ql(sa.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,u,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((f=(u=n.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const l=await Promise.all(o.map(async f=>Ju(f)?await f.tool():f)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&j5(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),F5(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ju(l)){const u=l,f=await u.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:vO;let l=!1,u=0;const f=await this.initAfcToolsMap(e);return(function(d,h,m){var v,E;return Wu(this,arguments,function*(){for(var A,x,C,R;u<o;){l&&(u++,l=!1);const F=yield Pt(d.processParamsMaybeAddMcpUsage(m)),G=yield Pt(d.generateContentStreamInternal(F)),O=[],k=[];try{for(var z=!0,D=(x=void 0,sd(G)),q;q=yield Pt(D.next()),A=q.done,!A;z=!0){R=q.value,z=!1;const M=R;if(yield yield Pt(M),M.candidates&&(!((v=M.candidates[0])===null||v===void 0)&&v.content)){k.push(M.candidates[0].content);for(const V of(E=M.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(u<o&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(V.functionCall.name)){const U=yield Pt(h.get(V.functionCall.name).callTool([V.functionCall]));O.push(...U)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(M){x={error:M}}finally{try{!z&&!A&&(C=D.return)&&(yield Pt(C.call(D)))}finally{if(x)throw x.error}}if(O.length>0){l=!0;const M=new $f;M.candidates=[{content:{role:"user",parts:O}}],yield yield Pt(M);const V=[];V.push(...k),V.push({role:"user",parts:O});const U=ri(m.contents).concat(V);m.contents=U}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=hO(this.apiClient,e);return u=Ae("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=mO(h),v=new $f;return Object.assign(v,m),v})}else{const d=dO(this.apiClient,e);return u=Ae("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=pO(h),v=new $f;return Object.assign(v,m),v})}}async generateContentStreamInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=hO(this.apiClient,e);return u=Ae("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return Wu(this,arguments,function*(){var v,E,A,x;try{for(var C=!0,R=sd(m),z;z=yield Pt(R.next()),v=z.done,!v;C=!0){x=z.value,C=!1;const D=x,q=mO(yield Pt(D.json()));q.sdkHttpResponse={headers:D.headers};const F=new $f;Object.assign(F,q),yield yield Pt(F)}}catch(D){E={error:D}}finally{try{!C&&!v&&(A=R.return)&&(yield Pt(A.call(R)))}finally{if(E)throw E.error}}})})}else{const d=dO(this.apiClient,e);return u=Ae("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return Wu(this,arguments,function*(){var v,E,A,x;try{for(var C=!0,R=sd(m),z;z=yield Pt(R.next()),v=z.done,!v;C=!0){x=z.value,C=!1;const D=x,q=pO(yield Pt(D.json()));q.sdkHttpResponse={headers:D.headers};const F=new $f;Object.assign(F,q),yield yield Pt(F)}}catch(D){E={error:D}}finally{try{!C&&!v&&(A=R.return)&&(yield Pt(A.call(R)))}finally{if(E)throw E.error}}})})}}async embedContent(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=_he(this.apiClient,e);return u=Ae("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Ehe(h),v=new WD;return Object.assign(v,m),v})}else{const d=vhe(this.apiClient,e);return u=Ae("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=bhe(h),v=new WD;return Object.assign(v,m),v})}}async generateImagesInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Mhe(this.apiClient,e);return u=Ae("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Ohe(h),v=new JD;return Object.assign(v,m),v})}else{const d=Rhe(this.apiClient,e);return u=Ae("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Dhe(h),v=new JD;return Object.assign(v,m),v})}}async editImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=phe(this.apiClient,e);return o=Ae("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=mhe(f),h=new Sce;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=Mpe(this.apiClient,e);return o=Ae("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=Dpe(f),h=new xce;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=hpe(this.apiClient,e);return o=Ae("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=ppe(f),h=new Ace;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=bpe(this.apiClient,e);return o=Ae("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Epe(f),h=new wce;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Xhe(this.apiClient,e);return u=Ae("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>XT(h))}else{const d=Jhe(this.apiClient,e);return u=Ae("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>JT(h))}}async listInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=ape(this.apiClient,e);return u=Ae("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=lpe(h),v=new XD;return Object.assign(v,m),v})}else{const d=ope(this.apiClient,e);return u=Ae("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=spe(h),v=new XD;return Object.assign(v,m),v})}}async update(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Npe(this.apiClient,e);return u=Ae("{model}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>XT(h))}else{const d=Ppe(this.apiClient,e);return u=Ae("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>JT(h))}}async delete(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=che(this.apiClient,e);return u=Ae("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=dhe(h),v=new QD;return Object.assign(v,m),v})}else{const d=uhe(this.apiClient,e);return u=Ae("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=fhe(h),v=new QD;return Object.assign(v,m),v})}}async countTokens(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=ahe(this.apiClient,e);return u=Ae("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=lhe(h),v=new ZD;return Object.assign(v,m),v})}else{const d=ohe(this.apiClient,e);return u=Ae("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=she(h),v=new ZD;return Object.assign(v,m),v})}}async computeTokens(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=Qde(this.apiClient,e);return o=Ae("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=Zde(f),h=new Cce;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=zhe(this.apiClient,e);return u=Ae("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const m=Vhe(h),v=new Hg;return Object.assign(v,m),v})}else{const d=qhe(this.apiClient,e);return u=Ae("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>{const m=Uhe(h),v=new Hg;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wme extends ma{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=yce(e);return u=Ae("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const d=gce(e);return u=Ae("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=uce(e);return o=Ae("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cme(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Ime(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ume(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function Pme(t,e,n){const r={},i=g(e,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const o=g(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&y(n,["newSessionExpireTime"],o);const l=g(e,["uses"]);n!==void 0&&l!=null&&y(n,["uses"],l);const u=g(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],Lme(t,u));const f=g(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&y(n,["fieldMask"],f),r}function Nme(t,e){const n={},r=g(e,["config"]);return r!=null&&y(n,["config"],Pme(t,r,n)),n}function Rme(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Mme(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Dme(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Ome(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function kme(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const l=g(t,["topP"]);e!==void 0&&l!=null&&y(e,["setup","generationConfig","topP"],l);const u=g(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const f=g(t,["maxOutputTokens"]);e!==void 0&&f!=null&&y(e,["setup","generationConfig","maxOutputTokens"],f);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","speechConfig"],IA(m));const v=g(t,["thinkingConfig"]);e!==void 0&&v!=null&&y(e,["setup","generationConfig","thinkingConfig"],v);const E=g(t,["enableAffectiveDialog"]);e!==void 0&&E!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],E);const A=g(t,["systemInstruction"]);e!==void 0&&A!=null&&y(e,["setup","systemInstruction"],Ime(Jn(A)));const x=g(t,["tools"]);if(e!==void 0&&x!=null){let G=Rc(x);Array.isArray(G)&&(G=G.map(O=>qme(Nc(O)))),y(e,["setup","tools"],G)}const C=g(t,["sessionResumption"]);e!==void 0&&C!=null&&y(e,["setup","sessionResumption"],Vme(C));const R=g(t,["inputAudioTranscription"]);e!==void 0&&R!=null&&y(e,["setup","inputAudioTranscription"],R);const z=g(t,["outputAudioTranscription"]);e!==void 0&&z!=null&&y(e,["setup","outputAudioTranscription"],z);const D=g(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&y(e,["setup","realtimeInputConfig"],D);const q=g(t,["contextWindowCompression"]);e!==void 0&&q!=null&&y(e,["setup","contextWindowCompression"],q);const F=g(t,["proactivity"]);return e!==void 0&&F!=null&&y(e,["setup","proactivity"],F),n}function Lme(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["setup","model"],ut(t,r));const i=g(e,["config"]);return i!=null&&y(n,["config"],kme(i,n)),n}function Ume(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],Rme(o));const l=g(t,["functionCall"]);l!=null&&y(e,["functionCall"],Mme(l));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const f=g(t,["inlineData"]);f!=null&&y(e,["inlineData"],Cme(f));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const v=g(t,["videoMetadata"]);return v!=null&&y(e,["videoMetadata"],v),e}function Vme(t){const e={},n=g(t,["handle"]);if(n!=null&&y(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function qme(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const l=g(t,["codeExecution"]);if(l!=null&&y(e,["codeExecution"],l),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],Dme(u));const f=g(t,["googleSearch"]);f!=null&&y(e,["googleSearch"],Ome(f));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zme(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Bme(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=zme(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const f=[];o&&f.push(o),u.length>0&&f.push(...u),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class jme extends ma{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Nme(this.apiClient,e);o=Ae("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const f=Bme(u,e.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fme(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function Hme(t){const e={},n=g(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&Fme(r,e),e}function Gme(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function $me(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Kme(t){const e={},n=g(t,["parent"]);n!=null&&y(e,["_url","parent"],n);const r=g(t,["config"]);return r!=null&&$me(r,e),e}function Yme(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),y(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wme extends ma{constructor(e){super(),this.apiClient=e,this.list=async n=>new ql(sa.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Gme(e);return o=Ae("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Hme(e);i=Ae("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Kme(e);return o=Ae("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Yme(f),h=new Ice;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jme extends ma{constructor(e,n=new Wme(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new ql(sa.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=zpe(e);return o=Ae("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Fpe(e);return o=Ae("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=jpe(e);i=Ae("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Wpe(e);return o=Ae("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Jpe(f),h=new Pce;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Xpe(e);return o=Ae("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Qpe(f),h=new Nce;return Object.assign(h,d),h})}}async importFile(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$pe(e);return o=Ae("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Gpe(f),h=new SA;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xme(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Qme(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Zme(t,e){const n={},r=g(t,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function ege(t,e){const n={},r=g(t,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function tge(t,e,n){const r={};if(g(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&y(e,["displayName"],i),g(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=g(t,["epochCount"]);e!==void 0&&o!=null&&y(e,["tuningTask","hyperparameters","epochCount"],o);const l=g(t,["learningRateMultiplier"]);if(l!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),g(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(t,["batchSize"]);e!==void 0&&u!=null&&y(e,["tuningTask","hyperparameters","batchSize"],u);const f=g(t,["learningRate"]);if(e!==void 0&&f!=null&&y(e,["tuningTask","hyperparameters","learningRate"],f),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function nge(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const E=g(t,["validationDataset"]);e!==void 0&&E!=null&&y(e,["supervisedTuningSpec"],TO(E))}else if(i==="PREFERENCE_TUNING"){const E=g(t,["validationDataset"]);e!==void 0&&E!=null&&y(e,["preferenceOptimizationSpec"],TO(E))}const o=g(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&y(e,["tunedModelDisplayName"],o);const l=g(t,["description"]);e!==void 0&&l!=null&&y(e,["description"],l);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const E=g(t,["epochCount"]);e!==void 0&&E!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(u==="PREFERENCE_TUNING"){const E=g(t,["epochCount"]);e!==void 0&&E!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const E=g(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(f==="PREFERENCE_TUNING"){const E=g(t,["learningRateMultiplier"]);e!==void 0&&E!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const E=g(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(d==="PREFERENCE_TUNING"){const E=g(t,["exportLastCheckpointOnly"]);e!==void 0&&E!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const E=g(t,["adapterSize"]);e!==void 0&&E!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(h==="PREFERENCE_TUNING"){const E=g(t,["adapterSize"]);e!==void 0&&E!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(g(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=g(t,["labels"]);e!==void 0&&m!=null&&y(e,["labels"],m);const v=g(t,["beta"]);return e!==void 0&&v!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],v),r}function rge(t,e){const n={},r=g(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=g(t,["trainingDataset"]);o!=null&&pge(o);const l=g(t,["config"]);return l!=null&&tge(l,n),n}function ige(t,e){const n={},r=g(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=g(t,["trainingDataset"]);o!=null&&mge(o,n,e);const l=g(t,["config"]);return l!=null&&nge(l,n,e),n}function oge(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function age(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function sge(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const o=g(t,["pageToken"]);e!==void 0&&o!=null&&y(e,["_query","pageToken"],o);const l=g(t,["filter"]);return e!==void 0&&l!=null&&y(e,["_query","filter"],l),r}function lge(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const o=g(t,["pageToken"]);e!==void 0&&o!=null&&y(e,["_query","pageToken"],o);const l=g(t,["filter"]);return e!==void 0&&l!=null&&y(e,["_query","filter"],l),r}function uge(t,e){const n={},r=g(t,["config"]);return r!=null&&sge(r,n),n}function cge(t,e){const n={},r=g(t,["config"]);return r!=null&&lge(r,n),n}function fge(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=g(t,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>H5(u))),y(n,["tuningJobs"],l)}return n}function dge(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=g(t,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>ZT(u))),y(n,["tuningJobs"],l)}return n}function hge(t,e){const n={},r=g(t,["name"]);r!=null&&y(n,["model"],r);const i=g(t,["name"]);return i!=null&&y(n,["endpoint"],i),n}function pge(t,e){const n={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(n,["examples","examples"],i)}return n}function mge(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=g(t,["gcsUri"]);e!==void 0&&l!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=g(t,["gcsUri"]);e!==void 0&&l!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=g(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=g(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=g(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(g(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function H5(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&y(n,["name"],i);const o=g(t,["state"]);o!=null&&y(n,["state"],x5(o));const l=g(t,["createTime"]);l!=null&&y(n,["createTime"],l);const u=g(t,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const f=g(t,["tuningTask","completeTime"]);f!=null&&y(n,["endTime"],f);const d=g(t,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=g(t,["description"]);h!=null&&y(n,["description"],h);const m=g(t,["baseModel"]);m!=null&&y(n,["baseModel"],m);const v=g(t,["_self"]);return v!=null&&y(n,["tunedModel"],hge(v)),n}function ZT(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&y(n,["name"],i);const o=g(t,["state"]);o!=null&&y(n,["state"],x5(o));const l=g(t,["createTime"]);l!=null&&y(n,["createTime"],l);const u=g(t,["startTime"]);u!=null&&y(n,["startTime"],u);const f=g(t,["endTime"]);f!=null&&y(n,["endTime"],f);const d=g(t,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=g(t,["error"]);h!=null&&y(n,["error"],h);const m=g(t,["description"]);m!=null&&y(n,["description"],m);const v=g(t,["baseModel"]);v!=null&&y(n,["baseModel"],v);const E=g(t,["tunedModel"]);E!=null&&y(n,["tunedModel"],E);const A=g(t,["preTunedModel"]);A!=null&&y(n,["preTunedModel"],A);const x=g(t,["supervisedTuningSpec"]);x!=null&&y(n,["supervisedTuningSpec"],x);const C=g(t,["preferenceOptimizationSpec"]);C!=null&&y(n,["preferenceOptimizationSpec"],C);const R=g(t,["tuningDataStats"]);R!=null&&y(n,["tuningDataStats"],R);const z=g(t,["encryptionSpec"]);z!=null&&y(n,["encryptionSpec"],z);const D=g(t,["partnerModelTuningSpec"]);D!=null&&y(n,["partnerModelTuningSpec"],D);const q=g(t,["customBaseModel"]);q!=null&&y(n,["customBaseModel"],q);const F=g(t,["experiment"]);F!=null&&y(n,["experiment"],F);const G=g(t,["labels"]);G!=null&&y(n,["labels"],G);const O=g(t,["outputUri"]);O!=null&&y(n,["outputUri"],O);const k=g(t,["pipelineJob"]);k!=null&&y(n,["pipelineJob"],k);const M=g(t,["serviceAccount"]);M!=null&&y(n,["serviceAccount"],M);const V=g(t,["tunedModelDisplayName"]);V!=null&&y(n,["tunedModelDisplayName"],V);const U=g(t,["veoTuningSpec"]);return U!=null&&y(n,["veoTuningSpec"],U),n}function gge(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&y(n,["name"],i);const o=g(t,["metadata"]);o!=null&&y(n,["metadata"],o);const l=g(t,["done"]);l!=null&&y(n,["done"],l);const u=g(t,["error"]);return u!=null&&y(n,["error"],u),n}function TO(t,e){const n={},r=g(t,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=g(t,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yge extends ma{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ql(sa.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:$T.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=age(e);return u=Ae("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>ZT(h))}else{const d=oge(e);return u=Ae("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>H5(h))}}async listInternal(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=cge(e);return u=Ae("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=dge(h),v=new eO;return Object.assign(v,m),v})}else{const d=uge(e);return u=Ae("tunedModels",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=fge(h),v=new eO;return Object.assign(v,m),v})}}async cancel(e){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Qme(e);return u=Ae("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=ege(h),v=new tO;return Object.assign(v,m),v})}else{const d=Xme(e);return u=Ae("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Zme(h),v=new tO;return Object.assign(v,m),v})}}async tuneInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=ige(e,e);return o=Ae("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>ZT(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=rge(e);return o=Ae("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>gge(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vge{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const _ge=1024*1024*8,bge=3,Ege=1e3,Tge=2,$g="x-goog-upload-status";async function Sge(t,e,n){var r;const i=await G5(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[$g])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function xge(t,e,n){var r;const i=await G5(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[$g])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=v5(o),u=new xA;return Object.assign(u,l),u}async function G5(t,e,n){var r,i;let o=0,l=0,u=new KT(new Response),f="upload";for(o=t.size;l<o;){const d=Math.min(_ge,o-l),h=t.slice(l,l+d);l+d>=o&&(f+=", finalize");let m=0,v=Ege;for(;m<bge&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[$g]));)m++,await wge(v),v=v*Tge;if(l+=d,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[$g])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function Age(t){return{size:t.size,type:t.type}}function wge(t){return new Promise(e=>setTimeout(e,t))}class Cge{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Sge(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await xge(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Age(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ige{create(e,n,r){return new Pge(e,n,r)}}class Pge{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SO="x-goog-api-key";class Nge{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(SO)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(SO,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rge="gl-node/";class Mge{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=sce(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Nge(this.apiKey);this.apiClient=new ame({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Rge+"web",uploader:new Cge,downloader:new vge}),this.models=new Ame(this.apiClient),this.live=new _me(this.apiClient,i,new Ige),this.batches=new Lfe(this.apiClient),this.chats=new yde(this.models,this.apiClient),this.caches=new pde(this.apiClient),this.files=new Cde(this.apiClient),this.operations=new wme(this.apiClient),this.authTokens=new jme(this.apiClient),this.tunings=new yge(this.apiClient),this.fileSearchStores=new Jme(this.apiClient)}}const Dge=new Mge({apiKey:"PLACEHOLDER_API_KEY"}),Oge=async(t,e)=>{try{const n=`
      Acta como un consultor experto para una panadera artesanal en Chile, con conocimientos de CRM y ERP.
      Aqu tienes los datos actuales del negocio en formato JSON:
      ${JSON.stringify(t)}
      
      IMPORTANTE:
      - La moneda utilizada es el Peso Chileno (CLP). Tenlo en cuenta para evaluar precios y costos (ej. $1.000 CLP es un precio bajo para un pan artesanal grande).
      - Los productos contienen 'recetas' que descuentan stock automticamente.
      
      Reglas:
      1. Analiza los datos proporcionados (ventas, costos, inventario, clientes, recetas).
      2. Si el inventario es bajo, verifica qu productos consumen ese ingrediente y alerta al usuario.
      3. Si el usuario pregunta por clientes, analiza sus hbitos de compra.
      4. Si el usuario pregunta por costos, usa el costo calculado automticamente de la receta para ver si el margen es saludable.
      5. Mantn un tono profesional pero clido y motivador.
      6. Responde siempre en Espaol.
    `;return(await Dge.models.generateContent({model:"gemini-2.5-flash",contents:[{role:"user",parts:[{text:n}]},{role:"user",parts:[{text:e}]}],config:{systemInstruction:"Eres un asistente virtual especializado en gestin de panaderas y pasteleras en Chile.",thinkingConfig:{thinkingBudget:0}}})).text||"Lo siento, no pude generar una respuesta en este momento."}catch(n){return console.error("Error calling Gemini API:",n),"Hubo un error al conectar con el asistente inteligente. Por favor verifica tu conexin."}},kge=({data:t})=>{const[e,n]=P.useState(""),[r,i]=P.useState([{role:"ai",text:"Hola! Soy tu asistente de Panadera Pro. Puedo analizar tu inventario, ventas y costos para darte consejos. En qu te ayudo hoy?"}]),[o,l]=P.useState(!1),u=async f=>{if(f.preventDefault(),!e.trim())return;const d=e;n(""),i(m=>[...m,{role:"user",text:d}]),l(!0);const h=await Oge(t,d);i(m=>[...m,{role:"ai",text:h}]),l(!1)};return S.jsxs("div",{className:"h-[calc(100vh-8rem)] flex flex-col bg-white rounded-xl shadow-sm border border-stone-200 overflow-hidden",children:[S.jsxs("div",{className:"p-4 bg-gradient-to-r from-amber-600 to-orange-500 text-white flex items-center gap-2",children:[S.jsx(OO,{size:20}),S.jsx("h2",{className:"font-bold text-lg",children:"Asistente Inteligente"})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-stone-50",children:[r.map((f,d)=>S.jsxs("div",{className:`flex gap-3 ${f.role==="user"?"justify-end":"justify-start"}`,children:[f.role==="ai"&&S.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 flex items-center justify-center text-amber-600 flex-shrink-0",children:S.jsx(sI,{size:18})}),S.jsx("div",{className:`max-w-[80%] p-3 rounded-2xl ${f.role==="user"?"bg-stone-800 text-white rounded-br-none":"bg-white border border-stone-200 text-stone-700 rounded-bl-none shadow-sm"}`,children:S.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:f.text})}),f.role==="user"&&S.jsx("div",{className:"w-8 h-8 rounded-full bg-stone-200 flex items-center justify-center text-stone-600 flex-shrink-0",children:S.jsx(Rm,{size:18})})]},d)),o&&S.jsxs("div",{className:"flex gap-3",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 flex items-center justify-center text-amber-600",children:S.jsx(sI,{size:18})}),S.jsx("div",{className:"bg-white border border-stone-200 p-3 rounded-2xl rounded-bl-none shadow-sm",children:S.jsxs("div",{className:"flex space-x-2",children:[S.jsx("div",{className:"w-2 h-2 bg-stone-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),S.jsx("div",{className:"w-2 h-2 bg-stone-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),S.jsx("div",{className:"w-2 h-2 bg-stone-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})]}),S.jsxs("div",{className:"p-4 bg-white border-t border-stone-200",children:[S.jsxs("form",{onSubmit:u,className:"flex gap-2",children:[S.jsx("input",{type:"text",className:"flex-1 p-3 border border-stone-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none bg-stone-50",placeholder:"Pregunta sobre ganancias, recetas o marketing...",value:e,onChange:f=>n(f.target.value),disabled:o}),S.jsx("button",{type:"submit",disabled:o||!e.trim(),className:"bg-amber-600 hover:bg-amber-700 disabled:bg-stone-300 text-white p-3 rounded-xl transition-colors",children:S.jsx(BB,{size:20})})]}),S.jsxs("div",{className:"mt-2 text-xs text-stone-400 flex gap-2 justify-center",children:[S.jsx("span",{className:"cursor-pointer hover:text-amber-600",onClick:()=>n("Cmo puedo aumentar mis ganancias?"),children:" Aumentar ganancias"}),S.jsx("span",{className:"cursor-pointer hover:text-amber-600",onClick:()=>n("Escribe un post para Instagram sobre nuestro pan"),children:" Idea marketing"}),S.jsx("span",{className:"cursor-pointer hover:text-amber-600",onClick:()=>n("Qu ingrediente se est agotando?"),children:" Revisar stock"})]})]})]})},pE=t=>t.toLocaleString("es-CL",{style:"currency",currency:"CLP"}),Lge=({clients:t,sales:e,onAdd:n,onUpdate:r,onDelete:i})=>{const[o,l]=P.useState(!1),[u,f]=P.useState(null),[d,h]=P.useState(null),[m,v]=P.useState(""),[E,A]=P.useState({name:"",phone:"",address:"",notes:""}),x=()=>{A({name:"",phone:"",address:"",notes:""}),f(null),l(!1)},C=q=>{A({name:q.name,phone:q.phone,address:q.address,notes:q.notes}),f(q.id),l(!0)},R=q=>{q.preventDefault(),E.name&&(u?r(u,{name:E.name,phone:E.phone||"",address:E.address||"",notes:E.notes||""}):n({id:Date.now().toString(),name:E.name,phone:E.phone||"",address:E.address||"",notes:E.notes||"",joinedDate:new Date().toISOString(),balance:0}),x())},z=q=>e.filter(F=>F.clientId===q).sort((F,G)=>new Date(G.date).getTime()-new Date(F.date).getTime()),D=t.filter(q=>q.name.toLowerCase().includes(m.toLowerCase())||q.phone.includes(m));return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[S.jsxs("div",{children:[S.jsx("h2",{className:"text-2xl font-bold text-stone-800",children:"Mis Clientes"}),S.jsx("p",{className:"text-stone-500",children:"Gestiona contactos y conoce a tus compradores."})]}),S.jsxs("button",{onClick:()=>{x(),l(!0)},className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 shadow-sm w-full md:w-auto justify-center",children:[S.jsx(gl,{size:20})," Nuevo Cliente"]})]}),S.jsxs("div",{className:"relative",children:[S.jsx(DO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-stone-400",size:20}),S.jsx("input",{type:"text",placeholder:"Buscar por nombre o telfono...",className:"w-full pl-10 pr-4 py-3 border border-stone-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none",value:m,onChange:q=>v(q.target.value)})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(q=>{const G=z(q.id).reduce((O,k)=>O+k.totalPrice,0);return S.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-stone-100 hover:shadow-md transition-shadow",children:[S.jsxs("div",{className:"flex justify-between items-start mb-3",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-100 flex items-center justify-center text-stone-600 font-bold",children:q.name.substring(0,2).toUpperCase()}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-bold text-stone-800",children:q.name}),S.jsxs("p",{className:"text-xs text-stone-500",children:["Cliente desde ",new Date(q.joinedDate).toLocaleDateString()]})]})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("button",{onClick:()=>C(q),className:"p-1.5 text-stone-300 hover:text-amber-500 hover:bg-amber-50 rounded-lg transition-colors",children:S.jsx(MO,{size:16})}),S.jsx("button",{onClick:()=>i(q.id),className:"text-stone-300 hover:text-red-400 p-1.5 hover:bg-red-50 rounded-lg transition-colors",children:S.jsx(Sl,{size:16})})]})]}),S.jsxs("div",{className:"space-y-3 text-sm text-stone-600 mb-4",children:[q.phone&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(UB,{size:14,className:"text-amber-500"}),S.jsx("span",{children:q.phone})]}),q.address&&S.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-stone-50 rounded-lg border border-stone-100",children:[S.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[S.jsx(mE,{size:14,className:"text-amber-500 shrink-0"}),S.jsx("span",{className:"truncate",title:q.address,children:q.address})]}),S.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(q.address)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs font-medium bg-white text-amber-600 border border-amber-200 hover:bg-amber-50 px-2 py-1 rounded-md transition-colors shrink-0 shadow-sm",title:"Abrir en Google Maps para repartir",children:[S.jsx(IB,{size:12}),"Mapa"]})]}),S.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg border ${(q.balance||0)>0?"bg-emerald-50 text-emerald-800 border-emerald-100":"bg-stone-50 text-stone-400 border-stone-100"}`,children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(rj,{size:16,className:(q.balance||0)>0?"text-emerald-600":"text-stone-400"}),S.jsx("span",{className:"text-xs font-medium",children:"Saldo a Favor"})]}),S.jsx("span",{className:"font-bold text-sm",children:pE(q.balance||0)})]}),q.notes&&S.jsxs("div",{className:"flex items-start gap-2 bg-yellow-50 p-2 rounded text-yellow-800 text-xs",children:[S.jsx(yB,{size:14,className:"mt-0.5 shrink-0"}),S.jsx("p",{className:"line-clamp-2",children:q.notes})]})]}),S.jsxs("div",{className:"pt-3 border-t border-stone-100 flex items-center justify-between",children:[S.jsxs("div",{className:"text-xs",children:[S.jsx("span",{className:"text-stone-400",children:"Total gastado:"}),S.jsx("p",{className:"font-bold text-emerald-600",children:pE(G)})]}),S.jsxs("button",{onClick:()=>h(q),className:"text-amber-600 text-sm font-medium hover:underline flex items-center gap-1",children:[S.jsx(_B,{size:14})," Ver Historial"]})]})]},q.id)})}),o&&S.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md p-6",children:[S.jsxs("h3",{className:"text-xl font-bold text-stone-800 mb-4 flex items-center gap-2",children:[S.jsx(Rm,{className:"text-amber-600"})," ",u?"Editar Cliente":"Agregar Cliente"]}),S.jsxs("form",{onSubmit:R,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Nombre Completo"}),S.jsx("input",{type:"text",required:!0,className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",value:E.name,onChange:q=>A({...E,name:q.target.value}),placeholder:"Ej. Juan Prez"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Telfono"}),S.jsx("input",{type:"tel",className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",value:E.phone,onChange:q=>A({...E,phone:q.target.value})})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Direccin / Zona"}),S.jsx("input",{type:"text",className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",value:E.address,onChange:q=>A({...E,address:q.target.value}),placeholder:"Calle, Nmero, Comuna"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Notas / Fechas / Gustos"}),S.jsx("textarea",{className:"w-full p-2 border border-stone-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none h-24 resize-none",value:E.notes,onChange:q=>A({...E,notes:q.target.value}),placeholder:"Ej. Cumpleaos el 15/Mayo. Le gusta el pan muy tostado."})]}),S.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[S.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 text-stone-600 hover:bg-stone-50 rounded-lg",children:"Cancelar"}),S.jsx("button",{type:"submit",className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg",children:u?"Guardar Cambios":"Guardar"})]})]})]})}),d&&S.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg p-0 overflow-hidden flex flex-col max-h-[80vh]",children:[S.jsxs("div",{className:"p-4 border-b border-stone-100 flex justify-between items-center bg-stone-50",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-bold text-stone-800",children:d.name}),S.jsx("p",{className:"text-sm text-stone-500",children:"Historial de Compras"})]}),S.jsx("button",{onClick:()=>h(null),className:"p-2 hover:bg-stone-200 rounded-full",children:S.jsx(Pi,{size:20,className:"text-stone-500"})})]}),S.jsx("div",{className:"p-4 overflow-y-auto",children:z(d.id).length===0?S.jsx("p",{className:"text-center text-stone-400 py-8",children:"Este cliente an no ha realizado compras registradas."}):S.jsxs("table",{className:"w-full text-left text-sm",children:[S.jsx("thead",{className:"text-stone-500 border-b border-stone-100",children:S.jsxs("tr",{children:[S.jsx("th",{className:"pb-2 font-medium",children:"Fecha"}),S.jsx("th",{className:"pb-2 font-medium",children:"Producto"}),S.jsx("th",{className:"pb-2 font-medium text-center",children:"Cant."}),S.jsx("th",{className:"pb-2 font-medium text-right",children:"Total"})]})}),S.jsx("tbody",{className:"divide-y divide-stone-100",children:z(d.id).map(q=>S.jsxs("tr",{children:[S.jsx("td",{className:"py-3 text-stone-500",children:new Date(q.date).toLocaleDateString()}),S.jsx("td",{className:"py-3 font-medium text-stone-800",children:q.productName}),S.jsx("td",{className:"py-3 text-center text-stone-600",children:q.quantity}),S.jsx("td",{className:"py-3 text-right font-bold text-amber-600",children:pE(q.totalPrice)})]},q.id))})]})}),S.jsxs("div",{className:"p-4 bg-stone-50 border-t border-stone-100 text-xs text-stone-500",children:["Sugerencia IA: ",d.notes?"Revisa las notas para personalizar la prxima venta.":"Agrega notas sobre sus gustos para mejorar el servicio."]})]})})]})},Uge=({sales:t,products:e,ingredients:n,clients:r,onUpdateSale:i,onProcessPayment:o,onDeleteSale:l})=>{const[u,f]=P.useState(null),[d,h]=P.useState(!1),[m,v]=P.useState(null),E=t.filter(D=>!(D.status==="delivered"&&D.paymentStatus==="paid")).sort((D,q)=>{const F=D.deliveryDate?new Date(D.deliveryDate).getTime():new Date(D.date).getTime(),G=q.deliveryDate?new Date(q.deliveryDate).getTime():new Date(q.date).getTime();return F-G}),A=D=>new Date(D).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),x=D=>{if(!D)return"Inmediato";const q=new Date(D),F=new Date;return q.getDate()===F.getDate()&&q.getMonth()===F.getMonth()&&q.getFullYear()===F.getFullYear()?`Para hoy: ${A(D)} `:`Para: ${q.toLocaleDateString("es-ES",{day:"numeric",month:"numeric"})} ${A(D)} `},C=D=>{var q;return D?(q=r.find(F=>F.id===D))==null?void 0:q.address:null},R=(D,q)=>{D.stopPropagation(),v(q),h(!0)},z=(D,q)=>{if(u&&confirm("Ests seguro de eliminar este producto del pedido?")){const F=[...u.items||[]];F.splice(q,1);const G=F.reduce((O,k)=>O+k.totalPrice,0);i(D,{items:F,totalPrice:G}),f({...u,items:F,totalPrice:G})}};return S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsxs("div",{children:[S.jsxs("h2",{className:"text-2xl font-bold text-stone-800 flex items-center gap-2",children:[S.jsx(RO,{className:"text-amber-600"}),"Cocina / Comandas Activas"]}),S.jsx("p",{className:"text-sm text-stone-500",children:E.length===0?"Todo limpio. No hay pedidos pendientes de entrega.":`Tienes ${E.length} pedidos pendientes de preparacin o entrega.`})]}),S.jsx("div",{className:"bg-stone-100 px-4 py-2 rounded-lg text-stone-600 font-medium hidden md:block",children:new Date().toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})})]}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:E.map(D=>{const q=C(D.clientId);return S.jsxs("div",{onClick:()=>f(D),className:"bg-white border-l-4 border-amber-500 rounded-lg shadow-sm hover:shadow-md transition-all cursor-pointer group flex flex-col justify-between",children:[S.jsxs("div",{children:[S.jsxs("div",{className:"p-3 bg-stone-50 border-b border-stone-100 flex justify-between items-center",children:[S.jsxs("div",{className:"flex items-center gap-2 text-stone-700 font-mono text-sm",children:[S.jsx(nB,{size:14,className:"text-amber-600"}),S.jsx("span",{className:"font-bold",children:x(D.deliveryDate||D.date)})]}),S.jsxs("div",{className:"text-xs font-bold text-stone-400",children:["#",D.id.slice(-4)]})]}),S.jsxs("div",{className:"p-4 space-y-3",children:[S.jsxs("div",{children:[S.jsx("h3",{className:"font-bold text-stone-800 text-lg leading-tight",children:D.clientName||"Cliente Casual"}),q&&S.jsxs("div",{className:"flex items-start gap-1 text-xs text-stone-500 mt-1",children:[S.jsx(mE,{size:12,className:"mt-0.5 shrink-0"}),S.jsx("span",{className:"line-clamp-2",children:q})]})]}),S.jsx("div",{className:"space-y-2",children:D.items&&D.items.length>0?D.items.map((F,G)=>S.jsx("div",{className:"flex items-center justify-between text-sm",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs("span",{className:"font-bold text-stone-800 bg-amber-100 px-2 py-0.5 rounded text-xs",children:["x",F.quantity]}),S.jsx("span",{className:"text-stone-700",children:F.productName})]})},G)):S.jsx("div",{className:"flex items-center justify-between text-sm",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs("span",{className:"font-bold text-stone-800 bg-amber-100 px-2 py-0.5 rounded text-xs",children:["x",D.quantity]}),S.jsx("span",{className:"text-stone-700",children:D.productName})]})})}),D.notes&&S.jsxs("div",{className:"bg-yellow-50 p-2 rounded text-xs text-yellow-800 border border-yellow-100 italic",children:['"',D.notes,'"']})]})]}),S.jsxs("div",{className:"p-3 border-t border-stone-100 bg-stone-50 flex gap-2",children:[D.paymentStatus==="paid"?S.jsxs("div",{className:"flex-1 bg-emerald-100 text-emerald-700 py-2 rounded-lg text-xs font-bold flex items-center justify-center gap-1 cursor-default",children:[S.jsx(Zf,{size:14})," Pagado"]}):S.jsxs("button",{onClick:F=>R(F,D),className:"flex-1 bg-white border border-stone-200 text-stone-600 hover:bg-emerald-50 hover:text-emerald-600 hover:border-emerald-200 py-2 rounded-lg text-xs font-bold flex items-center justify-center gap-1 transition-colors",children:[S.jsx(Zf,{size:14})," Cobrar"]}),S.jsxs("button",{onClick:F=>{F.stopPropagation(),i(D.id,{status:D.status==="delivered"?"pending":"delivered"})},className:`flex - 1 py - 2 rounded - lg text - xs font - bold flex items - center justify - center gap - 1 transition - colors ${D.status==="delivered"?"bg-stone-800 text-white":"bg-white border border-stone-200 text-stone-600 hover:bg-stone-100"} `,children:[S.jsx(cI,{size:14}),D.status==="delivered"?"Entregado":"Entregar"]})]})]},D.id)})}),u&&S.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden",children:[S.jsxs("div",{className:"p-4 border-b border-stone-100 flex justify-between items-center bg-stone-50",children:[S.jsxs("h3",{className:"font-bold text-lg text-stone-800",children:["Detalle del Pedido #",u.id.slice(-4)]}),S.jsx("button",{onClick:()=>f(null),className:"text-stone-400 hover:text-stone-600",children:S.jsx(Pi,{size:20})})]}),S.jsxs("div",{className:"p-6 space-y-6",children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-stone-500 mb-1",children:"Cliente"}),S.jsx("p",{className:"font-bold text-xl text-stone-800",children:u.clientName||"Cliente Casual"}),C(u.clientId)&&S.jsxs("p",{className:"text-sm text-stone-600 mt-1 flex items-center gap-1",children:[S.jsx(mE,{size:14})," ",C(u.clientId)]})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("p",{className:"text-sm text-stone-500 mb-1",children:"Hora de Entrega"}),S.jsx("p",{className:"font-mono font-bold text-lg text-amber-600",children:x(u.deliveryDate||u.date)})]})]}),S.jsxs("div",{className:"bg-stone-50 rounded-lg p-4 border border-stone-100",children:[S.jsx("p",{className:"text-xs font-bold text-stone-500 uppercase tracking-wider mb-3",children:"Productos"}),S.jsx("div",{className:"space-y-3",children:u.items&&u.items.length>0?u.items.map((D,q)=>S.jsxs("div",{className:"flex justify-between items-center group/item",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"bg-white border border-stone-200 w-8 h-8 flex items-center justify-center rounded-full font-bold text-sm text-stone-700 shadow-sm relative group-hover/item:border-red-200 transition-colors",children:D.quantity}),S.jsxs("div",{children:[S.jsx("span",{className:"font-medium text-stone-800 block leading-tight",children:D.productName}),S.jsxs("span",{className:"text-[10px] text-stone-400",children:[D.unitPrice.toLocaleString("es-CL",{style:"currency",currency:"CLP"})," c/u"]})]})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"text-stone-600 font-mono font-medium",children:D.totalPrice.toLocaleString("es-CL",{style:"currency",currency:"CLP"})}),S.jsx("button",{onClick:()=>z(u.id,q),className:"p-1.5 text-stone-300 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar producto del pedido",children:S.jsx(Sl,{size:16})})]})]},q)):S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"bg-white border border-stone-200 w-8 h-8 flex items-center justify-center rounded-full font-bold text-sm text-stone-700 shadow-sm",children:u.quantity}),S.jsx("span",{className:"font-medium text-stone-800",children:u.productName})]}),S.jsx("span",{className:"text-stone-600 font-mono",children:u.totalPrice.toLocaleString("es-CL",{style:"currency",currency:"CLP"})})]})}),S.jsxs("div",{className:"border-t border-stone-200 mt-4 pt-3 flex justify-between items-center",children:[S.jsx("span",{className:"font-bold text-stone-700",children:"Total"}),S.jsx("span",{className:"font-bold text-xl text-stone-900",children:u.totalPrice.toLocaleString("es-CL",{style:"currency",currency:"CLP"})})]})]}),u.notes&&S.jsxs("div",{className:"flex-1 flex gap-2",children:[S.jsx("button",{onClick:()=>{const D=u.paymentStatus==="paid"?"pending":"paid";i(u.id,{paymentStatus:D})},className:`flex - 1 px - 2 rounded - xl font - bold flex items - center justify - center gap - 1 border - 2 ${u.paymentStatus==="paid"?"bg-emerald-100 text-emerald-700 border-emerald-200":"bg-white text-stone-400 border-stone-200"} `,children:S.jsx(Zf,{size:20})}),S.jsx("button",{onClick:()=>{const D=u.status==="delivered"?"pending":"delivered";i(u.id,{status:D})},className:`flex - 1 px - 2 rounded - xl font - bold flex items - center justify - center gap - 1 border - 2 ${u.status==="delivered"?"bg-blue-100 text-blue-700 border-blue-200":"bg-white text-stone-400 border-stone-200"} `,children:S.jsx(cI,{size:20})})]}),S.jsx("div",{className:"mt-4 pt-4 border-t border-stone-100 flex justify-between",children:S.jsxs("button",{onClick:()=>{confirm("ADVERTENCIA: Ests seguro de ELIMINAR este pedido completo? Esta accin no se puede deshacer.")&&(l(u.id),f(null))},className:"text-red-400 hover:text-red-600 text-xs flex items-center gap-1 px-2 py-1 hover:bg-red-50 rounded transition-colors",children:[S.jsx(Sl,{size:14})," Eliminar Pedido"]})})]})]})}),d&&m&&S.jsx(Vge,{sale:m,client:r.find(D=>D.id===m.clientId),onClose:()=>h(!1),onConfirm:D=>{o(m.id,D),h(!1)}})]})},Vge=({sale:t,client:e,onClose:n,onConfirm:r})=>{const[i,o]=P.useState("cash"),[l,u]=P.useState(0),[f,d]=P.useState(!1),h=Math.max(0,l-t.totalPrice),m=(e==null?void 0:e.balance)||0,v=i==="balance"&&m>=t.totalPrice||i==="cash"&&l>=t.totalPrice||i==="transfer",E=A=>{A.preventDefault(),v&&r({paymentMethod:i,amountPaid:i==="cash"?l:t.totalPrice,change:i==="cash"?h:0,addToBalance:i==="cash"?f:!1})};return S.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[60] backdrop-blur-sm",children:S.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[S.jsxs("div",{className:"p-4 border-b border-stone-100 flex justify-between items-center bg-stone-50",children:[S.jsxs("h3",{className:"font-bold text-lg text-stone-800 flex items-center gap-2",children:[S.jsx(Zf,{className:"text-emerald-600"})," Cobrar Pedido"]}),S.jsx("button",{onClick:n,className:"text-stone-400 hover:text-stone-600",children:S.jsx(Pi,{size:20})})]}),S.jsxs("form",{onSubmit:E,className:"p-6 space-y-6",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("p",{className:"text-sm text-stone-500 mb-1",children:"Total a Pagar"}),S.jsx("p",{className:"text-3xl font-bold text-stone-800",children:t.totalPrice.toLocaleString("es-CL",{style:"currency",currency:"CLP"})})]}),S.jsxs("div",{className:"space-y-3",children:[S.jsx("label",{className:"block text-sm font-bold text-stone-700",children:"Mtodo de Pago"}),S.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[S.jsxs("button",{type:"button",onClick:()=>o("cash"),className:`py-3 px-2 rounded-lg border flex flex-col items-center gap-1 transition-all ${i==="cash"?"bg-emerald-50 border-emerald-500 text-emerald-700 ring-1 ring-emerald-500":"bg-white border-stone-200 text-stone-600 hover:bg-stone-50"}`,children:[S.jsx(Gz,{size:20}),S.jsx("span",{className:"text-xs font-medium",children:"Efectivo"})]}),S.jsxs("button",{type:"button",onClick:()=>o("transfer"),className:`py-3 px-2 rounded-lg border flex flex-col items-center gap-1 transition-all ${i==="transfer"?"bg-blue-50 border-blue-500 text-blue-700 ring-1 ring-blue-500":"bg-white border-stone-200 text-stone-600 hover:bg-stone-50"}`,children:[S.jsx(cB,{size:20}),S.jsx("span",{className:"text-xs font-medium",children:"Transf."})]}),S.jsxs("button",{type:"button",disabled:!e,onClick:()=>o("balance"),className:`py-3 px-2 rounded-lg border flex flex-col items-center gap-1 transition-all ${i==="balance"?"bg-amber-50 border-amber-500 text-amber-700 ring-1 ring-amber-500":"bg-white border-stone-200 text-stone-600 hover:bg-stone-50 disabled:opacity-50 disabled:cursor-not-allowed"}`,children:[S.jsx(aB,{size:20}),S.jsx("span",{className:"text-xs font-medium",children:"Saldo"})]})]})]}),i==="cash"&&S.jsxs("div",{className:"space-y-4 animate-in slide-in-from-top-2 fade-in",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-stone-600 mb-1",children:"Monto Recibido"}),S.jsxs("div",{className:"relative",children:[S.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400 font-bold",children:"$"}),S.jsx("input",{type:"number",autoFocus:!0,className:"w-full pl-8 pr-4 py-3 border border-stone-200 rounded-lg focus:ring-2 focus:ring-emerald-500 outline-none text-lg font-medium",placeholder:"0",value:l||"",onChange:A=>u(parseFloat(A.target.value)||0)})]})]}),l>=t.totalPrice&&S.jsxs("div",{className:"p-4 bg-emerald-50 border border-emerald-100 rounded-xl",children:[S.jsxs("div",{className:"flex justify-between items-center mb-2",children:[S.jsx("span",{className:"text-emerald-800 font-medium",children:"Vuelto a entregar:"}),S.jsx("span",{className:"text-2xl font-bold text-emerald-700",children:h.toLocaleString("es-CL",{style:"currency",currency:"CLP"})})]}),h>0&&e&&S.jsxs("label",{className:"flex items-start gap-3 mt-3 cursor-pointer p-2 hover:bg-emerald-100/50 rounded-lg transition-colors",children:[S.jsx("input",{type:"checkbox",className:"mt-1 accent-emerald-600 w-5 h-5",checked:f,onChange:A=>d(A.target.checked)}),S.jsxs("span",{className:"text-sm text-emerald-800 leading-tight",children:["Abonar este vuelto ($",h.toLocaleString("es-CL",{style:"currency",currency:"CLP"}),") a la cuenta de ",S.jsx("strong",{children:e.name})]})]})]})]}),i==="balance"&&e&&S.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-100 rounded-xl",children:[S.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[S.jsx("span",{className:"text-amber-800",children:"Saldo Disponible:"}),S.jsx("span",{className:"font-bold text-amber-900",children:(e.balance||0).toLocaleString("es-CL",{style:"currency",currency:"CLP"})})]}),m<t.totalPrice&&S.jsxs("p",{className:"text-sm text-red-500 font-bold mt-2 flex items-center gap-1",children:[S.jsx(Pi,{size:16})," Saldo insuficiente"]})]}),S.jsx("button",{type:"submit",disabled:!v,className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-bold text-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-emerald-200",children:"Confirmar Pago"})]})]})})},xO=({className:t="text-amber-600",size:e=40})=>S.jsx("div",{className:`${t} relative`,style:{width:e,height:e},children:S.jsxs("svg",{viewBox:"0 0 100 100",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full",children:[S.jsx("path",{d:"M30 35 C 20 25, 30 5, 50 15 C 60 5, 85 20, 75 35",stroke:"currentColor",strokeWidth:"3",fill:"none",strokeLinecap:"round"}),S.jsx("path",{d:"M30 35 L 75 35 L 75 45 L 30 45 Z",stroke:"currentColor",strokeWidth:"3",fill:"none",strokeLinejoin:"round"}),S.jsx("path",{d:"M30 45 C 20 45, 15 55, 20 65 C 15 70, 20 80, 25 80",stroke:"currentColor",strokeWidth:"3",fill:"none",strokeLinecap:"round"}),S.jsx("path",{d:"M32 45 L 32 55 Q 32 65 45 65 L 55 60 L 52 70 Q 45 75 35 75",stroke:"currentColor",strokeWidth:"3",fill:"none",strokeLinecap:"round"}),S.jsx("path",{d:"M35 35 C 35 40, 40 40, 42 35",stroke:"currentColor",strokeWidth:"2",fill:"none"}),S.jsx("path",{d:"M60 70 Q 80 60 65 40",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeDasharray:"3 3",strokeLinecap:"round",className:"opacity-70"})]})}),qge=({toasts:t,onDismiss:e})=>S.jsx("div",{className:"fixed top-4 right-4 z-[100] flex flex-col gap-2 pointer-events-none",children:t.map(n=>S.jsx("div",{className:"bg-white border-l-4 border-amber-500 shadow-xl rounded-lg p-4 w-80 pointer-events-auto transform transition-all duration-300 animate-in slide-in-from-right-full",children:S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{className:"flex gap-3",children:[S.jsx("div",{className:"bg-amber-100 p-2 rounded-full h-8 w-8 flex items-center justify-center shrink-0",children:S.jsx(Kz,{size:16,className:"text-amber-600"})}),S.jsxs("div",{children:[S.jsx("h4",{className:"font-bold text-stone-800 text-sm",children:n.title}),S.jsx("p",{className:"text-stone-600 text-xs mt-1",children:n.message})]})]}),S.jsx("button",{onClick:()=>e(n.id),className:"text-stone-400 hover:text-stone-600 transition-colors",children:S.jsx(Pi,{size:16})})]})},n.id))}),AO=[{id:"1",name:"Harina de Trigo 000",quantity:45,unit:"kg",costPerUnit:980,lowStockThreshold:10},{id:"2",name:"Levadura Fresca",quantity:2,unit:"kg",costPerUnit:4500,lowStockThreshold:1},{id:"3",name:"Sal Marina",quantity:10,unit:"kg",costPerUnit:800,lowStockThreshold:2},{id:"4",name:"Masa Madre (Cultivo)",quantity:5,unit:"kg",costPerUnit:1500,lowStockThreshold:2},{id:"5",name:"Semillas Ssamo",quantity:.5,unit:"kg",costPerUnit:8e3,lowStockThreshold:1},{id:"6",name:"Manteca (Mantequilla)",quantity:8,unit:"kg",costPerUnit:7200,lowStockThreshold:2}],wO=[{id:"1",name:"Baguette Tradicional",description:"Crujiente por fuera, suave por dentro. 24hs fermentacin.",sellPrice:1800,costPrice:450,recipe:[{ingredientId:"1",quantity:.35},{ingredientId:"2",quantity:.01},{ingredientId:"3",quantity:.01}]},{id:"2",name:"Pan de Campo (Hogaza)",description:"Pan rstico de 800g con masa madre.",sellPrice:4500,costPrice:950,recipe:[{ingredientId:"1",quantity:.6},{ingredientId:"4",quantity:.2},{ingredientId:"3",quantity:.015}]},{id:"3",name:"Croissant de Manteca",description:"Clsico francs con manteca de primera calidad.",sellPrice:2200,costPrice:850,recipe:[{ingredientId:"1",quantity:.15},{ingredientId:"6",quantity:.08},{ingredientId:"2",quantity:.005}]}],CO=[{id:"c1",name:"Mara Garca",phone:"+56 9 5555 1234",address:"Av. Providencia 123",notes:"Prefiere el pan poco cocido. Cumpleaos 12/Mayo.",joinedDate:"2023-01-15",balance:0},{id:"c2",name:"Carlos Lpez",phone:"+56 9 5555 9876",address:"Calle Los Leones 45",notes:"Compra para oficina los viernes.",joinedDate:"2023-03-22",balance:0}],IO=[{id:"1",items:[{productId:"1",productName:"Marraqueta",quantity:5,unitPrice:1800,totalPrice:9e3}],totalPrice:9e3,clientId:"1",clientName:"Juan Prez",date:new Date(Date.now()-1e3*60*60*2).toISOString(),status:"pending",paymentStatus:"paid",paymentMethod:"cash",amountPaid:1e4,change:1e3},{id:"2",items:[{productId:"2",productName:"Hallulla",quantity:2,unitPrice:1800,totalPrice:3600}],totalPrice:3600,date:new Date(Date.now()-1e3*60*30).toISOString(),status:"delivered",paymentStatus:"paid",paymentMethod:"cash",amountPaid:4e3,change:400},{id:"3",items:[{productId:"3",productName:"Dobladitas",quantity:12,unitPrice:250,totalPrice:3e3}],totalPrice:3e3,clientId:"2",clientName:"Mara Gonzlez",date:new Date().toISOString(),status:"pending",paymentStatus:"pending",notes:"Bien cocidas por favor"}],zge="bakery_main_data_v1",Bge=()=>{var Ee;const[t,e]=P.useState("dashboard"),[n,r]=P.useState(!1),[i,o]=P.useState(null),[l,u]=P.useState(!1),f=(se,he)=>{try{const be=localStorage.getItem(se);return be?JSON.parse(be):he}catch(be){return console.error("Error loading state from LocalStorage",be),he}},[d,h]=P.useState(()=>f("mh_ingredients",AO)),[m,v]=P.useState(()=>f("mh_products",wO)),[E,A]=P.useState(()=>f("mh_sales",IO)),[x,C]=P.useState(()=>f("mh_clients",CO)),[R,z]=P.useState([]),D=eS.useRef([]),q=(se,he)=>{const be=Date.now().toString();z(Te=>[...Te,{id:be,title:se,message:he}]),setTimeout(()=>{z(Te=>Te.filter(te=>te.id!==be))},5e3)},F=se=>{z(he=>he.filter(be=>be.id!==se))};P.useEffect(()=>{D.current.length===0&&E.length>0&&(D.current=E);const se=R9(HS,async he=>{if(o(he),he){u(!0),await(async()=>{try{const ge=kt(Ei,"bakery_data",zge),re=await X7(ge);if(re.exists()){const Me=re.data();if(!Me.migrated_v2){console.log("Starting Migration to Collections...");const Le=Cu(Ei);Me.ingredients&&Me.ingredients.forEach(it=>{const We=kt(Xa,it.id);Le.set(We,it)}),Me.products&&Me.products.forEach(it=>{const We=kt(Pu,it.id);Le.set(We,it)}),Me.clients&&Me.clients.forEach(it=>{const We=kt(ol,it.id);Le.set(We,it)}),Me.sales&&Me.sales.forEach(it=>{const We=kt(Iu,it.id);Le.set(We,it)}),Le.update(ge,{migrated_v2:!0}),await Le.commit(),console.log("Migration Complete!"),q("Actualizacin del Sistema","Tus datos han sido migrados al nuevo formato de sincronizacin rpida.")}}}catch(ge){console.error("Migration check failed",ge)}})();const Te=Kp(Iu,ge=>{const re=ge.docs.map(Le=>Le.data());if(!ge.metadata.hasPendingWrites){const Le=new Set(D.current.map(We=>We.id));re.filter(We=>!Le.has(We.id)).forEach(We=>{const Zn=(We.totalPrice||0).toLocaleString("es-CL",{style:"currency",currency:"CLP"}),Li=We.items&&We.items.length>0?We.items.map(qt=>`${qt.quantity}x ${qt.productName}`).join(", "):"Varios productos";q("Nueva Venta Registrada",`${We.clientName||"Cliente Casual"} compr ${Li} (${Zn})`)})}A(re),D.current=re}),te=Kp(Pu,ge=>{v(ge.docs.map(re=>re.data()))}),W=Kp(Xa,ge=>{h(ge.docs.map(re=>re.data()))}),_e=Kp(ol,ge=>{C(ge.docs.map(re=>re.data()))});return u(!1),()=>{Te(),te(),W(),_e()}}});return()=>se()},[]),P.useEffect(()=>{localStorage.setItem("mh_ingredients",JSON.stringify(d))},[d]),P.useEffect(()=>{localStorage.setItem("mh_products",JSON.stringify(m))},[m]),P.useEffect(()=>{localStorage.setItem("mh_sales",JSON.stringify(E))},[E]),P.useEffect(()=>{localStorage.setItem("mh_clients",JSON.stringify(x))},[x]);const G=()=>{const se={ingredients:d,products:m,sales:E,clients:x,timestamp:new Date().toISOString()},he=new Blob([JSON.stringify(se,null,2)],{type:"application/json"}),be=URL.createObjectURL(he),Te=document.createElement("a");Te.href=be,Te.download=`backup_meson_honorato_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te)},O=se=>{var Te;const he=(Te=se.target.files)==null?void 0:Te[0];if(!he)return;const be=new FileReader;be.onload=te=>{var W;try{const _e=(W=te.target)==null?void 0:W.result,ge=JSON.parse(_e);confirm("Ests seguro de cargar este respaldo? Se reemplazarn tus datos actuales.")&&(ge.ingredients&&h(ge.ingredients),ge.products&&v(ge.products),ge.sales&&A(ge.sales),ge.clients&&C(ge.clients),alert("Datos restaurados con xito!"))}catch{alert("Error al leer el archivo de respaldo. Asegrate de que sea un archivo JSON vlido.")}},be.readAsText(he),se.target.value=""},k=async se=>{try{if(!i){h([...d,se]);return}await I_(kt(Xa,se.id),se)}catch(he){console.error("Error adding ingredient",he)}},M=async(se,he)=>{if(i)try{await P_(kt(Xa,se),he);const be=d.map(te=>te.id===se?{...te,...he}:te),Te=[];if(m.forEach(te=>{if(!te.recipe||te.recipe.length===0)return;const W=te.recipe.reduce((_e,ge)=>{const re=be.find(Me=>Me.id===ge.ingredientId);return _e+ge.quantity*((re==null?void 0:re.costPerUnit)||0)},0);W!==te.costPrice&&Te.push({...te,costPrice:W})}),Te.length>0){const te=Cu(Ei);Te.forEach(W=>{te.update(kt(Pu,W.id),{costPrice:W.costPrice})}),await te.commit()}}catch(be){console.error("Error updating ingredient",be)}},V=async se=>{i&&await N_(kt(Xa,se))},U=async se=>{i&&await I_(kt(Pu,se.id),se)},B=async(se,he)=>{i&&await P_(kt(Pu,se),he)},H=async se=>{i&&await N_(kt(Pu,se))},Se=async se=>{i&&await I_(kt(ol,se.id),se)},we=async(se,he)=>{i&&await P_(kt(ol,se),he)},X=async se=>{i&&await N_(kt(ol,se))},ue=async se=>{if(i)try{const he=Cu(Ei),be=kt(Iu,se.id);he.set(be,se),se.items.forEach(Te=>{const te=m.find(W=>W.id===Te.productId);te&&te.recipe&&te.recipe.forEach(W=>{const _e=d.find(ge=>ge.id===W.ingredientId);if(_e){const ge=W.quantity*Te.quantity,re=Math.max(0,_e.quantity-ge),Me=kt(Xa,_e.id);he.update(Me,{quantity:re})}})}),await he.commit(),q("Venta Registrada","La venta se guard y el inventario se actualiz.")}catch(he){console.error("Error adding sale",he),q("Error","No se pudo guardar la venta.")}},ye=async(se,he)=>{if(!i)return;const be=E.find(Te=>Te.id===se);if(be)try{const Te=Cu(Ei),te={paymentStatus:"paid",paymentMethod:he.paymentMethod,amountPaid:he.amountPaid,change:he.change,addToBalance:he.addToBalance},W=kt(Iu,se);if(Te.update(W,te),be.clientId){let _e=0;if(he.paymentMethod==="balance"&&(_e-=be.totalPrice),he.paymentMethod==="cash"&&he.addToBalance&&he.change&&(_e+=he.change),_e!==0){const ge=x.find(re=>re.id===be.clientId);if(ge){const re=kt(ol,be.clientId);Te.update(re,{balance:(ge.balance||0)+_e})}}}await Te.commit(),q("Pago Registrado","El estado del pago se ha actualizado.")}catch(Te){console.error("Error processing payment",Te),q("Error","No se pudo registrar el pago.")}},ve=async(se,he)=>{if(i)try{const be=Cu(Ei),Te=kt(Iu,se);if(he.items){const te=E.find(W=>W.id===se);if(te){te.items&&te.items.forEach(ge=>{const re=m.find(Me=>Me.id===ge.productId);re&&re.recipe&&re.recipe.forEach(Me=>{const Le=d.find(it=>it.id===Me.ingredientId)})});const W=new Map,_e=(ge,re)=>{const Me=W.get(ge)||0;W.set(ge,Me+re)};if(te.items)te.items.forEach(ge=>{const re=m.find(Me=>Me.id===ge.productId);re&&re.recipe&&re.recipe.forEach(Me=>_e(Me.ingredientId,Me.quantity*ge.quantity))});else if(te.productId){const ge=te,re=m.find(Me=>Me.id===ge.productId);re&&re.recipe&&re.recipe.forEach(Me=>_e(Me.ingredientId,Me.quantity*ge.quantity))}he.items.forEach(ge=>{const re=m.find(Me=>Me.id===ge.productId);re&&re.recipe&&re.recipe.forEach(Me=>_e(Me.ingredientId,-(Me.quantity*ge.quantity)))}),W.forEach((ge,re)=>{const Me=d.find(Le=>Le.id===re);if(Me){const Le=Math.max(0,Me.quantity+ge);be.update(kt(Xa,re),{quantity:Le})}})}}if(be.update(Te,he),he.addToBalance&&he.change&&he.change>0&&he.clientId){const te=x.find(W=>W.id===he.clientId);te&&be.update(kt(ol,he.clientId),{balance:(te.balance||0)+(he.change||0)})}await be.commit(),q("Venta Actualizada","Los cambios se han guardado correctamente.")}catch(be){console.error("Error updating sale",be),q("Error","No se pudo actualizar la venta")}},Ve=async se=>{if(!i)return;const he=E.find(be=>be.id===se);if(he)try{const be=Cu(Ei),Te=new Map,te=(W,_e)=>{const ge=Te.get(W)||0;Te.set(W,ge+_e)};if(he.items&&he.items.length>0)he.items.forEach(W=>{const _e=m.find(ge=>ge.id===W.productId);_e&&_e.recipe&&_e.recipe.forEach(ge=>te(ge.ingredientId,ge.quantity*W.quantity))});else if(he.productId){const W=he,_e=m.find(ge=>ge.id===W.productId);_e&&_e.recipe&&_e.recipe.forEach(ge=>te(ge.ingredientId,ge.quantity*W.quantity))}Te.forEach((W,_e)=>{const ge=d.find(re=>re.id===_e);ge&&be.update(kt(Xa,_e),{quantity:ge.quantity+W})}),be.delete(kt(Iu,se)),await be.commit(),q("Operacin Exitosa","Pedido eliminado y stock restaurado.")}catch(be){console.error("Error deleting sale",be),q("Error","No se pudo eliminar el pedido.")}},K=()=>{confirm("Ests seguro? Esto borrar todos tus datos actuales y restaurar el ejemplo inicial.")&&(h(AO),v(wO),A(IO),C(CO))},le=[{id:"dashboard",label:"Panel General",icon:EB},{id:"sales",label:"Ventas",icon:gE},{id:"kitchen",label:"Cocina / Comandas",icon:eB},{id:"clients",label:"Clientes",icon:tj},{id:"products",label:"Productos",icon:kO},{id:"inventory",label:"Inventario",icon:MB},{id:"ai-assistant",label:"Asistente IA",icon:OO}];return S.jsxs("div",{className:"min-h-screen flex bg-[#fdf8f6]",children:[S.jsx(qge,{toasts:R,onDismiss:F}),n&&S.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>r(!1)}),S.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-stone-200 transform transition-transform duration-300 ease-in-out
        md:relative md:translate-x-0
        ${n?"translate-x-0":"-translate-x-full"}
      `,children:[S.jsxs("div",{className:"p-6 flex items-center gap-3 border-b border-stone-100",children:[S.jsx("div",{className:"bg-amber-100 text-amber-600 p-2 rounded-xl",children:S.jsx(xO,{size:32})}),S.jsxs("h1",{className:"text-lg font-bold text-stone-800 tracking-tight leading-tight",children:["El mesn",S.jsx("br",{}),"DHonorato"]})]}),S.jsx("nav",{className:"p-4 space-y-2",children:le.map(se=>S.jsxs("button",{onClick:()=>{e(se.id),r(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium ${t===se.id?"bg-amber-50 text-amber-700 shadow-sm":"text-stone-500 hover:bg-stone-50 hover:text-stone-700"}`,children:[S.jsx(se.icon,{size:20}),se.label]},se.id))}),S.jsxs("div",{className:"absolute bottom-0 w-full p-4 border-t border-stone-100 bg-stone-50 space-y-3",children:[S.jsx("div",{className:"bg-white border border-stone-200 rounded-xl p-3 shadow-sm mb-2",children:i?S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[i.photoURL?S.jsx("img",{src:i.photoURL,alt:"User",className:"w-8 h-8 rounded-full"}):S.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 text-amber-600 flex items-center justify-center font-bold",children:(Ee=i.email)==null?void 0:Ee[0].toUpperCase()}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"text-xs font-bold text-stone-700 truncate",children:i.displayName||"Usuario"}),S.jsxs("p",{className:"text-[10px] text-stone-400 truncate flex items-center gap-1",children:[S.jsx(iB,{size:10,className:l?"animate-pulse text-amber-500":"text-emerald-500"}),"En la Nube"]})]})]}),S.jsxs("button",{onClick:n$,className:"w-full flex items-center justify-center gap-1.5 bg-stone-100 hover:bg-stone-200 text-stone-600 text-[10px] py-1.5 rounded-lg transition-colors",children:[S.jsx(AB,{size:12})," Cerrar Sesin"]})]}):S.jsxs("div",{className:"text-center space-y-2",children:[S.jsx("p",{className:"text-xs text-stone-500 mb-1",children:"Para guardar en la nube:"}),S.jsxs("button",{onClick:t$,className:"w-full flex items-center justify-center gap-1.5 bg-white border border-stone-300 hover:bg-stone-50 text-stone-700 text-xs py-2 rounded-lg transition-colors font-medium",children:[S.jsx(SB,{size:14})," Entrar con Google"]})]})}),S.jsxs("div",{className:"flex items-center gap-2 mb-1 px-1",children:[S.jsx("div",{className:`w-2 h-2 rounded-full ${l?"animate-pulse bg-amber-500":i?"bg-emerald-500":"bg-stone-400"}`}),S.jsx("span",{className:"text-xs font-semibold text-stone-500",children:i?l?"Sincronizando...":"Sincronizado":"Guardado Local"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[S.jsxs("button",{onClick:G,className:"flex items-center justify-center gap-1.5 bg-white border border-stone-200 hover:bg-stone-100 hover:text-amber-600 text-stone-600 text-xs py-2.5 rounded-lg transition-colors shadow-sm",title:"Descargar copia de seguridad en tu PC",children:[S.jsx(hB,{size:14})," Respaldar"]}),S.jsxs("label",{className:"flex items-center justify-center gap-1.5 bg-white border border-stone-200 hover:bg-stone-100 hover:text-amber-600 text-stone-600 text-xs py-2.5 rounded-lg transition-colors shadow-sm cursor-pointer",children:[S.jsx(QB,{size:14})," Cargar",S.jsx("input",{type:"file",onChange:O,accept:".json",className:"hidden"})]})]}),S.jsx("button",{onClick:K,className:"w-full flex items-center justify-center gap-2 text-[10px] text-stone-300 hover:text-red-500 transition-colors pt-2 uppercase tracking-wider font-bold",children:"Resetear Fbrica"})]})]}),S.jsxs("main",{className:"flex-1 overflow-y-auto h-screen",children:[S.jsxs("header",{className:"bg-white border-b border-stone-100 p-4 md:hidden sticky top-0 z-30 flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"bg-amber-100 text-amber-600 p-1.5 rounded-lg",children:S.jsx(xO,{size:24})}),S.jsx("span",{className:"font-bold text-stone-800",children:"El mesn DHonorato"})]}),S.jsx("button",{onClick:()=>r(!n),className:"p-2 text-stone-600",children:n?S.jsx(Pi,{size:24}):S.jsx(NB,{size:24})})]}),S.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto",children:[t==="dashboard"&&S.jsx(ece,{data:{ingredients:d,products:m,sales:E,clients:x}}),t==="inventory"&&S.jsx(tce,{ingredients:d,onAdd:k,onUpdate:M,onDelete:V}),t==="products"&&S.jsx(nce,{products:m,ingredients:d,onAdd:U,onUpdate:B,onDelete:H}),t==="clients"&&S.jsx(Lge,{clients:x,sales:E,onAdd:Se,onUpdate:we,onDelete:X}),t==="sales"&&S.jsx(rce,{products:m,sales:E,clients:x,onAddSale:ue,onUpdateSale:ve,onAddClient:Se,onDeleteSale:Ve}),t==="kitchen"&&S.jsx(Uge,{sales:E,products:m,ingredients:d,clients:x,onUpdateSale:ve,onProcessPayment:ye,onDeleteSale:Ve}),t==="ai-assistant"&&S.jsx(kge,{data:{ingredients:d,products:m,sales:E,clients:x}})]})]})]})},$5=document.getElementById("root");if(!$5)throw new Error("Could not find root element to mount to");const jge=Lz.createRoot($5);jge.render(S.jsx(eS.StrictMode,{children:S.jsx(Bge,{})}));
